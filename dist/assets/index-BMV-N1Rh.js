function yf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var sc={exports:{}},oi={},ic={exports:{}},A={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=Symbol.for("react.element"),xf=Symbol.for("react.portal"),kf=Symbol.for("react.fragment"),_f=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),jf=Symbol.for("react.provider"),bf=Symbol.for("react.context"),Ef=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),Cf=Symbol.for("react.memo"),Pf=Symbol.for("react.lazy"),Sl=Symbol.iterator;function Tf(e){return e===null||typeof e!="object"?null:(e=Sl&&e[Sl]||e["@@iterator"],typeof e=="function"?e:null)}var oc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ac=Object.assign,lc={};function zr(e,t,r){this.props=e,this.context=t,this.refs=lc,this.updater=r||oc}zr.prototype.isReactComponent={};zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uc(){}uc.prototype=zr.prototype;function ya(e,t,r){this.props=e,this.context=t,this.refs=lc,this.updater=r||oc}var va=ya.prototype=new uc;va.constructor=ya;ac(va,zr.prototype);va.isPureReactComponent=!0;var jl=Array.isArray,cc=Object.prototype.hasOwnProperty,wa={current:null},dc={key:!0,ref:!0,__self:!0,__source:!0};function hc(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)cc.call(t,n)&&!dc.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Dn,type:e,key:i,ref:o,props:s,_owner:wa.current}}function Of(e,t){return{$$typeof:Dn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dn}function Rf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bl=/\/+/g;function Ai(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rf(""+e.key):t.toString(36)}function ks(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Dn:case xf:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ai(o,0):n,jl(s)?(r="",e!=null&&(r=e.replace(bl,"$&/")+"/"),ks(s,t,r,"",function(c){return c})):s!=null&&(xa(s)&&(s=Of(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bl,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",jl(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Ai(i,a);o+=ks(i,t,r,l,s)}else if(l=Tf(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Ai(i,a++),o+=ks(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xn(e,t,r){if(e==null)return e;var n=[],s=0;return ks(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Lf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ge={current:null},_s={transition:null},$f={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:_s,ReactCurrentOwner:wa};function fc(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:Xn,forEach:function(e,t,r){Xn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xn(e,function(){t++}),t},toArray:function(e){return Xn(e,function(t){return t})||[]},only:function(e){if(!xa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};A.Component=zr;A.Fragment=kf;A.Profiler=Sf;A.PureComponent=ya;A.StrictMode=_f;A.Suspense=Nf;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$f;A.act=fc;A.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ac({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=wa.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)cc.call(t,l)&&!dc.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Dn,type:e.type,key:s,ref:i,props:n,_owner:o}};A.createContext=function(e){return e={$$typeof:bf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jf,_context:e},e.Consumer=e};A.createElement=hc;A.createFactory=function(e){var t=hc.bind(null,e);return t.type=e,t};A.createRef=function(){return{current:null}};A.forwardRef=function(e){return{$$typeof:Ef,render:e}};A.isValidElement=xa;A.lazy=function(e){return{$$typeof:Pf,_payload:{_status:-1,_result:e},_init:Lf}};A.memo=function(e,t){return{$$typeof:Cf,type:e,compare:t===void 0?null:t}};A.startTransition=function(e){var t=_s.transition;_s.transition={};try{e()}finally{_s.transition=t}};A.unstable_act=fc;A.useCallback=function(e,t){return ge.current.useCallback(e,t)};A.useContext=function(e){return ge.current.useContext(e)};A.useDebugValue=function(){};A.useDeferredValue=function(e){return ge.current.useDeferredValue(e)};A.useEffect=function(e,t){return ge.current.useEffect(e,t)};A.useId=function(){return ge.current.useId()};A.useImperativeHandle=function(e,t,r){return ge.current.useImperativeHandle(e,t,r)};A.useInsertionEffect=function(e,t){return ge.current.useInsertionEffect(e,t)};A.useLayoutEffect=function(e,t){return ge.current.useLayoutEffect(e,t)};A.useMemo=function(e,t){return ge.current.useMemo(e,t)};A.useReducer=function(e,t,r){return ge.current.useReducer(e,t,r)};A.useRef=function(e){return ge.current.useRef(e)};A.useState=function(e){return ge.current.useState(e)};A.useSyncExternalStore=function(e,t,r){return ge.current.useSyncExternalStore(e,t,r)};A.useTransition=function(){return ge.current.useTransition()};A.version="18.3.1";ic.exports=A;var w=ic.exports;const Af=vf(w),If=yf({__proto__:null,default:Af},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=w,Mf=Symbol.for("react.element"),Df=Symbol.for("react.fragment"),zf=Object.prototype.hasOwnProperty,Ff=Uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bf={key:!0,ref:!0,__self:!0,__source:!0};function pc(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)zf.call(t,n)&&!Bf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Mf,type:e,key:i,ref:o,props:s,_owner:Ff.current}}oi.Fragment=Df;oi.jsx=pc;oi.jsxs=pc;sc.exports=oi;var u=sc.exports,mc={exports:{}},Te={},gc={exports:{}},yc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,R){var $=N.length;N.push(R);e:for(;0<$;){var Q=$-1>>>1,re=N[Q];if(0<s(re,R))N[Q]=R,N[$]=re,$=Q;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var R=N[0],$=N.pop();if($!==R){N[0]=$;e:for(var Q=0,re=N.length,Yn=re>>>1;Q<Yn;){var Ut=2*(Q+1)-1,$i=N[Ut],Mt=Ut+1,Zn=N[Mt];if(0>s($i,$))Mt<re&&0>s(Zn,$i)?(N[Q]=Zn,N[Mt]=$,Q=Mt):(N[Q]=$i,N[Ut]=$,Q=Ut);else if(Mt<re&&0>s(Zn,$))N[Q]=Zn,N[Mt]=$,Q=Mt;else break e}}return R}function s(N,R){var $=N.sortIndex-R.sortIndex;return $!==0?$:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=N)n(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=r(c)}}function k(N){if(x=!1,y(N),!v)if(r(l)!==null)v=!0,or(j);else{var R=r(c);R!==null&&Li(k,R.startTime-N)}}function j(N,R){v=!1,x&&(x=!1,m(P),P=-1),g=!0;var $=f;try{for(y(R),h=r(l);h!==null&&(!(h.expirationTime>R)||N&&!ue());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var re=Q(h.expirationTime<=R);R=e.unstable_now(),typeof re=="function"?h.callback=re:h===r(l)&&n(l),y(R)}else n(l);h=r(l)}if(h!==null)var Yn=!0;else{var Ut=r(c);Ut!==null&&Li(k,Ut.startTime-R),Yn=!1}return Yn}finally{h=null,f=$,g=!1}}var C=!1,b=null,P=-1,D=5,T=-1;function ue(){return!(e.unstable_now()-T<D)}function It(){if(b!==null){var N=e.unstable_now();T=N;var R=!0;try{R=b(!0,N)}finally{R?Xe():(C=!1,b=null)}}else C=!1}var Xe;if(typeof p=="function")Xe=function(){p(It)};else if(typeof MessageChannel<"u"){var Qn=new MessageChannel,Jn=Qn.port2;Qn.port1.onmessage=It,Xe=function(){Jn.postMessage(null)}}else Xe=function(){_(It,0)};function or(N){b=N,C||(C=!0,Xe())}function Li(N,R){P=_(function(){N(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,or(j))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var $=f;f=R;try{return N()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=f;f=N;try{return R()}finally{f=$}},e.unstable_scheduleCallback=function(N,R,$){var Q=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Q+$:Q):$=Q,N){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=$+re,N={id:d++,callback:R,priorityLevel:N,startTime:$,expirationTime:re,sortIndex:-1},$>Q?(N.sortIndex=$,t(c,N),r(l)===null&&N===r(c)&&(x?(m(P),P=-1):x=!0,Li(k,$-Q))):(N.sortIndex=re,t(l,N),v||g||(v=!0,or(j))),N},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(N){var R=f;return function(){var $=f;f=R;try{return N.apply(this,arguments)}finally{f=$}}}})(yc);gc.exports=yc;var Vf=gc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=w,Pe=Vf;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vc=new Set,wn={};function tr(e,t){Or(e,t),Or(e+"Capture",t)}function Or(e,t){for(wn[e]=t,e=0;e<t.length;e++)vc.add(t[e])}var ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=Object.prototype.hasOwnProperty,Hf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,El={},Nl={};function Gf(e){return po.call(Nl,e)?!0:po.call(El,e)?!1:Hf.test(e)?Nl[e]=!0:(El[e]=!0,!1)}function qf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kf(e,t,r,n){if(t===null||typeof t>"u"||qf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ye(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){le[e]=new ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];le[t]=new ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){le[e]=new ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){le[e]=new ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){le[e]=new ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){le[e]=new ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){le[e]=new ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){le[e]=new ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){le[e]=new ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var ka=/[\-:]([a-z])/g;function _a(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ka,_a);le[t]=new ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ka,_a);le[t]=new ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ka,_a);le[t]=new ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){le[e]=new ye(e,1,!1,e.toLowerCase(),null,!1,!1)});le.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){le[e]=new ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sa(e,t,r,n){var s=le.hasOwnProperty(t)?le[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kf(t,r,s,n)&&(r=null),n||s===null?Gf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ct=Wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),dr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),ja=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),wc=Symbol.for("react.provider"),xc=Symbol.for("react.context"),ba=Symbol.for("react.forward_ref"),go=Symbol.for("react.suspense"),yo=Symbol.for("react.suspense_list"),Ea=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),kc=Symbol.for("react.offscreen"),Cl=Symbol.iterator;function Gr(e){return e===null||typeof e!="object"?null:(e=Cl&&e[Cl]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,Ii;function rn(e){if(Ii===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ii=t&&t[1]||""}return`
`+Ii+e}var Ui=!1;function Mi(e,t){if(!e||Ui)return"";Ui=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ui=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rn(e):""}function Qf(e){switch(e.tag){case 5:return rn(e.type);case 16:return rn("Lazy");case 13:return rn("Suspense");case 19:return rn("SuspenseList");case 0:case 2:case 15:return e=Mi(e.type,!1),e;case 11:return e=Mi(e.type.render,!1),e;case 1:return e=Mi(e.type,!0),e;default:return""}}function vo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hr:return"Fragment";case dr:return"Portal";case mo:return"Profiler";case ja:return"StrictMode";case go:return"Suspense";case yo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xc:return(e.displayName||"Context")+".Consumer";case wc:return(e._context.displayName||"Context")+".Provider";case ba:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ea:return t=e.displayName||null,t!==null?t:vo(e.type)||"Memo";case pt:t=e._payload,e=e._init;try{return vo(e(t))}catch{}}return null}function Jf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vo(t);case 8:return t===ja?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ot(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _c(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yf(e){var t=_c(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){e._valueTracker||(e._valueTracker=Yf(e))}function Sc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_c(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wo(e,t){var r=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pl(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ot(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jc(e,t){t=t.checked,t!=null&&Sa(e,"checked",t,!1)}function xo(e,t){jc(e,t);var r=Ot(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ko(e,t.type,r):t.hasOwnProperty("defaultValue")&&ko(e,t.type,Ot(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ko(e,t,r){(t!=="number"||$s(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nn=Array.isArray;function Sr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ot(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _o(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ol(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(S(92));if(nn(r)){if(1<r.length)throw Error(S(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ot(r)}}function bc(e,t){var r=Ot(t.value),n=Ot(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Rl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ec(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function So(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ec(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rs,Nc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zf=["Webkit","ms","Moz","O"];Object.keys(ln).forEach(function(e){Zf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ln[t]=ln[e]})});function Cc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ln.hasOwnProperty(e)&&ln[e]?(""+t).trim():t+"px"}function Pc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Cc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Xf=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jo(e,t){if(t){if(Xf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=null;function Na(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var No=null,jr=null,br=null;function Ll(e){if(e=Bn(e)){if(typeof No!="function")throw Error(S(280));var t=e.stateNode;t&&(t=di(t),No(e.stateNode,e.type,t))}}function Tc(e){jr?br?br.push(e):br=[e]:jr=e}function Oc(){if(jr){var e=jr,t=br;if(br=jr=null,Ll(e),t)for(e=0;e<t.length;e++)Ll(t[e])}}function Rc(e,t){return e(t)}function Lc(){}var Di=!1;function $c(e,t,r){if(Di)return e(t,r);Di=!0;try{return Rc(e,t,r)}finally{Di=!1,(jr!==null||br!==null)&&(Lc(),Oc())}}function kn(e,t){var r=e.stateNode;if(r===null)return null;var n=di(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(S(231,t,typeof r));return r}var Co=!1;if(ot)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Co=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Co=!1}function ep(e,t,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var un=!1,As=null,Is=!1,Po=null,tp={onError:function(e){un=!0,As=e}};function rp(e,t,r,n,s,i,o,a,l){un=!1,As=null,ep.apply(tp,arguments)}function np(e,t,r,n,s,i,o,a,l){if(rp.apply(this,arguments),un){if(un){var c=As;un=!1,As=null}else throw Error(S(198));Is||(Is=!0,Po=c)}}function rr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ac(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $l(e){if(rr(e)!==e)throw Error(S(188))}function sp(e){var t=e.alternate;if(!t){if(t=rr(e),t===null)throw Error(S(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return $l(s),e;if(i===n)return $l(s),t;i=i.sibling}throw Error(S(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(S(189))}}if(r.alternate!==n)throw Error(S(190))}if(r.tag!==3)throw Error(S(188));return r.stateNode.current===r?e:t}function Ic(e){return e=sp(e),e!==null?Uc(e):null}function Uc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Uc(e);if(t!==null)return t;e=e.sibling}return null}var Mc=Pe.unstable_scheduleCallback,Al=Pe.unstable_cancelCallback,ip=Pe.unstable_shouldYield,op=Pe.unstable_requestPaint,J=Pe.unstable_now,ap=Pe.unstable_getCurrentPriorityLevel,Ca=Pe.unstable_ImmediatePriority,Dc=Pe.unstable_UserBlockingPriority,Us=Pe.unstable_NormalPriority,lp=Pe.unstable_LowPriority,zc=Pe.unstable_IdlePriority,ai=null,Ye=null;function up(e){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ai,e,void 0,(e.current.flags&128)===128)}catch{}}var We=Math.clz32?Math.clz32:hp,cp=Math.log,dp=Math.LN2;function hp(e){return e>>>=0,e===0?32:31-(cp(e)/dp|0)|0}var ns=64,ss=4194304;function sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ms(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=sn(a):(i&=o,i!==0&&(n=sn(i)))}else o=r&~s,o!==0?n=sn(o):i!==0&&(n=sn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-We(t),s=1<<r,n|=e[r],t&=~s;return n}function fp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-We(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=fp(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function To(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fc(){var e=ns;return ns<<=1,!(ns&4194240)&&(ns=64),e}function zi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-We(t),e[t]=r}function mp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-We(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Pa(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-We(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var M=0;function Bc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vc,Ta,Wc,Hc,Gc,Oo=!1,is=[],St=null,jt=null,bt=null,_n=new Map,Sn=new Map,yt=[],gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Il(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":bt=null;break;case"pointerover":case"pointerout":_n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(t.pointerId)}}function Kr(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Bn(t),t!==null&&Ta(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function yp(e,t,r,n,s){switch(t){case"focusin":return St=Kr(St,e,t,r,n,s),!0;case"dragenter":return jt=Kr(jt,e,t,r,n,s),!0;case"mouseover":return bt=Kr(bt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return _n.set(i,Kr(_n.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Sn.set(i,Kr(Sn.get(i)||null,e,t,r,n,s)),!0}return!1}function qc(e){var t=Wt(e.target);if(t!==null){var r=rr(t);if(r!==null){if(t=r.tag,t===13){if(t=Ac(r),t!==null){e.blockedOn=t,Gc(e.priority,function(){Wc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ss(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ro(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Eo=n,r.target.dispatchEvent(n),Eo=null}else return t=Bn(r),t!==null&&Ta(t),e.blockedOn=r,!1;t.shift()}return!0}function Ul(e,t,r){Ss(e)&&r.delete(t)}function vp(){Oo=!1,St!==null&&Ss(St)&&(St=null),jt!==null&&Ss(jt)&&(jt=null),bt!==null&&Ss(bt)&&(bt=null),_n.forEach(Ul),Sn.forEach(Ul)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,Oo||(Oo=!0,Pe.unstable_scheduleCallback(Pe.unstable_NormalPriority,vp)))}function jn(e){function t(s){return Qr(s,e)}if(0<is.length){Qr(is[0],e);for(var r=1;r<is.length;r++){var n=is[r];n.blockedOn===e&&(n.blockedOn=null)}}for(St!==null&&Qr(St,e),jt!==null&&Qr(jt,e),bt!==null&&Qr(bt,e),_n.forEach(t),Sn.forEach(t),r=0;r<yt.length;r++)n=yt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yt.length&&(r=yt[0],r.blockedOn===null);)qc(r),r.blockedOn===null&&yt.shift()}var Er=ct.ReactCurrentBatchConfig,Ds=!0;function wp(e,t,r,n){var s=M,i=Er.transition;Er.transition=null;try{M=1,Oa(e,t,r,n)}finally{M=s,Er.transition=i}}function xp(e,t,r,n){var s=M,i=Er.transition;Er.transition=null;try{M=4,Oa(e,t,r,n)}finally{M=s,Er.transition=i}}function Oa(e,t,r,n){if(Ds){var s=Ro(e,t,r,n);if(s===null)Ji(e,t,n,zs,r),Il(e,n);else if(yp(s,e,t,r,n))n.stopPropagation();else if(Il(e,n),t&4&&-1<gp.indexOf(e)){for(;s!==null;){var i=Bn(s);if(i!==null&&Vc(i),i=Ro(e,t,r,n),i===null&&Ji(e,t,n,zs,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ji(e,t,n,null,r)}}var zs=null;function Ro(e,t,r,n){if(zs=null,e=Na(n),e=Wt(e),e!==null)if(t=rr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ac(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zs=e,null}function Kc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ap()){case Ca:return 1;case Dc:return 4;case Us:case lp:return 16;case zc:return 536870912;default:return 16}default:return 16}}var xt=null,Ra=null,js=null;function Qc(){if(js)return js;var e,t=Ra,r=t.length,n,s="value"in xt?xt.value:xt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return js=s.slice(e,1<n?1-n:void 0)}function bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function os(){return!0}function Ml(){return!1}function Oe(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?os:Ml,this.isPropagationStopped=Ml,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),t}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Oe(Fr),Fn=q({},Fr,{view:0,detail:0}),kp=Oe(Fn),Fi,Bi,Jr,li=q({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(Fi=e.screenX-Jr.screenX,Bi=e.screenY-Jr.screenY):Bi=Fi=0,Jr=e),Fi)},movementY:function(e){return"movementY"in e?e.movementY:Bi}}),Dl=Oe(li),_p=q({},li,{dataTransfer:0}),Sp=Oe(_p),jp=q({},Fn,{relatedTarget:0}),Vi=Oe(jp),bp=q({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ep=Oe(bp),Np=q({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cp=Oe(Np),Pp=q({},Fr,{data:0}),zl=Oe(Pp),Tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rp[e])?!!t[e]:!1}function $a(){return Lp}var $p=q({},Fn,{key:function(e){if(e.key){var t=Tp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Op[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ap=Oe($p),Ip=q({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fl=Oe(Ip),Up=q({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),Mp=Oe(Up),Dp=q({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zp=Oe(Dp),Fp=q({},li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bp=Oe(Fp),Vp=[9,13,27,32],Aa=ot&&"CompositionEvent"in window,cn=null;ot&&"documentMode"in document&&(cn=document.documentMode);var Wp=ot&&"TextEvent"in window&&!cn,Jc=ot&&(!Aa||cn&&8<cn&&11>=cn),Bl=" ",Vl=!1;function Yc(e,t){switch(e){case"keyup":return Vp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function Hp(e,t){switch(e){case"compositionend":return Zc(t);case"keypress":return t.which!==32?null:(Vl=!0,Bl);case"textInput":return e=t.data,e===Bl&&Vl?null:e;default:return null}}function Gp(e,t){if(fr)return e==="compositionend"||!Aa&&Yc(e,t)?(e=Qc(),js=Ra=xt=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jc&&t.locale!=="ko"?null:t.data;default:return null}}var qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qp[e.type]:t==="textarea"}function Xc(e,t,r,n){Tc(n),t=Fs(t,"onChange"),0<t.length&&(r=new La("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dn=null,bn=null;function Kp(e){cd(e,0)}function ui(e){var t=gr(e);if(Sc(t))return e}function Qp(e,t){if(e==="change")return t}var ed=!1;if(ot){var Wi;if(ot){var Hi="oninput"in document;if(!Hi){var Hl=document.createElement("div");Hl.setAttribute("oninput","return;"),Hi=typeof Hl.oninput=="function"}Wi=Hi}else Wi=!1;ed=Wi&&(!document.documentMode||9<document.documentMode)}function Gl(){dn&&(dn.detachEvent("onpropertychange",td),bn=dn=null)}function td(e){if(e.propertyName==="value"&&ui(bn)){var t=[];Xc(t,bn,e,Na(e)),$c(Kp,t)}}function Jp(e,t,r){e==="focusin"?(Gl(),dn=t,bn=r,dn.attachEvent("onpropertychange",td)):e==="focusout"&&Gl()}function Yp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ui(bn)}function Zp(e,t){if(e==="click")return ui(t)}function Xp(e,t){if(e==="input"||e==="change")return ui(t)}function e0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ge=typeof Object.is=="function"?Object.is:e0;function En(e,t){if(Ge(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!po.call(t,s)||!Ge(e[s],t[s]))return!1}return!0}function ql(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kl(e,t){var r=ql(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ql(r)}}function rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nd(){for(var e=window,t=$s();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$s(e.document)}return t}function Ia(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function t0(e){var t=nd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&rd(r.ownerDocument.documentElement,r)){if(n!==null&&Ia(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Kl(r,i);var o=Kl(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var r0=ot&&"documentMode"in document&&11>=document.documentMode,pr=null,Lo=null,hn=null,$o=!1;function Ql(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$o||pr==null||pr!==$s(n)||(n=pr,"selectionStart"in n&&Ia(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hn&&En(hn,n)||(hn=n,n=Fs(Lo,"onSelect"),0<n.length&&(t=new La("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=pr)))}function as(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mr={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},Gi={},sd={};ot&&(sd=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function ci(e){if(Gi[e])return Gi[e];if(!mr[e])return e;var t=mr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sd)return Gi[e]=t[r];return e}var id=ci("animationend"),od=ci("animationiteration"),ad=ci("animationstart"),ld=ci("transitionend"),ud=new Map,Jl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lt(e,t){ud.set(e,t),tr(t,[e])}for(var qi=0;qi<Jl.length;qi++){var Ki=Jl[qi],n0=Ki.toLowerCase(),s0=Ki[0].toUpperCase()+Ki.slice(1);Lt(n0,"on"+s0)}Lt(id,"onAnimationEnd");Lt(od,"onAnimationIteration");Lt(ad,"onAnimationStart");Lt("dblclick","onDoubleClick");Lt("focusin","onFocus");Lt("focusout","onBlur");Lt(ld,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var on="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i0=new Set("cancel close invalid load scroll toggle".split(" ").concat(on));function Yl(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,np(n,t,void 0,e),e.currentTarget=null}function cd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Yl(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Yl(s,a,c),i=l}}}if(Is)throw e=Po,Is=!1,Po=null,e}function B(e,t){var r=t[Do];r===void 0&&(r=t[Do]=new Set);var n=e+"__bubble";r.has(n)||(dd(t,e,2,!1),r.add(n))}function Qi(e,t,r){var n=0;t&&(n|=4),dd(r,e,n,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function Nn(e){if(!e[ls]){e[ls]=!0,vc.forEach(function(r){r!=="selectionchange"&&(i0.has(r)||Qi(r,!1,e),Qi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Qi("selectionchange",!1,t))}}function dd(e,t,r,n){switch(Kc(t)){case 1:var s=wp;break;case 4:s=xp;break;default:s=Oa}r=s.bind(null,t,r,e),s=void 0,!Co||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ji(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Wt(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}$c(function(){var c=i,d=Na(r),h=[];e:{var f=ud.get(e);if(f!==void 0){var g=La,v=e;switch(e){case"keypress":if(bs(r)===0)break e;case"keydown":case"keyup":g=Ap;break;case"focusin":v="focus",g=Vi;break;case"focusout":v="blur",g=Vi;break;case"beforeblur":case"afterblur":g=Vi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Mp;break;case id:case od:case ad:g=Ep;break;case ld:g=zp;break;case"scroll":g=kp;break;case"wheel":g=Bp;break;case"copy":case"cut":case"paste":g=Cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Fl}var x=(t&4)!==0,_=!x&&e==="scroll",m=x?f!==null?f+"Capture":null:f;x=[];for(var p=c,y;p!==null;){y=p;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,m!==null&&(k=kn(p,m),k!=null&&x.push(Cn(p,k,y)))),_)break;p=p.return}0<x.length&&(f=new g(f,v,null,r,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&r!==Eo&&(v=r.relatedTarget||r.fromElement)&&(Wt(v)||v[at]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=c,v=v?Wt(v):null,v!==null&&(_=rr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(x=Dl,k="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Fl,k="onPointerLeave",m="onPointerEnter",p="pointer"),_=g==null?f:gr(g),y=v==null?f:gr(v),f=new x(k,p+"leave",g,r,d),f.target=_,f.relatedTarget=y,k=null,Wt(d)===c&&(x=new x(m,p+"enter",v,r,d),x.target=y,x.relatedTarget=_,k=x),_=k,g&&v)t:{for(x=g,m=v,p=0,y=x;y;y=ar(y))p++;for(y=0,k=m;k;k=ar(k))y++;for(;0<p-y;)x=ar(x),p--;for(;0<y-p;)m=ar(m),y--;for(;p--;){if(x===m||m!==null&&x===m.alternate)break t;x=ar(x),m=ar(m)}x=null}else x=null;g!==null&&Zl(h,f,g,x,!1),v!==null&&_!==null&&Zl(h,_,v,x,!0)}}e:{if(f=c?gr(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=Qp;else if(Wl(f))if(ed)j=Xp;else{j=Yp;var C=Jp}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Zp);if(j&&(j=j(e,c))){Xc(h,j,r,d);break e}C&&C(e,f,c),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&ko(f,"number",f.value)}switch(C=c?gr(c):window,e){case"focusin":(Wl(C)||C.contentEditable==="true")&&(pr=C,Lo=c,hn=null);break;case"focusout":hn=Lo=pr=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,Ql(h,r,d);break;case"selectionchange":if(r0)break;case"keydown":case"keyup":Ql(h,r,d)}var b;if(Aa)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else fr?Yc(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Jc&&r.locale!=="ko"&&(fr||P!=="onCompositionStart"?P==="onCompositionEnd"&&fr&&(b=Qc()):(xt=d,Ra="value"in xt?xt.value:xt.textContent,fr=!0)),C=Fs(c,P),0<C.length&&(P=new zl(P,e,null,r,d),h.push({event:P,listeners:C}),b?P.data=b:(b=Zc(r),b!==null&&(P.data=b)))),(b=Wp?Hp(e,r):Gp(e,r))&&(c=Fs(c,"onBeforeInput"),0<c.length&&(d=new zl("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=b))}cd(h,t)})}function Cn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fs(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kn(e,r),i!=null&&n.unshift(Cn(e,i,s)),i=kn(e,t),i!=null&&n.push(Cn(e,i,s))),e=e.return}return n}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zl(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=kn(r,i),l!=null&&o.unshift(Cn(r,l,a))):s||(l=kn(r,i),l!=null&&o.push(Cn(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var o0=/\r\n?/g,a0=/\u0000|\uFFFD/g;function Xl(e){return(typeof e=="string"?e:""+e).replace(o0,`
`).replace(a0,"")}function us(e,t,r){if(t=Xl(t),Xl(e)!==t&&r)throw Error(S(425))}function Bs(){}var Ao=null,Io=null;function Uo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mo=typeof setTimeout=="function"?setTimeout:void 0,l0=typeof clearTimeout=="function"?clearTimeout:void 0,eu=typeof Promise=="function"?Promise:void 0,u0=typeof queueMicrotask=="function"?queueMicrotask:typeof eu<"u"?function(e){return eu.resolve(null).then(e).catch(c0)}:Mo;function c0(e){setTimeout(function(){throw e})}function Yi(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),jn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);jn(t)}function Et(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),Je="__reactFiber$"+Br,Pn="__reactProps$"+Br,at="__reactContainer$"+Br,Do="__reactEvents$"+Br,d0="__reactListeners$"+Br,h0="__reactHandles$"+Br;function Wt(e){var t=e[Je];if(t)return t;for(var r=e.parentNode;r;){if(t=r[at]||r[Je]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=tu(e);e!==null;){if(r=e[Je])return r;e=tu(e)}return t}e=r,r=e.parentNode}return null}function Bn(e){return e=e[Je]||e[at],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function di(e){return e[Pn]||null}var zo=[],yr=-1;function $t(e){return{current:e}}function V(e){0>yr||(e.current=zo[yr],zo[yr]=null,yr--)}function F(e,t){yr++,zo[yr]=e.current,e.current=t}var Rt={},fe=$t(Rt),_e=$t(!1),Jt=Rt;function Rr(e,t){var r=e.type.contextTypes;if(!r)return Rt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Se(e){return e=e.childContextTypes,e!=null}function Vs(){V(_e),V(fe)}function ru(e,t,r){if(fe.current!==Rt)throw Error(S(168));F(fe,t),F(_e,r)}function hd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(S(108,Jf(e)||"Unknown",s));return q({},r,n)}function Ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rt,Jt=fe.current,F(fe,e),F(_e,_e.current),!0}function nu(e,t,r){var n=e.stateNode;if(!n)throw Error(S(169));r?(e=hd(e,t,Jt),n.__reactInternalMemoizedMergedChildContext=e,V(_e),V(fe),F(fe,e)):V(_e),F(_e,r)}var rt=null,hi=!1,Zi=!1;function fd(e){rt===null?rt=[e]:rt.push(e)}function f0(e){hi=!0,fd(e)}function At(){if(!Zi&&rt!==null){Zi=!0;var e=0,t=M;try{var r=rt;for(M=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rt=null,hi=!1}catch(s){throw rt!==null&&(rt=rt.slice(e+1)),Mc(Ca,At),s}finally{M=t,Zi=!1}}return null}var vr=[],wr=0,Hs=null,Gs=0,Re=[],Le=0,Yt=null,nt=1,st="";function zt(e,t){vr[wr++]=Gs,vr[wr++]=Hs,Hs=e,Gs=t}function pd(e,t,r){Re[Le++]=nt,Re[Le++]=st,Re[Le++]=Yt,Yt=e;var n=nt;e=st;var s=32-We(n)-1;n&=~(1<<s),r+=1;var i=32-We(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,nt=1<<32-We(t)+s|r<<s|n,st=i+e}else nt=1<<i|r<<s|n,st=e}function Ua(e){e.return!==null&&(zt(e,1),pd(e,1,0))}function Ma(e){for(;e===Hs;)Hs=vr[--wr],vr[wr]=null,Gs=vr[--wr],vr[wr]=null;for(;e===Yt;)Yt=Re[--Le],Re[Le]=null,st=Re[--Le],Re[Le]=null,nt=Re[--Le],Re[Le]=null}var Ce=null,Ne=null,W=!1,Ve=null;function md(e,t){var r=$e(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function su(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ce=e,Ne=Et(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ce=e,Ne=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Yt!==null?{id:nt,overflow:st}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$e(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ce=e,Ne=null,!0):!1;default:return!1}}function Fo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bo(e){if(W){var t=Ne;if(t){var r=t;if(!su(e,t)){if(Fo(e))throw Error(S(418));t=Et(r.nextSibling);var n=Ce;t&&su(e,t)?md(n,r):(e.flags=e.flags&-4097|2,W=!1,Ce=e)}}else{if(Fo(e))throw Error(S(418));e.flags=e.flags&-4097|2,W=!1,Ce=e}}}function iu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ce=e}function cs(e){if(e!==Ce)return!1;if(!W)return iu(e),W=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uo(e.type,e.memoizedProps)),t&&(t=Ne)){if(Fo(e))throw gd(),Error(S(418));for(;t;)md(e,t),t=Et(t.nextSibling)}if(iu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ne=Et(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ne=null}}else Ne=Ce?Et(e.stateNode.nextSibling):null;return!0}function gd(){for(var e=Ne;e;)e=Et(e.nextSibling)}function Lr(){Ne=Ce=null,W=!1}function Da(e){Ve===null?Ve=[e]:Ve.push(e)}var p0=ct.ReactCurrentBatchConfig;function Yr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(S(309));var n=r.stateNode}if(!n)throw Error(S(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(S(284));if(!r._owner)throw Error(S(290,e))}return e}function ds(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ou(e){var t=e._init;return t(e._payload)}function yd(e){function t(m,p){if(e){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Tt(m,p),m.index=0,m.sibling=null,m}function i(m,p,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,k){return p===null||p.tag!==6?(p=io(y,m.mode,k),p.return=m,p):(p=s(p,y),p.return=m,p)}function l(m,p,y,k){var j=y.type;return j===hr?d(m,p,y.props.children,k,y.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===pt&&ou(j)===p.type)?(k=s(p,y.props),k.ref=Yr(m,p,y),k.return=m,k):(k=Rs(y.type,y.key,y.props,null,m.mode,k),k.ref=Yr(m,p,y),k.return=m,k)}function c(m,p,y,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=oo(y,m.mode,k),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function d(m,p,y,k,j){return p===null||p.tag!==7?(p=Kt(y,m.mode,k,j),p.return=m,p):(p=s(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=io(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case es:return y=Rs(p.type,p.key,p.props,null,m.mode,y),y.ref=Yr(m,null,p),y.return=m,y;case dr:return p=oo(p,m.mode,y),p.return=m,p;case pt:var k=p._init;return h(m,k(p._payload),y)}if(nn(p)||Gr(p))return p=Kt(p,m.mode,y,null),p.return=m,p;ds(m,p)}return null}function f(m,p,y,k){var j=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:a(m,p,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case es:return y.key===j?l(m,p,y,k):null;case dr:return y.key===j?c(m,p,y,k):null;case pt:return j=y._init,f(m,p,j(y._payload),k)}if(nn(y)||Gr(y))return j!==null?null:d(m,p,y,k,null);ds(m,y)}return null}function g(m,p,y,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(y)||null,a(p,m,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case es:return m=m.get(k.key===null?y:k.key)||null,l(p,m,k,j);case dr:return m=m.get(k.key===null?y:k.key)||null,c(p,m,k,j);case pt:var C=k._init;return g(m,p,y,C(k._payload),j)}if(nn(k)||Gr(k))return m=m.get(y)||null,d(p,m,k,j,null);ds(p,k)}return null}function v(m,p,y,k){for(var j=null,C=null,b=p,P=p=0,D=null;b!==null&&P<y.length;P++){b.index>P?(D=b,b=null):D=b.sibling;var T=f(m,b,y[P],k);if(T===null){b===null&&(b=D);break}e&&b&&T.alternate===null&&t(m,b),p=i(T,p,P),C===null?j=T:C.sibling=T,C=T,b=D}if(P===y.length)return r(m,b),W&&zt(m,P),j;if(b===null){for(;P<y.length;P++)b=h(m,y[P],k),b!==null&&(p=i(b,p,P),C===null?j=b:C.sibling=b,C=b);return W&&zt(m,P),j}for(b=n(m,b);P<y.length;P++)D=g(b,m,P,y[P],k),D!==null&&(e&&D.alternate!==null&&b.delete(D.key===null?P:D.key),p=i(D,p,P),C===null?j=D:C.sibling=D,C=D);return e&&b.forEach(function(ue){return t(m,ue)}),W&&zt(m,P),j}function x(m,p,y,k){var j=Gr(y);if(typeof j!="function")throw Error(S(150));if(y=j.call(y),y==null)throw Error(S(151));for(var C=j=null,b=p,P=p=0,D=null,T=y.next();b!==null&&!T.done;P++,T=y.next()){b.index>P?(D=b,b=null):D=b.sibling;var ue=f(m,b,T.value,k);if(ue===null){b===null&&(b=D);break}e&&b&&ue.alternate===null&&t(m,b),p=i(ue,p,P),C===null?j=ue:C.sibling=ue,C=ue,b=D}if(T.done)return r(m,b),W&&zt(m,P),j;if(b===null){for(;!T.done;P++,T=y.next())T=h(m,T.value,k),T!==null&&(p=i(T,p,P),C===null?j=T:C.sibling=T,C=T);return W&&zt(m,P),j}for(b=n(m,b);!T.done;P++,T=y.next())T=g(b,m,P,T.value,k),T!==null&&(e&&T.alternate!==null&&b.delete(T.key===null?P:T.key),p=i(T,p,P),C===null?j=T:C.sibling=T,C=T);return e&&b.forEach(function(It){return t(m,It)}),W&&zt(m,P),j}function _(m,p,y,k){if(typeof y=="object"&&y!==null&&y.type===hr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case es:e:{for(var j=y.key,C=p;C!==null;){if(C.key===j){if(j=y.type,j===hr){if(C.tag===7){r(m,C.sibling),p=s(C,y.props.children),p.return=m,m=p;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===pt&&ou(j)===C.type){r(m,C.sibling),p=s(C,y.props),p.ref=Yr(m,C,y),p.return=m,m=p;break e}r(m,C);break}else t(m,C);C=C.sibling}y.type===hr?(p=Kt(y.props.children,m.mode,k,y.key),p.return=m,m=p):(k=Rs(y.type,y.key,y.props,null,m.mode,k),k.ref=Yr(m,p,y),k.return=m,m=k)}return o(m);case dr:e:{for(C=y.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(m,p.sibling),p=s(p,y.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=oo(y,m.mode,k),p.return=m,m=p}return o(m);case pt:return C=y._init,_(m,p,C(y._payload),k)}if(nn(y))return v(m,p,y,k);if(Gr(y))return x(m,p,y,k);ds(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,y),p.return=m,m=p):(r(m,p),p=io(y,m.mode,k),p.return=m,m=p),o(m)):r(m,p)}return _}var $r=yd(!0),vd=yd(!1),qs=$t(null),Ks=null,xr=null,za=null;function Fa(){za=xr=Ks=null}function Ba(e){var t=qs.current;V(qs),e._currentValue=t}function Vo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Nr(e,t){Ks=e,za=xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ke=!0),e.firstContext=null)}function Ue(e){var t=e._currentValue;if(za!==e)if(e={context:e,memoizedValue:t,next:null},xr===null){if(Ks===null)throw Error(S(308));xr=e,Ks.dependencies={lanes:0,firstContext:e}}else xr=xr.next=e;return t}var Ht=null;function Va(e){Ht===null?Ht=[e]:Ht.push(e)}function wd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Va(t)):(r.next=s.next,s.next=r),t.interleaved=r,lt(e,n)}function lt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var mt=!1;function Wa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function it(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,U&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,lt(e,r)}return s=n.interleaved,s===null?(t.next=t,Va(n)):(t.next=s.next,s.next=t),n.interleaved=t,lt(e,r)}function Es(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pa(e,r)}}function au(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qs(e,t,r,n){var s=e.updateQueue;mt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,x=a;switch(f=t,g=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=q({},h,f);break e;case 2:mt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Xt|=o,e.lanes=o,e.memoizedState=h}}function lu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(S(191,s));s.call(n)}}}var Vn={},Ze=$t(Vn),Tn=$t(Vn),On=$t(Vn);function Gt(e){if(e===Vn)throw Error(S(174));return e}function Ha(e,t){switch(F(On,t),F(Tn,e),F(Ze,Vn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:So(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=So(t,e)}V(Ze),F(Ze,t)}function Ar(){V(Ze),V(Tn),V(On)}function kd(e){Gt(On.current);var t=Gt(Ze.current),r=So(t,e.type);t!==r&&(F(Tn,e),F(Ze,r))}function Ga(e){Tn.current===e&&(V(Ze),V(Tn))}var H=$t(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xi=[];function qa(){for(var e=0;e<Xi.length;e++)Xi[e]._workInProgressVersionPrimary=null;Xi.length=0}var Ns=ct.ReactCurrentDispatcher,eo=ct.ReactCurrentBatchConfig,Zt=0,G=null,ee=null,se=null,Ys=!1,fn=!1,Rn=0,m0=0;function ce(){throw Error(S(321))}function Ka(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ge(e[r],t[r]))return!1;return!0}function Qa(e,t,r,n,s,i){if(Zt=i,G=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ns.current=e===null||e.memoizedState===null?w0:x0,e=r(n,s),fn){i=0;do{if(fn=!1,Rn=0,25<=i)throw Error(S(301));i+=1,se=ee=null,t.updateQueue=null,Ns.current=k0,e=r(n,s)}while(fn)}if(Ns.current=Zs,t=ee!==null&&ee.next!==null,Zt=0,se=ee=G=null,Ys=!1,t)throw Error(S(300));return e}function Ja(){var e=Rn!==0;return Rn=0,e}function Qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?G.memoizedState=se=e:se=se.next=e,se}function Me(){if(ee===null){var e=G.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var t=se===null?G.memoizedState:se.next;if(t!==null)se=t,ee=e;else{if(e===null)throw Error(S(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},se===null?G.memoizedState=se=e:se=se.next=e}return se}function Ln(e,t){return typeof t=="function"?t(e):t}function to(e){var t=Me(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var n=ee,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Zt&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,G.lanes|=d,Xt|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,Ge(n,t.memoizedState)||(ke=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,G.lanes|=i,Xt|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ro(e){var t=Me(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ge(i,t.memoizedState)||(ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _d(){}function Sd(e,t){var r=G,n=Me(),s=t(),i=!Ge(n.memoizedState,s);if(i&&(n.memoizedState=s,ke=!0),n=n.queue,Ya(Ed.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||se!==null&&se.memoizedState.tag&1){if(r.flags|=2048,$n(9,bd.bind(null,r,n,s,t),void 0,null),ie===null)throw Error(S(349));Zt&30||jd(r,t,s)}return s}function jd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bd(e,t,r,n){t.value=r,t.getSnapshot=n,Nd(t)&&Cd(e)}function Ed(e,t,r){return r(function(){Nd(t)&&Cd(e)})}function Nd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ge(e,r)}catch{return!0}}function Cd(e){var t=lt(e,1);t!==null&&He(t,e,1,-1)}function uu(e){var t=Qe();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:e},t.queue=e,e=e.dispatch=v0.bind(null,G,e),[t.memoizedState,e]}function $n(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Pd(){return Me().memoizedState}function Cs(e,t,r,n){var s=Qe();G.flags|=e,s.memoizedState=$n(1|t,r,void 0,n===void 0?null:n)}function fi(e,t,r,n){var s=Me();n=n===void 0?null:n;var i=void 0;if(ee!==null){var o=ee.memoizedState;if(i=o.destroy,n!==null&&Ka(n,o.deps)){s.memoizedState=$n(t,r,i,n);return}}G.flags|=e,s.memoizedState=$n(1|t,r,i,n)}function cu(e,t){return Cs(8390656,8,e,t)}function Ya(e,t){return fi(2048,8,e,t)}function Td(e,t){return fi(4,2,e,t)}function Od(e,t){return fi(4,4,e,t)}function Rd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ld(e,t,r){return r=r!=null?r.concat([e]):null,fi(4,4,Rd.bind(null,t,e),r)}function Za(){}function $d(e,t){var r=Me();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ka(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ad(e,t){var r=Me();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ka(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Id(e,t,r){return Zt&21?(Ge(r,t)||(r=Fc(),G.lanes|=r,Xt|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ke=!0),e.memoizedState=r)}function g0(e,t){var r=M;M=r!==0&&4>r?r:4,e(!0);var n=eo.transition;eo.transition={};try{e(!1),t()}finally{M=r,eo.transition=n}}function Ud(){return Me().memoizedState}function y0(e,t,r){var n=Pt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Md(e))Dd(t,r);else if(r=wd(e,t,r,n),r!==null){var s=me();He(r,e,n,s),zd(r,t,n)}}function v0(e,t,r){var n=Pt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Md(e))Dd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Ge(a,o)){var l=t.interleaved;l===null?(s.next=s,Va(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=wd(e,t,s,n),r!==null&&(s=me(),He(r,e,n,s),zd(r,t,n))}}function Md(e){var t=e.alternate;return e===G||t!==null&&t===G}function Dd(e,t){fn=Ys=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Pa(e,r)}}var Zs={readContext:Ue,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},w0={readContext:Ue,useCallback:function(e,t){return Qe().memoizedState=[e,t===void 0?null:t],e},useContext:Ue,useEffect:cu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cs(4194308,4,Rd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cs(4,2,e,t)},useMemo:function(e,t){var r=Qe();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qe();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=y0.bind(null,G,e),[n.memoizedState,e]},useRef:function(e){var t=Qe();return e={current:e},t.memoizedState=e},useState:uu,useDebugValue:Za,useDeferredValue:function(e){return Qe().memoizedState=e},useTransition:function(){var e=uu(!1),t=e[0];return e=g0.bind(null,e[1]),Qe().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=G,s=Qe();if(W){if(r===void 0)throw Error(S(407));r=r()}else{if(r=t(),ie===null)throw Error(S(349));Zt&30||jd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,cu(Ed.bind(null,n,i,e),[e]),n.flags|=2048,$n(9,bd.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Qe(),t=ie.identifierPrefix;if(W){var r=st,n=nt;r=(n&~(1<<32-We(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Rn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=m0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},x0={readContext:Ue,useCallback:$d,useContext:Ue,useEffect:Ya,useImperativeHandle:Ld,useInsertionEffect:Td,useLayoutEffect:Od,useMemo:Ad,useReducer:to,useRef:Pd,useState:function(){return to(Ln)},useDebugValue:Za,useDeferredValue:function(e){var t=Me();return Id(t,ee.memoizedState,e)},useTransition:function(){var e=to(Ln)[0],t=Me().memoizedState;return[e,t]},useMutableSource:_d,useSyncExternalStore:Sd,useId:Ud,unstable_isNewReconciler:!1},k0={readContext:Ue,useCallback:$d,useContext:Ue,useEffect:Ya,useImperativeHandle:Ld,useInsertionEffect:Td,useLayoutEffect:Od,useMemo:Ad,useReducer:ro,useRef:Pd,useState:function(){return ro(Ln)},useDebugValue:Za,useDeferredValue:function(e){var t=Me();return ee===null?t.memoizedState=e:Id(t,ee.memoizedState,e)},useTransition:function(){var e=ro(Ln)[0],t=Me().memoizedState;return[e,t]},useMutableSource:_d,useSyncExternalStore:Sd,useId:Ud,unstable_isNewReconciler:!1};function ze(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Wo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:q({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pi={isMounted:function(e){return(e=e._reactInternals)?rr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=me(),s=Pt(e),i=it(n,s);i.payload=t,r!=null&&(i.callback=r),t=Nt(e,i,s),t!==null&&(He(t,e,s,n),Es(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=me(),s=Pt(e),i=it(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Nt(e,i,s),t!==null&&(He(t,e,s,n),Es(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=me(),n=Pt(e),s=it(r,n);s.tag=2,t!=null&&(s.callback=t),t=Nt(e,s,n),t!==null&&(He(t,e,n,r),Es(t,e,n))}};function du(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!En(r,n)||!En(s,i):!0}function Fd(e,t,r){var n=!1,s=Rt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ue(i):(s=Se(t)?Jt:fe.current,n=t.contextTypes,i=(n=n!=null)?Rr(e,s):Rt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function hu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pi.enqueueReplaceState(t,t.state,null)}function Ho(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Wa(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ue(i):(i=Se(t)?Jt:fe.current,s.context=Rr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Wo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pi.enqueueReplaceState(s,s.state,null),Qs(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ir(e,t){try{var r="",n=t;do r+=Qf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function no(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Go(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _0=typeof WeakMap=="function"?WeakMap:Map;function Bd(e,t,r){r=it(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ei||(ei=!0,ra=n),Go(e,t)},r}function Vd(e,t,r){r=it(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Go(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Go(e,t),typeof n!="function"&&(Ct===null?Ct=new Set([this]):Ct.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function fu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=I0.bind(null,e,t,r),t.then(e,e))}function pu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=it(-1,1),t.tag=2,Nt(r,t,1))),r.lanes|=1),e)}var S0=ct.ReactCurrentOwner,ke=!1;function pe(e,t,r,n){t.child=e===null?vd(t,null,r,n):$r(t,e.child,r,n)}function gu(e,t,r,n,s){r=r.render;var i=t.ref;return Nr(t,s),n=Qa(e,t,r,n,i,s),r=Ja(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ut(e,t,s)):(W&&r&&Ua(t),t.flags|=1,pe(e,t,n,s),t.child)}function yu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ol(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Wd(e,t,i,n,s)):(e=Rs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:En,r(o,n)&&e.ref===t.ref)return ut(e,t,s)}return t.flags|=1,e=Tt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Wd(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(En(i,n)&&e.ref===t.ref)if(ke=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ke=!0);else return t.lanes=e.lanes,ut(e,t,s)}return qo(e,t,r,n,s)}function Hd(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},F(_r,Ee),Ee|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,F(_r,Ee),Ee|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,F(_r,Ee),Ee|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,F(_r,Ee),Ee|=n;return pe(e,t,s,r),t.child}function Gd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function qo(e,t,r,n,s){var i=Se(r)?Jt:fe.current;return i=Rr(t,i),Nr(t,s),r=Qa(e,t,r,n,i,s),n=Ja(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ut(e,t,s)):(W&&n&&Ua(t),t.flags|=1,pe(e,t,r,s),t.child)}function vu(e,t,r,n,s){if(Se(r)){var i=!0;Ws(t)}else i=!1;if(Nr(t,s),t.stateNode===null)Ps(e,t),Fd(t,r,n),Ho(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ue(c):(c=Se(r)?Jt:fe.current,c=Rr(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&hu(t,o,n,c),mt=!1;var f=t.memoizedState;o.state=f,Qs(t,n,o,s),l=t.memoizedState,a!==n||f!==l||_e.current||mt?(typeof d=="function"&&(Wo(t,r,d,n),l=t.memoizedState),(a=mt||du(t,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,xd(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ze(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ue(l):(l=Se(r)?Jt:fe.current,l=Rr(t,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&hu(t,o,n,l),mt=!1,f=t.memoizedState,o.state=f,Qs(t,n,o,s);var v=t.memoizedState;a!==h||f!==v||_e.current||mt?(typeof g=="function"&&(Wo(t,r,g,n),v=t.memoizedState),(c=mt||du(t,r,c,n,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Ko(e,t,r,n,i,s)}function Ko(e,t,r,n,s,i){Gd(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&nu(t,r,!1),ut(e,t,i);n=t.stateNode,S0.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=$r(t,e.child,null,i),t.child=$r(t,null,a,i)):pe(e,t,a,i),t.memoizedState=n.state,s&&nu(t,r,!0),t.child}function qd(e){var t=e.stateNode;t.pendingContext?ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ru(e,t.context,!1),Ha(e,t.containerInfo)}function wu(e,t,r,n,s){return Lr(),Da(s),t.flags|=256,pe(e,t,r,n),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0};function Jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kd(e,t,r){var n=t.pendingProps,s=H.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),F(H,s&1),e===null)return Bo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yi(o,n,0,null),e=Kt(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jo(r),t.memoizedState=Qo,e):Xa(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return j0(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Tt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Tt(a,i):(i=Kt(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Jo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Qo,n}return i=e.child,e=i.sibling,n=Tt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Xa(e,t){return t=yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hs(e,t,r,n){return n!==null&&Da(n),$r(t,e.child,null,r),e=Xa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function j0(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=no(Error(S(422))),hs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=yi({mode:"visible",children:n.children},s,0,null),i=Kt(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&$r(t,e.child,null,o),t.child.memoizedState=Jo(o),t.memoizedState=Qo,i);if(!(t.mode&1))return hs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(S(419)),n=no(i,n,void 0),hs(e,t,o,n)}if(a=(o&e.childLanes)!==0,ke||a){if(n=ie,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,lt(e,s),He(n,e,s,-1))}return il(),n=no(Error(S(421))),hs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=U0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ne=Et(s.nextSibling),Ce=t,W=!0,Ve=null,e!==null&&(Re[Le++]=nt,Re[Le++]=st,Re[Le++]=Yt,nt=e.id,st=e.overflow,Yt=t),t=Xa(t,n.children),t.flags|=4096,t)}function xu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Vo(e.return,t,r)}function so(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Qd(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(pe(e,t,n.children,r),n=H.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xu(e,r,t);else if(e.tag===19)xu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(F(H,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Js(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),so(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Js(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}so(t,!0,r,null,i);break;case"together":so(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ps(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ut(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xt|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,r=Tt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function b0(e,t,r){switch(t.tag){case 3:qd(t),Lr();break;case 5:kd(t);break;case 1:Se(t.type)&&Ws(t);break;case 4:Ha(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;F(qs,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(F(H,H.current&1),t.flags|=128,null):r&t.child.childLanes?Kd(e,t,r):(F(H,H.current&1),e=ut(e,t,r),e!==null?e.sibling:null);F(H,H.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qd(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(H,H.current),n)break;return null;case 22:case 23:return t.lanes=0,Hd(e,t,r)}return ut(e,t,r)}var Jd,Yo,Yd,Zd;Jd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Yo=function(){};Yd=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Gt(Ze.current);var i=null;switch(r){case"input":s=wo(e,s),n=wo(e,n),i=[];break;case"select":s=q({},s,{value:void 0}),n=q({},n,{value:void 0}),i=[];break;case"textarea":s=_o(e,s),n=_o(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Bs)}jo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wn.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&B("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Zd=function(e,t,r,n){r!==n&&(t.flags|=4)};function Zr(e,t){if(!W)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function de(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function E0(e,t,r){var n=t.pendingProps;switch(Ma(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(t),null;case 1:return Se(t.type)&&Vs(),de(t),null;case 3:return n=t.stateNode,Ar(),V(_e),V(fe),qa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ve!==null&&(ia(Ve),Ve=null))),Yo(e,t),de(t),null;case 5:Ga(t);var s=Gt(On.current);if(r=t.type,e!==null&&t.stateNode!=null)Yd(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(S(166));return de(t),null}if(e=Gt(Ze.current),cs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Je]=t,n[Pn]=i,e=(t.mode&1)!==0,r){case"dialog":B("cancel",n),B("close",n);break;case"iframe":case"object":case"embed":B("load",n);break;case"video":case"audio":for(s=0;s<on.length;s++)B(on[s],n);break;case"source":B("error",n);break;case"img":case"image":case"link":B("error",n),B("load",n);break;case"details":B("toggle",n);break;case"input":Pl(n,i),B("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},B("invalid",n);break;case"textarea":Ol(n,i),B("invalid",n)}jo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&us(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&us(n.textContent,a,e),s=["children",""+a]):wn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&B("scroll",n)}switch(r){case"input":ts(n),Tl(n,i,!0);break;case"textarea":ts(n),Rl(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Bs)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ec(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Je]=t,e[Pn]=n,Jd(e,t,!1,!1),t.stateNode=e;e:{switch(o=bo(r,n),r){case"dialog":B("cancel",e),B("close",e),s=n;break;case"iframe":case"object":case"embed":B("load",e),s=n;break;case"video":case"audio":for(s=0;s<on.length;s++)B(on[s],e);s=n;break;case"source":B("error",e),s=n;break;case"img":case"image":case"link":B("error",e),B("load",e),s=n;break;case"details":B("toggle",e),s=n;break;case"input":Pl(e,n),s=wo(e,n),B("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=q({},n,{value:void 0}),B("invalid",e);break;case"textarea":Ol(e,n),s=_o(e,n),B("invalid",e);break;default:s=n}jo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Pc(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Nc(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&xn(e,l):typeof l=="number"&&xn(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&B("scroll",e):l!=null&&Sa(e,i,l,o))}switch(r){case"input":ts(e),Tl(e,n,!1);break;case"textarea":ts(e),Rl(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ot(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Sr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Sr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Bs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return de(t),null;case 6:if(e&&t.stateNode!=null)Zd(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(S(166));if(r=Gt(On.current),Gt(Ze.current),cs(t)){if(n=t.stateNode,r=t.memoizedProps,n[Je]=t,(i=n.nodeValue!==r)&&(e=Ce,e!==null))switch(e.tag){case 3:us(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Je]=t,t.stateNode=n}return de(t),null;case 13:if(V(H),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(W&&Ne!==null&&t.mode&1&&!(t.flags&128))gd(),Lr(),t.flags|=98560,i=!1;else if(i=cs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(S(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[Je]=t}else Lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;de(t),i=!1}else Ve!==null&&(ia(Ve),Ve=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||H.current&1?te===0&&(te=3):il())),t.updateQueue!==null&&(t.flags|=4),de(t),null);case 4:return Ar(),Yo(e,t),e===null&&Nn(t.stateNode.containerInfo),de(t),null;case 10:return Ba(t.type._context),de(t),null;case 17:return Se(t.type)&&Vs(),de(t),null;case 19:if(V(H),i=t.memoizedState,i===null)return de(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Zr(i,!1);else{if(te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Js(e),o!==null){for(t.flags|=128,Zr(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return F(H,H.current&1|2),t.child}e=e.sibling}i.tail!==null&&J()>Ur&&(t.flags|=128,n=!0,Zr(i,!1),t.lanes=4194304)}else{if(!n)if(e=Js(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!W)return de(t),null}else 2*J()-i.renderingStartTime>Ur&&r!==1073741824&&(t.flags|=128,n=!0,Zr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=J(),t.sibling=null,r=H.current,F(H,n?r&1|2:r&1),t):(de(t),null);case 22:case 23:return sl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ee&1073741824&&(de(t),t.subtreeFlags&6&&(t.flags|=8192)):de(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function N0(e,t){switch(Ma(t),t.tag){case 1:return Se(t.type)&&Vs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ar(),V(_e),V(fe),qa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ga(t),null;case 13:if(V(H),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(H),null;case 4:return Ar(),null;case 10:return Ba(t.type._context),null;case 22:case 23:return sl(),null;case 24:return null;default:return null}}var fs=!1,he=!1,C0=typeof WeakSet=="function"?WeakSet:Set,E=null;function kr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){K(e,t,n)}else r.current=null}function Zo(e,t,r){try{r()}catch(n){K(e,t,n)}}var ku=!1;function P0(e,t){if(Ao=Ds,e=nd(),Ia(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===r&&++c===s&&(a=o),f===i&&++d===n&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Io={focusedElem:e,selectionRange:r},Ds=!1,E=t;E!==null;)if(t=E,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,E=e;else for(;E!==null;){t=E;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,_=v.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:ze(t.type,x),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(k){K(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,E=e;break}E=t.return}return v=ku,ku=!1,v}function pn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zo(t,r,i)}s=s.next}while(s!==n)}}function mi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Xo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Xd(e){var t=e.alternate;t!==null&&(e.alternate=null,Xd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Je],delete t[Pn],delete t[Do],delete t[d0],delete t[h0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eh(e){return e.tag===5||e.tag===3||e.tag===4}function _u(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ea(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Bs));else if(n!==4&&(e=e.child,e!==null))for(ea(e,t,r),e=e.sibling;e!==null;)ea(e,t,r),e=e.sibling}function ta(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ta(e,t,r),e=e.sibling;e!==null;)ta(e,t,r),e=e.sibling}var oe=null,Fe=!1;function dt(e,t,r){for(r=r.child;r!==null;)th(e,t,r),r=r.sibling}function th(e,t,r){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ai,r)}catch{}switch(r.tag){case 5:he||kr(r,t);case 6:var n=oe,s=Fe;oe=null,dt(e,t,r),oe=n,Fe=s,oe!==null&&(Fe?(e=oe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):oe.removeChild(r.stateNode));break;case 18:oe!==null&&(Fe?(e=oe,r=r.stateNode,e.nodeType===8?Yi(e.parentNode,r):e.nodeType===1&&Yi(e,r),jn(e)):Yi(oe,r.stateNode));break;case 4:n=oe,s=Fe,oe=r.stateNode.containerInfo,Fe=!0,dt(e,t,r),oe=n,Fe=s;break;case 0:case 11:case 14:case 15:if(!he&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zo(r,t,o),s=s.next}while(s!==n)}dt(e,t,r);break;case 1:if(!he&&(kr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){K(r,t,a)}dt(e,t,r);break;case 21:dt(e,t,r);break;case 22:r.mode&1?(he=(n=he)||r.memoizedState!==null,dt(e,t,r),he=n):dt(e,t,r);break;default:dt(e,t,r)}}function Su(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new C0),t.forEach(function(n){var s=M0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function De(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:oe=a.stateNode,Fe=!1;break e;case 3:oe=a.stateNode.containerInfo,Fe=!0;break e;case 4:oe=a.stateNode.containerInfo,Fe=!0;break e}a=a.return}if(oe===null)throw Error(S(160));th(i,o,s),oe=null,Fe=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){K(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rh(t,e),t=t.sibling}function rh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(De(t,e),qe(e),n&4){try{pn(3,e,e.return),mi(3,e)}catch(x){K(e,e.return,x)}try{pn(5,e,e.return)}catch(x){K(e,e.return,x)}}break;case 1:De(t,e),qe(e),n&512&&r!==null&&kr(r,r.return);break;case 5:if(De(t,e),qe(e),n&512&&r!==null&&kr(r,r.return),e.flags&32){var s=e.stateNode;try{xn(s,"")}catch(x){K(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&jc(s,i),bo(a,o);var c=bo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Pc(s,h):d==="dangerouslySetInnerHTML"?Nc(s,h):d==="children"?xn(s,h):Sa(s,d,h,c)}switch(a){case"input":xo(s,i);break;case"textarea":bc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Sr(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Sr(s,!!i.multiple,i.defaultValue,!0):Sr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pn]=i}catch(x){K(e,e.return,x)}}break;case 6:if(De(t,e),qe(e),n&4){if(e.stateNode===null)throw Error(S(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){K(e,e.return,x)}}break;case 3:if(De(t,e),qe(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jn(t.containerInfo)}catch(x){K(e,e.return,x)}break;case 4:De(t,e),qe(e);break;case 13:De(t,e),qe(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rl=J())),n&4&&Su(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(he=(c=he)||d,De(t,e),he=c):De(t,e),qe(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(E=e,d=e.child;d!==null;){for(h=E=d;E!==null;){switch(f=E,g=f.child,f.tag){case 0:case 11:case 14:case 15:pn(4,f,f.return);break;case 1:kr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){K(n,r,x)}}break;case 5:kr(f,f.return);break;case 22:if(f.memoizedState!==null){bu(h);continue}}g!==null?(g.return=f,E=g):bu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Cc("display",o))}catch(x){K(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){K(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:De(t,e),qe(e),n&4&&Su(e);break;case 21:break;default:De(t,e),qe(e)}}function qe(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(eh(r)){var n=r;break e}r=r.return}throw Error(S(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(xn(s,""),n.flags&=-33);var i=_u(e);ta(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=_u(e);ea(e,a,o);break;default:throw Error(S(161))}}catch(l){K(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function T0(e,t,r){E=e,nh(e)}function nh(e,t,r){for(var n=(e.mode&1)!==0;E!==null;){var s=E,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||fs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||he;a=fs;var c=he;if(fs=o,(he=l)&&!c)for(E=s;E!==null;)o=E,l=o.child,o.tag===22&&o.memoizedState!==null?Eu(s):l!==null?(l.return=o,E=l):Eu(s);for(;i!==null;)E=i,nh(i),i=i.sibling;E=s,fs=a,he=c}ju(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,E=i):ju(e)}}function ju(e){for(;E!==null;){var t=E;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:he||mi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!he)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ze(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&lu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}lu(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&jn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}he||t.flags&512&&Xo(t)}catch(f){K(t,t.return,f)}}if(t===e){E=null;break}if(r=t.sibling,r!==null){r.return=t.return,E=r;break}E=t.return}}function bu(e){for(;E!==null;){var t=E;if(t===e){E=null;break}var r=t.sibling;if(r!==null){r.return=t.return,E=r;break}E=t.return}}function Eu(e){for(;E!==null;){var t=E;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mi(4,t)}catch(l){K(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){K(t,s,l)}}var i=t.return;try{Xo(t)}catch(l){K(t,i,l)}break;case 5:var o=t.return;try{Xo(t)}catch(l){K(t,o,l)}}}catch(l){K(t,t.return,l)}if(t===e){E=null;break}var a=t.sibling;if(a!==null){a.return=t.return,E=a;break}E=t.return}}var O0=Math.ceil,Xs=ct.ReactCurrentDispatcher,el=ct.ReactCurrentOwner,Ae=ct.ReactCurrentBatchConfig,U=0,ie=null,Z=null,ae=0,Ee=0,_r=$t(0),te=0,An=null,Xt=0,gi=0,tl=0,mn=null,we=null,rl=0,Ur=1/0,et=null,ei=!1,ra=null,Ct=null,ps=!1,kt=null,ti=0,gn=0,na=null,Ts=-1,Os=0;function me(){return U&6?J():Ts!==-1?Ts:Ts=J()}function Pt(e){return e.mode&1?U&2&&ae!==0?ae&-ae:p0.transition!==null?(Os===0&&(Os=Fc()),Os):(e=M,e!==0||(e=window.event,e=e===void 0?16:Kc(e.type)),e):1}function He(e,t,r,n){if(50<gn)throw gn=0,na=null,Error(S(185));zn(e,r,n),(!(U&2)||e!==ie)&&(e===ie&&(!(U&2)&&(gi|=r),te===4&&vt(e,ae)),je(e,n),r===1&&U===0&&!(t.mode&1)&&(Ur=J()+500,hi&&At()))}function je(e,t){var r=e.callbackNode;pp(e,t);var n=Ms(e,e===ie?ae:0);if(n===0)r!==null&&Al(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Al(r),t===1)e.tag===0?f0(Nu.bind(null,e)):fd(Nu.bind(null,e)),u0(function(){!(U&6)&&At()}),r=null;else{switch(Bc(n)){case 1:r=Ca;break;case 4:r=Dc;break;case 16:r=Us;break;case 536870912:r=zc;break;default:r=Us}r=dh(r,sh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sh(e,t){if(Ts=-1,Os=0,U&6)throw Error(S(327));var r=e.callbackNode;if(Cr()&&e.callbackNode!==r)return null;var n=Ms(e,e===ie?ae:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ri(e,n);else{t=n;var s=U;U|=2;var i=oh();(ie!==e||ae!==t)&&(et=null,Ur=J()+500,qt(e,t));do try{$0();break}catch(a){ih(e,a)}while(!0);Fa(),Xs.current=i,U=s,Z!==null?t=0:(ie=null,ae=0,t=te)}if(t!==0){if(t===2&&(s=To(e),s!==0&&(n=s,t=sa(e,s))),t===1)throw r=An,qt(e,0),vt(e,n),je(e,J()),r;if(t===6)vt(e,n);else{if(s=e.current.alternate,!(n&30)&&!R0(s)&&(t=ri(e,n),t===2&&(i=To(e),i!==0&&(n=i,t=sa(e,i))),t===1))throw r=An,qt(e,0),vt(e,n),je(e,J()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(S(345));case 2:Ft(e,we,et);break;case 3:if(vt(e,n),(n&130023424)===n&&(t=rl+500-J(),10<t)){if(Ms(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){me(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Mo(Ft.bind(null,e,we,et),t);break}Ft(e,we,et);break;case 4:if(vt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-We(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=J()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*O0(n/1960))-n,10<n){e.timeoutHandle=Mo(Ft.bind(null,e,we,et),n);break}Ft(e,we,et);break;case 5:Ft(e,we,et);break;default:throw Error(S(329))}}}return je(e,J()),e.callbackNode===r?sh.bind(null,e):null}function sa(e,t){var r=mn;return e.current.memoizedState.isDehydrated&&(qt(e,t).flags|=256),e=ri(e,t),e!==2&&(t=we,we=r,t!==null&&ia(t)),e}function ia(e){we===null?we=e:we.push.apply(we,e)}function R0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ge(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vt(e,t){for(t&=~tl,t&=~gi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-We(t),n=1<<r;e[r]=-1,t&=~n}}function Nu(e){if(U&6)throw Error(S(327));Cr();var t=Ms(e,0);if(!(t&1))return je(e,J()),null;var r=ri(e,t);if(e.tag!==0&&r===2){var n=To(e);n!==0&&(t=n,r=sa(e,n))}if(r===1)throw r=An,qt(e,0),vt(e,t),je(e,J()),r;if(r===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ft(e,we,et),je(e,J()),null}function nl(e,t){var r=U;U|=1;try{return e(t)}finally{U=r,U===0&&(Ur=J()+500,hi&&At())}}function er(e){kt!==null&&kt.tag===0&&!(U&6)&&Cr();var t=U;U|=1;var r=Ae.transition,n=M;try{if(Ae.transition=null,M=1,e)return e()}finally{M=n,Ae.transition=r,U=t,!(U&6)&&At()}}function sl(){Ee=_r.current,V(_r)}function qt(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,l0(r)),Z!==null)for(r=Z.return;r!==null;){var n=r;switch(Ma(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vs();break;case 3:Ar(),V(_e),V(fe),qa();break;case 5:Ga(n);break;case 4:Ar();break;case 13:V(H);break;case 19:V(H);break;case 10:Ba(n.type._context);break;case 22:case 23:sl()}r=r.return}if(ie=e,Z=e=Tt(e.current,null),ae=Ee=t,te=0,An=null,tl=gi=Xt=0,we=mn=null,Ht!==null){for(t=0;t<Ht.length;t++)if(r=Ht[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ht=null}return e}function ih(e,t){do{var r=Z;try{if(Fa(),Ns.current=Zs,Ys){for(var n=G.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ys=!1}if(Zt=0,se=ee=G=null,fn=!1,Rn=0,el.current=null,r===null||r.return===null){te=1,An=t,Z=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=ae,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=pu(o);if(g!==null){g.flags&=-257,mu(g,o,a,i,t),g.mode&1&&fu(i,c,t),t=g,l=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(l),t.updateQueue=x}else v.add(l);break e}else{if(!(t&1)){fu(i,c,t),il();break e}l=Error(S(426))}}else if(W&&a.mode&1){var _=pu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),mu(_,o,a,i,t),Da(Ir(l,a));break e}}i=l=Ir(l,a),te!==4&&(te=2),mn===null?mn=[i]:mn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Bd(i,l,t);au(i,m);break e;case 1:a=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ct===null||!Ct.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Vd(i,a,t);au(i,k);break e}}i=i.return}while(i!==null)}lh(r)}catch(j){t=j,Z===r&&r!==null&&(Z=r=r.return);continue}break}while(!0)}function oh(){var e=Xs.current;return Xs.current=Zs,e===null?Zs:e}function il(){(te===0||te===3||te===2)&&(te=4),ie===null||!(Xt&268435455)&&!(gi&268435455)||vt(ie,ae)}function ri(e,t){var r=U;U|=2;var n=oh();(ie!==e||ae!==t)&&(et=null,qt(e,t));do try{L0();break}catch(s){ih(e,s)}while(!0);if(Fa(),U=r,Xs.current=n,Z!==null)throw Error(S(261));return ie=null,ae=0,te}function L0(){for(;Z!==null;)ah(Z)}function $0(){for(;Z!==null&&!ip();)ah(Z)}function ah(e){var t=ch(e.alternate,e,Ee);e.memoizedProps=e.pendingProps,t===null?lh(e):Z=t,el.current=null}function lh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=N0(r,t),r!==null){r.flags&=32767,Z=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{te=6,Z=null;return}}else if(r=E0(r,t,Ee),r!==null){Z=r;return}if(t=t.sibling,t!==null){Z=t;return}Z=t=e}while(t!==null);te===0&&(te=5)}function Ft(e,t,r){var n=M,s=Ae.transition;try{Ae.transition=null,M=1,A0(e,t,r,n)}finally{Ae.transition=s,M=n}return null}function A0(e,t,r,n){do Cr();while(kt!==null);if(U&6)throw Error(S(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(mp(e,i),e===ie&&(Z=ie=null,ae=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ps||(ps=!0,dh(Us,function(){return Cr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ae.transition,Ae.transition=null;var o=M;M=1;var a=U;U|=4,el.current=null,P0(e,r),rh(r,e),t0(Io),Ds=!!Ao,Io=Ao=null,e.current=r,T0(r),op(),U=a,M=o,Ae.transition=i}else e.current=r;if(ps&&(ps=!1,kt=e,ti=s),i=e.pendingLanes,i===0&&(Ct=null),up(r.stateNode),je(e,J()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ei)throw ei=!1,e=ra,ra=null,e;return ti&1&&e.tag!==0&&Cr(),i=e.pendingLanes,i&1?e===na?gn++:(gn=0,na=e):gn=0,At(),null}function Cr(){if(kt!==null){var e=Bc(ti),t=Ae.transition,r=M;try{if(Ae.transition=null,M=16>e?16:e,kt===null)var n=!1;else{if(e=kt,kt=null,ti=0,U&6)throw Error(S(331));var s=U;for(U|=4,E=e.current;E!==null;){var i=E,o=i.child;if(E.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(E=c;E!==null;){var d=E;switch(d.tag){case 0:case 11:case 15:pn(8,d,i)}var h=d.child;if(h!==null)h.return=d,E=h;else for(;E!==null;){d=E;var f=d.sibling,g=d.return;if(Xd(d),d===c){E=null;break}if(f!==null){f.return=g,E=f;break}E=g}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}E=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,E=o;else e:for(;E!==null;){if(i=E,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,E=m;break e}E=i.return}}var p=e.current;for(E=p;E!==null;){o=E;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,E=y;else e:for(o=p;E!==null;){if(a=E,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mi(9,a)}}catch(j){K(a,a.return,j)}if(a===o){E=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,E=k;break e}E=a.return}}if(U=s,At(),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ai,e)}catch{}n=!0}return n}finally{M=r,Ae.transition=t}}return!1}function Cu(e,t,r){t=Ir(r,t),t=Bd(e,t,1),e=Nt(e,t,1),t=me(),e!==null&&(zn(e,1,t),je(e,t))}function K(e,t,r){if(e.tag===3)Cu(e,e,r);else for(;t!==null;){if(t.tag===3){Cu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ct===null||!Ct.has(n))){e=Ir(r,e),e=Vd(t,e,1),t=Nt(t,e,1),e=me(),t!==null&&(zn(t,1,e),je(t,e));break}}t=t.return}}function I0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=me(),e.pingedLanes|=e.suspendedLanes&r,ie===e&&(ae&r)===r&&(te===4||te===3&&(ae&130023424)===ae&&500>J()-rl?qt(e,0):tl|=r),je(e,t)}function uh(e,t){t===0&&(e.mode&1?(t=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):t=1);var r=me();e=lt(e,t),e!==null&&(zn(e,t,r),je(e,r))}function U0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uh(e,r)}function M0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(S(314))}n!==null&&n.delete(t),uh(e,r)}var ch;ch=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_e.current)ke=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ke=!1,b0(e,t,r);ke=!!(e.flags&131072)}else ke=!1,W&&t.flags&1048576&&pd(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ps(e,t),e=t.pendingProps;var s=Rr(t,fe.current);Nr(t,r),s=Qa(null,t,n,e,s,r);var i=Ja();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Se(n)?(i=!0,Ws(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wa(t),s.updater=pi,t.stateNode=s,s._reactInternals=t,Ho(t,n,e,r),t=Ko(null,t,n,!0,i,r)):(t.tag=0,W&&i&&Ua(t),pe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ps(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=z0(n),e=ze(n,e),s){case 0:t=qo(null,t,n,e,r);break e;case 1:t=vu(null,t,n,e,r);break e;case 11:t=gu(null,t,n,e,r);break e;case 14:t=yu(null,t,n,ze(n.type,e),r);break e}throw Error(S(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ze(n,s),qo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ze(n,s),vu(e,t,n,s,r);case 3:e:{if(qd(t),e===null)throw Error(S(387));n=t.pendingProps,i=t.memoizedState,s=i.element,xd(e,t),Qs(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ir(Error(S(423)),t),t=wu(e,t,n,r,s);break e}else if(n!==s){s=Ir(Error(S(424)),t),t=wu(e,t,n,r,s);break e}else for(Ne=Et(t.stateNode.containerInfo.firstChild),Ce=t,W=!0,Ve=null,r=vd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lr(),n===s){t=ut(e,t,r);break e}pe(e,t,n,r)}t=t.child}return t;case 5:return kd(t),e===null&&Bo(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Uo(n,s)?o=null:i!==null&&Uo(n,i)&&(t.flags|=32),Gd(e,t),pe(e,t,o,r),t.child;case 6:return e===null&&Bo(t),null;case 13:return Kd(e,t,r);case 4:return Ha(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$r(t,null,n,r):pe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ze(n,s),gu(e,t,n,s,r);case 7:return pe(e,t,t.pendingProps,r),t.child;case 8:return pe(e,t,t.pendingProps.children,r),t.child;case 12:return pe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,F(qs,n._currentValue),n._currentValue=o,i!==null)if(Ge(i.value,o)){if(i.children===s.children&&!_e.current){t=ut(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=it(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Vo(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Vo(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Nr(t,r),s=Ue(s),n=n(s),t.flags|=1,pe(e,t,n,r),t.child;case 14:return n=t.type,s=ze(n,t.pendingProps),s=ze(n.type,s),yu(e,t,n,s,r);case 15:return Wd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ze(n,s),Ps(e,t),t.tag=1,Se(n)?(e=!0,Ws(t)):e=!1,Nr(t,r),Fd(t,n,s),Ho(t,n,s,r),Ko(null,t,n,!0,e,r);case 19:return Qd(e,t,r);case 22:return Hd(e,t,r)}throw Error(S(156,t.tag))};function dh(e,t){return Mc(e,t)}function D0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,r,n){return new D0(e,t,r,n)}function ol(e){return e=e.prototype,!(!e||!e.isReactComponent)}function z0(e){if(typeof e=="function")return ol(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ba)return 11;if(e===Ea)return 14}return 2}function Tt(e,t){var r=e.alternate;return r===null?(r=$e(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rs(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ol(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hr:return Kt(r.children,s,i,t);case ja:o=8,s|=8;break;case mo:return e=$e(12,r,t,s|2),e.elementType=mo,e.lanes=i,e;case go:return e=$e(13,r,t,s),e.elementType=go,e.lanes=i,e;case yo:return e=$e(19,r,t,s),e.elementType=yo,e.lanes=i,e;case kc:return yi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wc:o=10;break e;case xc:o=9;break e;case ba:o=11;break e;case Ea:o=14;break e;case pt:o=16,n=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=$e(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Kt(e,t,r,n){return e=$e(7,e,n,t),e.lanes=r,e}function yi(e,t,r,n){return e=$e(22,e,n,t),e.elementType=kc,e.lanes=r,e.stateNode={isHidden:!1},e}function io(e,t,r){return e=$e(6,e,null,t),e.lanes=r,e}function oo(e,t,r){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function F0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zi(0),this.expirationTimes=zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function al(e,t,r,n,s,i,o,a,l){return e=new F0(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$e(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wa(i),e}function B0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hh(e){if(!e)return Rt;e=e._reactInternals;e:{if(rr(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Se(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var r=e.type;if(Se(r))return hd(e,r,t)}return t}function fh(e,t,r,n,s,i,o,a,l){return e=al(r,n,!0,e,s,i,o,a,l),e.context=hh(null),r=e.current,n=me(),s=Pt(r),i=it(n,s),i.callback=t??null,Nt(r,i,s),e.current.lanes=s,zn(e,s,n),je(e,n),e}function vi(e,t,r,n){var s=t.current,i=me(),o=Pt(s);return r=hh(r),t.context===null?t.context=r:t.pendingContext=r,t=it(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Nt(s,t,o),e!==null&&(He(e,s,o,i),Es(e,s,o)),o}function ni(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ll(e,t){Pu(e,t),(e=e.alternate)&&Pu(e,t)}function V0(){return null}var ph=typeof reportError=="function"?reportError:function(e){console.error(e)};function ul(e){this._internalRoot=e}wi.prototype.render=ul.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));vi(e,t,null,null)};wi.prototype.unmount=ul.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){vi(null,e,null,null)}),t[at]=null}};function wi(e){this._internalRoot=e}wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yt.length&&t!==0&&t<yt[r].priority;r++);yt.splice(r,0,e),r===0&&qc(e)}};function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function W0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ni(o);i.call(c)}}var o=fh(t,n,e,0,null,!1,!1,"",Tu);return e._reactRootContainer=o,e[at]=o.current,Nn(e.nodeType===8?e.parentNode:e),er(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=ni(l);a.call(c)}}var l=al(e,0,!1,null,null,!1,!1,"",Tu);return e._reactRootContainer=l,e[at]=l.current,Nn(e.nodeType===8?e.parentNode:e),er(function(){vi(t,l,r,n)}),l}function ki(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ni(o);a.call(l)}}vi(t,o,e,s)}else o=W0(r,t,e,s,n);return ni(o)}Vc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sn(t.pendingLanes);r!==0&&(Pa(t,r|1),je(t,J()),!(U&6)&&(Ur=J()+500,At()))}break;case 13:er(function(){var n=lt(e,1);if(n!==null){var s=me();He(n,e,1,s)}}),ll(e,1)}};Ta=function(e){if(e.tag===13){var t=lt(e,134217728);if(t!==null){var r=me();He(t,e,134217728,r)}ll(e,134217728)}};Wc=function(e){if(e.tag===13){var t=Pt(e),r=lt(e,t);if(r!==null){var n=me();He(r,e,t,n)}ll(e,t)}};Hc=function(){return M};Gc=function(e,t){var r=M;try{return M=e,t()}finally{M=r}};No=function(e,t,r){switch(t){case"input":if(xo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=di(n);if(!s)throw Error(S(90));Sc(n),xo(n,s)}}}break;case"textarea":bc(e,r);break;case"select":t=r.value,t!=null&&Sr(e,!!r.multiple,t,!1)}};Rc=nl;Lc=er;var H0={usingClientEntryPoint:!1,Events:[Bn,gr,di,Tc,Oc,nl]},Xr={findFiberByHostInstance:Wt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G0={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ic(e),e===null?null:e.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||V0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{ai=ms.inject(G0),Ye=ms}catch{}}Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H0;Te.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cl(t))throw Error(S(200));return B0(e,t,null,r)};Te.createRoot=function(e,t){if(!cl(e))throw Error(S(299));var r=!1,n="",s=ph;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=al(e,1,!1,null,null,r,!1,n,s),e[at]=t.current,Nn(e.nodeType===8?e.parentNode:e),new ul(t)};Te.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Ic(t),e=e===null?null:e.stateNode,e};Te.flushSync=function(e){return er(e)};Te.hydrate=function(e,t,r){if(!xi(t))throw Error(S(200));return ki(null,e,t,!0,r)};Te.hydrateRoot=function(e,t,r){if(!cl(e))throw Error(S(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ph;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=fh(t,null,e,1,r??null,s,!1,i,o),e[at]=t.current,Nn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new wi(t)};Te.render=function(e,t,r){if(!xi(t))throw Error(S(200));return ki(null,e,t,!1,r)};Te.unmountComponentAtNode=function(e){if(!xi(e))throw Error(S(40));return e._reactRootContainer?(er(function(){ki(null,null,e,!1,function(){e._reactRootContainer=null,e[at]=null})}),!0):!1};Te.unstable_batchedUpdates=nl;Te.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xi(r))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return ki(e,t,r,!1,n)};Te.version="18.3.1-next-f1338f8080-20240426";function mh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mh)}catch(e){console.error(e)}}mh(),mc.exports=Te;var q0=mc.exports,gh,Ou=q0;gh=Ou.createRoot,Ou.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},In.apply(this,arguments)}var _t;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_t||(_t={}));const Ru="popstate";function K0(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return oa("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:vh(s)}return J0(t,r,null,e)}function X(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Q0(){return Math.random().toString(36).substr(2,8)}function Lu(e,t){return{usr:e.state,key:e.key,idx:t}}function oa(e,t,r,n){return r===void 0&&(r=null),In({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vr(t):t,{state:r,key:t&&t.key||n||Q0()})}function vh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function J0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=_t.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(In({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=_t.Pop;let _=d(),m=_==null?null:_-c;c=_,l&&l({action:a,location:x.location,delta:m})}function f(_,m){a=_t.Push;let p=oa(x.location,_,m);c=d()+1;let y=Lu(p,c),k=x.createHref(p);try{o.pushState(y,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}i&&l&&l({action:a,location:x.location,delta:1})}function g(_,m){a=_t.Replace;let p=oa(x.location,_,m);c=d();let y=Lu(p,c),k=x.createHref(p);o.replaceState(y,"",k),i&&l&&l({action:a,location:x.location,delta:0})}function v(_){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:vh(_);return p=p.replace(/ $/,"%20"),X(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let x={get action(){return a},get location(){return e(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ru,h),l=_,()=>{s.removeEventListener(Ru,h),l=null}},createHref(_){return t(s,_)},createURL:v,encodeLocation(_){let m=v(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(_){return o.go(_)}};return x}var $u;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($u||($u={}));function Y0(e,t,r){return r===void 0&&(r="/"),Z0(e,t,r,!1)}function Z0(e,t,r,n){let s=typeof t=="string"?Vr(t):t,i=kh(s.pathname||"/",r);if(i==null)return null;let o=wh(e);X0(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=cm(i);a=lm(o[l],c,n)}return a}function wh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(X(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Qt([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(X(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:om(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of xh(i.path))s(i,o,l)}),t}function xh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=xh(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function X0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:am(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const em=/^:[\w-]+$/,tm=3,rm=2,nm=1,sm=10,im=-2,Au=e=>e==="*";function om(e,t){let r=e.split("/"),n=r.length;return r.some(Au)&&(n+=im),t&&(n+=rm),r.filter(s=>!Au(s)).reduce((s,i)=>s+(em.test(i)?tm:i===""?nm:sm),n)}function am(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function lm(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Iu({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=Iu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Qt([i,h.pathname]),pathnameBase:pm(Qt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Qt([i,h.pathnameBase]))}return o}function Iu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=um(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let x=a[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[h];return g&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function um(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function cm(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function kh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function dm(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Vr(e):e;return{pathname:r?r.startsWith("/")?r:hm(r,t):t,search:mm(n),hash:gm(s)}}function hm(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ao(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fm(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function _h(e,t){let r=fm(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Sh(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Vr(e):(s=In({},e),X(!s.pathname||!s.pathname.includes("?"),ao("?","pathname","search",s)),X(!s.pathname||!s.pathname.includes("#"),ao("#","pathname","hash",s)),X(!s.search||!s.search.includes("#"),ao("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=dm(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Qt=e=>e.join("/").replace(/\/\/+/g,"/"),pm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gm=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ym(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jh=["post","put","patch","delete"];new Set(jh);const vm=["get",...jh];new Set(vm);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(this,arguments)}const dl=w.createContext(null),wm=w.createContext(null),Wn=w.createContext(null),_i=w.createContext(null),nr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),bh=w.createContext(null);function Hn(){return w.useContext(_i)!=null}function Si(){return Hn()||X(!1),w.useContext(_i).location}function Eh(e){w.useContext(Wn).static||w.useLayoutEffect(e)}function Nh(){let{isDataRoute:e}=w.useContext(nr);return e?Rm():xm()}function xm(){Hn()||X(!1);let e=w.useContext(dl),{basename:t,future:r,navigator:n}=w.useContext(Wn),{matches:s}=w.useContext(nr),{pathname:i}=Si(),o=JSON.stringify(_h(s,r.v7_relativeSplatPath)),a=w.useRef(!1);return Eh(()=>{a.current=!0}),w.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=Sh(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Qt([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function km(e,t){return _m(e,t)}function _m(e,t,r,n){Hn()||X(!1);let{navigator:s}=w.useContext(Wn),{matches:i}=w.useContext(nr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Si(),d;if(t){var h;let _=typeof t=="string"?Vr(t):t;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||X(!1),d=_}else d=c;let f=d.pathname||"/",g=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=Y0(e,{pathname:g}),x=Nm(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Qt([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Qt([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return t&&x?w.createElement(_i.Provider,{value:{location:Un({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:_t.Pop}},x):x}function Sm(){let e=Om(),t=ym(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,null)}const jm=w.createElement(Sm,null);class bm extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(nr.Provider,{value:this.props.routeContext},w.createElement(bh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Em(e){let{routeContext:t,match:r,children:n}=e,s=w.useContext(dl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(nr.Provider,{value:t},n)}function Nm(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||X(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:g}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,v=!1,x=null,_=null;r&&(g=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||jm,l&&(c<0&&f===0?(v=!0,_=null):c===f&&(v=!0,_=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),p=()=>{let y;return g?y=x:v?y=_:h.route.Component?y=w.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,w.createElement(Em,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(bm,{location:r.location,revalidation:r.revalidation,component:x,error:g,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Ch=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ch||{}),si=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(si||{});function Cm(e){let t=w.useContext(dl);return t||X(!1),t}function Pm(e){let t=w.useContext(wm);return t||X(!1),t}function Tm(e){let t=w.useContext(nr);return t||X(!1),t}function Ph(e){let t=Tm(),r=t.matches[t.matches.length-1];return r.route.id||X(!1),r.route.id}function Om(){var e;let t=w.useContext(bh),r=Pm(si.UseRouteError),n=Ph(si.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Rm(){let{router:e}=Cm(Ch.UseNavigateStable),t=Ph(si.UseNavigateStable),r=w.useRef(!1);return Eh(()=>{r.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Un({fromRouteId:t},i)))},[e,t])}const Uu={};function Lm(e,t){Uu[t]||(Uu[t]=!0,console.warn(t))}const Mu=(e,t,r)=>Lm(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function $m(e,t){(e==null?void 0:e.v7_startTransition)===void 0&&Mu("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&!t&&Mu("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Am(e){let{to:t,replace:r,state:n,relative:s}=e;Hn()||X(!1);let{future:i,static:o}=w.useContext(Wn),{matches:a}=w.useContext(nr),{pathname:l}=Si(),c=Nh(),d=Sh(t,_h(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return w.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function Ls(e){X(!1)}function Im(e){let{basename:t="/",children:r=null,location:n,navigationType:s=_t.Pop,navigator:i,static:o=!1,future:a}=e;Hn()&&X(!1);let l=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:o,future:Un({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Vr(n));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:v="default"}=n,x=w.useMemo(()=>{let _=kh(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:g,key:v},navigationType:s}},[l,d,h,f,g,v,s]);return x==null?null:w.createElement(Wn.Provider,{value:c},w.createElement(_i.Provider,{children:r,value:x}))}function Um(e){let{children:t,location:r}=e;return km(aa(t),r)}new Promise(()=>{});function aa(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,aa(n.props.children,i));return}n.type!==Ls&&X(!1),!n.props.index||!n.props.children||X(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=aa(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Mm="6";try{window.__reactRouterVersion=Mm}catch{}const Dm="startTransition",Du=If[Dm];function zm(e){let{basename:t,children:r,future:n,window:s}=e,i=w.useRef();i.current==null&&(i.current=K0({window:s,v5Compat:!0}));let o=i.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=w.useCallback(h=>{c&&Du?Du(()=>l(h)):l(h)},[l,c]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>$m(n),[n]),w.createElement(Im,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var zu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(zu||(zu={}));var Fu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fu||(Fu={}));const Fm="modulepreload",Bm=function(e){return"/"+e},Bu={},Mr=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Bm(l),l in Bu)return;Bu[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Fm,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Vm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mr(async()=>{const{default:n}=await Promise.resolve().then(()=>Wr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class hl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Wm extends hl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Hm extends hl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Gm extends hl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var la;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(la||(la={}));var qm=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Km{constructor(t,{headers:r={},customFetch:n,region:s=la.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Vm(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return qm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(v=>{throw new Wm(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Hm(d);if(!d.ok)throw new Gm(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var xe={},fl={},ji={},Gn={},bi={},Ei={},Qm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Dr=Qm();const Jm=Dr.fetch,Th=Dr.fetch.bind(Dr),Oh=Dr.Headers,Ym=Dr.Request,Zm=Dr.Response,Wr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Oh,Request:Ym,Response:Zm,default:Th,fetch:Jm},Symbol.toStringTag,{value:"Module"})),Xm=wf(Wr);var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});let eg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ni.default=eg;var Rh=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ei,"__esModule",{value:!0});const tg=Rh(Xm),rg=Rh(Ni);let ng=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=tg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,g="OK")}catch{i.status===404&&x===""?(f=204,g="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,g="OK"),c&&this.shouldThrowOnError)throw new rg.default(c)}return{error:c,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}};Ei.default=ng;var sg=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bi,"__esModule",{value:!0});const ig=sg(Ei);let og=class extends ig.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};bi.default=og;var ag=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gn,"__esModule",{value:!0});const lg=ag(bi);let ug=class extends lg.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Gn.default=ug;var cg=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ji,"__esModule",{value:!0});const en=cg(Gn);let dg=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new en.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new en.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new en.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new en.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new en.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ji.default=dg;var Ci={},Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.version=void 0;Pi.version="0.0.0-automated";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.DEFAULT_HEADERS=void 0;const hg=Pi;Ci.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${hg.version}`};var Lh=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const fg=Lh(ji),pg=Lh(Gn),mg=Ci;let gg=class $h{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},mg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new fg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $h(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new pg.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};fl.default=gg;var Hr=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xe,"__esModule",{value:!0});xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;const Ah=Hr(fl);xe.PostgrestClient=Ah.default;const Ih=Hr(ji);xe.PostgrestQueryBuilder=Ih.default;const Uh=Hr(Gn);xe.PostgrestFilterBuilder=Uh.default;const Mh=Hr(bi);xe.PostgrestTransformBuilder=Mh.default;const Dh=Hr(Ei);xe.PostgrestBuilder=Dh.default;const zh=Hr(Ni);xe.PostgrestError=zh.default;var yg=xe.default={PostgrestClient:Ah.default,PostgrestQueryBuilder:Ih.default,PostgrestFilterBuilder:Uh.default,PostgrestTransformBuilder:Mh.default,PostgrestBuilder:Dh.default,PostgrestError:zh.default};const{PostgrestClient:vg,PostgrestQueryBuilder:h1,PostgrestFilterBuilder:f1,PostgrestTransformBuilder:p1,PostgrestBuilder:m1,PostgrestError:g1}=yg,wg="2.11.2",xg={"X-Client-Info":`realtime-js/${wg}`},kg="1.0.0",Fh=1e4,_g=1e3;var Pr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pr||(Pr={}));var be;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(be||(be={}));var Be;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Be||(Be={}));var ua;(function(e){e.websocket="websocket"})(ua||(ua={}));var Vt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vt||(Vt={}));class Sg{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Bh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(z||(z={}));const Vu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=jg(o,e,t,s),i),{})},jg=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Vh(i,o):ca(o)},Vh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Cg(t,r)}switch(e){case z.bool:return bg(t);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return Eg(t);case z.json:case z.jsonb:return Ng(t);case z.timestamp:return Pg(t);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return ca(t);default:return ca(t)}},ca=e=>e,bg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Eg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ng=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Cg=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Vh(t,a))}return e},Pg=e=>typeof e=="string"?e.replace(" ","T"):e,Wh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class lo{constructor(t,r,n={},s=Fh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Wu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Wu||(Wu={}));class yn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=yn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(_=>_.presence_ref),g=h.map(_=>_.presence_ref),v=d.filter(_=>g.indexOf(_.presence_ref)<0),x=h.filter(_=>f.indexOf(_.presence_ref)<0);v.length>0&&(a[c]=v),x.length>0&&(l[c]=x)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hu||(Hu={}));var Gu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gu||(Gu={}));var tt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tt||(tt={}));class pl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new lo(this,Be.join,this.params,this.timeout),this.rejoinTimer=new Bh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=be.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Be.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new yn(this),this.broadcastEndpointURL=Wh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(tt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(tt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(tt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let x=0;x<g;x++){const _=f[x],{filter:{event:m,schema:p,table:y,filter:k}}=_,j=d&&d[x];if(j&&j.event===m&&j.schema===p&&j.table===y&&j.filter===k)v.push(Object.assign(Object.assign({},_),{id:j.id}));else{this.unsubscribe(),t==null||t(tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(tt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=be.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Be.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new lo(this,Be.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new lo(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Be;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,x,_;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(x=g.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(g=>g.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var v,x,_,m,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const k=g.id,j=(v=g.filter)===null||v===void 0?void 0:v.event;return k&&((x=r.ids)===null||x===void 0?void 0:x.includes(k))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(p=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return k==="*"||k===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:_,commit_timestamp:m,type:p,errors:y}=v;f=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:m,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(v))}g.callback(f,n)})}_isClosed(){return this.state===be.closed}_isJoined(){return this.state===be.joined}_isJoining(){return this.state===be.joining}_isLeaving(){return this.state===be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pl.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Be.close,{},t)}_onError(t){this._on(Be.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Vu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Vu(t.columns,t.old_record)),r}}const Tg=()=>{},Og=typeof WebSocket<"u",Rg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lg{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=xg,this.params={},this.timeout=Fh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Tg,this.conn=null,this.sendBuffer=[],this.serializer=new Sg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Mr(async()=>{const{default:l}=await Promise.resolve().then(()=>Wr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ua.websocket}`,this.httpEndpoint=Wh(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Bh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Og){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new $g(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Mr(async()=>{const{default:t}=await import("./browser-DKslwYp4.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kg}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pr.connecting:return Vt.Connecting;case Pr.open:return Vt.Open;case Pr.closing:return Vt.Closing;default:return Vt.Closed}}isConnected(){return this.connectionState()===Vt.Open}channel(t,r={config:{}}){const n=new pl(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Be.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(_g,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Be.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Rg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class $g{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class ml extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ne(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ag extends ml{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class da extends ml{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Ig=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Hh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mr(async()=>{const{default:n}=await Promise.resolve().then(()=>Wr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Ug=()=>Ig(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mr(()=>Promise.resolve().then(()=>Wr),void 0)).Response:Response}),ha=e=>{if(Array.isArray(e))return e.map(r=>ha(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ha(n)}),t};var sr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const uo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Mg=(e,t,r)=>sr(void 0,void 0,void 0,function*(){const n=yield Ug();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Ag(uo(s),e.status||500))}).catch(s=>{t(new da(uo(s),s))}):t(new da(uo(e),e))}),Dg=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function qn(e,t,r,n,s,i){return sr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Dg(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Mg(l,a,n))})})}function ii(e,t,r,n){return sr(this,void 0,void 0,function*(){return qn(e,"GET",t,r,n)})}function gt(e,t,r,n,s){return sr(this,void 0,void 0,function*(){return qn(e,"POST",t,n,s,r)})}function zg(e,t,r,n,s){return sr(this,void 0,void 0,function*(){return qn(e,"PUT",t,n,s,r)})}function Fg(e,t,r,n){return sr(this,void 0,void 0,function*(){return qn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Gh(e,t,r,n,s){return sr(this,void 0,void 0,function*(){return qn(e,"DELETE",t,n,s,r)})}var ve=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Bg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vg{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Hh(s)}uploadOrUpdate(t,r,n,s){return ve(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},qu),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ne(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ve(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:qu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return ve(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield gt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ml("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}update(t,r,n){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ve(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ve(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield gt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ve(this,void 0,void 0,function*(){try{const s=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}download(t,r){return ve(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ii(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ne(a))return{data:null,error:a};throw a}})}info(t){return ve(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ii(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ha(n),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}exists(t){return ve(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Fg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ne(n)&&n instanceof da){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Gh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}list(t,r,n){return ve(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Bg),r),{prefix:t||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Wg="2.7.1",Hg={"X-Client-Info":`storage-js/${Wg}`};var lr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Gg{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Hg),r),this.fetch=Hh(n)}listBuckets(){return lr(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ne(t))return{data:null,error:t};throw t}})}getBucket(t){return lr(this,void 0,void 0,function*(){try{return{data:yield ii(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return lr(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return lr(this,void 0,void 0,function*(){try{return{data:yield zg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}emptyBucket(t){return lr(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}deleteBucket(t){return lr(this,void 0,void 0,function*(){try{return{data:yield Gh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}}class qg extends Gg{constructor(t,r={},n){super(t,r,n)}from(t){return new Vg(this.url,this.headers,t,this.fetch)}}const Kg="2.47.10";let an="";typeof Deno<"u"?an="deno":typeof document<"u"?an="web":typeof navigator<"u"&&navigator.product==="ReactNative"?an="react-native":an="node";const Qg={"X-Client-Info":`supabase-js-${an}/${Kg}`},Jg={headers:Qg},Yg={schema:"public"},Zg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xg={};var ey=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const ty=e=>{let t;return e?t=e:typeof fetch>"u"?t=Th:t=fetch,(...r)=>t(...r)},ry=()=>typeof Headers>"u"?Oh:Headers,ny=(e,t,r)=>{const n=ty(r),s=ry();return(i,o)=>ey(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var sy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function iy(e){return e.replace(/\/$/,"")}function oy(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>sy(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const qh="2.67.3",ay="http://localhost:9999",ly="supabase.auth.token",uy={"X-Client-Info":`gotrue-js/${qh}`},Ku=10,fa="X-Supabase-Api-Version",Kh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function cy(e){return Math.round(Date.now()/1e3)+e}function dy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Dt={tested:!1,writable:!1},vn=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dt.tested)return Dt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Dt.tested=!0,Dt.writable=!0}catch{Dt.tested=!0,Dt.writable=!1}return Dt.writable};function hy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Qh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mr(async()=>{const{default:n}=await Promise.resolve().then(()=>Wr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ys=async(e,t)=>{await e.removeItem(t)};function py(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,a,l,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),n=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&s!=0&&(r=r+String.fromCharCode(s)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Ti{constructor(){this.promise=new Ti.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ti.promiseConstructor=Promise;function Qu(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(py(n))}async function my(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function gy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function yy(e){return("0"+e.toString(16)).substr(-2)}function vy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,yy).join("")}async function wy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function xy(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ky(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await wy(e);return xy(r)}async function ur(e,t,r=!1){const n=vy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Jh(e,`${t}-code-verifier`,s);const i=await ky(n);return[i,n===i?"plain":"s256"]}const _y=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sy(e){const t=e.headers.get(fa);if(!t||!t.match(_y))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class gl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jy extends gl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function by(e){return L(e)&&e.name==="AuthApiError"}class Yh extends gl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ir extends gl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ht extends ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ey(e){return L(e)&&e.name==="AuthSessionMissingError"}class co extends ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vs extends ir{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ws extends ir{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ny(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ju extends ir{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pa extends ir{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ho(e){return L(e)&&e.name==="AuthRetryableFetchError"}class Yu extends ir{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var Cy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Bt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Py=[502,503,504];async function Zu(e){var t;if(!fy(e))throw new pa(Bt(e),0);if(Py.includes(e.status))throw new pa(Bt(e),e.status);let r;try{r=await e.json()}catch(i){throw new Yh(Bt(i),i)}let n;const s=Sy(e);if(s&&s.getTime()>=Kh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Yu(Bt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ht}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Yu(Bt(r),e.status,r.weak_password.reasons);throw new jy(Bt(r),e.status||500,n)}const Ty=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function I(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[fa]||(i[fa]=Kh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Oy(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Oy(e,t,r,n,s,i){const o=Ty(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new pa(Bt(l),0)}if(a.ok||await Zu(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Zu(l)}}function ft(e){var t;let r=null;Ay(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=cy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Xu(e){const t=ft(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ry(e){return{data:e,error:null}}function Ly(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Cy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function $y(e){return e}function Ay(e){return e.access_token&&e.refresh_token&&e.expires_in}var Iy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Uy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Qh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Iy(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ly,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(L(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$y});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);c[`${_}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await I(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:wt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:wt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await I(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}const My={getItem:e=>vn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{vn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{vn()&&globalThis.localStorage.removeItem(e)}};function ec(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Dy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cr={debug:!!(globalThis&&vn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zy extends Zh{}async function Fy(e,t,r){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Dy();const By={url:ay,storageKey:ly,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},tn=30*1e3,tc=3;async function rc(e,t,r){return await r()}class Mn{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mn.nextInstanceID,Mn.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},By),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Uy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Qh(s.fetch),this.lock=s.lock||rc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Fy:this.lock=rc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:vn()?this.storage=My:(this.memoryStorage={},this.storage=ec(this.memoryStorage)):(this.memoryStorage={},this.storage=ec(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=hy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ke()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ny(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return L(r)?{error:r}:{error:new Yh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ft}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await ur(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:v},xform:ft})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ft})}else throw new vs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xu})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xu})}else throw new vs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new co}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await gs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ft});if(await ys(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new co}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ft}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new co}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ur(this.storage,this.storageKey));const{error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new vs("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ft});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ur(this.storage,this.storageKey)),await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ry})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ht;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await I(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await I(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new vs("You must provide either an email or phone number and a type")}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ht}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:wt})})}catch(r){if(L(r))return Ey(r)&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ht;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ur(this.storage,this.storageKey));const{data:c,error:d}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:wt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Qu(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ht;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=Qu(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(L(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ht;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ke())throw new ws("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ws(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ju("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ws("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ju("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new ws("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:x,error:_}=await this._getUser(i);if(_)throw _;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(L(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(by(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=dy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ur(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ke()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(L(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gy(async s=>(s>0&&await my(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ft})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ho(i)&&Date.now()+o-n<tn})}catch(n){if(this._debug(r,"error",n),L(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ke()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await gs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+Ku;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ku}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),ho(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ti;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return ho(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Jh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ys(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),tn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${tn}ms, refresh threshold is ${tc} ticks`),s<=tc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ur(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await I(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await I(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(L(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}Mn.nextInstanceID=0;const Vy=Mn;class Wy extends Vy{constructor(t){super(t)}}var Hy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Gy{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=iy(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Yg,realtime:Xg,auth:Object.assign(Object.assign({},Zg),{storageKey:l}),global:Jg},d=oy(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=ny(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new vg(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Km(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qg(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Hy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wy({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new Lg(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qy=(e,t,r)=>new Gy(e,t,r),Ky="https://ifrwkujnkpodngmrtgqf.supabase.co",Qy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlmcndrdWpua3BvZG5nbXJ0Z3FmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU1OTQ5NjIsImV4cCI6MjA1MTE3MDk2Mn0.HCbUvFraZQ2TMDYaBYDNtMdKFIIrgb77ADgVgvZeVIU",Y=qy(Ky,Qy);function Jy(){const[e,t]=w.useState(null),r=Nh();return w.useEffect(()=>{(async()=>{try{const{data:{user:s},error:i}=await Y.auth.getUser();if(i)throw i;if(s){const{error:o}=await Y.rpc("verify_user_email",{user_id:s.id});if(o)throw o}r("/",{replace:!0})}catch(s){t(s instanceof Error?s.message:"Authentication error"),setTimeout(()=>r("/auth",{replace:!0}),3e3)}})()},[r]),e?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:u.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg",children:e})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Verifying your account..."})]})})}const Xh=w.createContext({user:{id:"00000000-0000-0000-0000-000000000000",email:"test@example.com"},loading:!1,error:null,isAdmin:!0,isParent:!1,signIn:async()=>({error:null}),signUp:async()=>({error:null}),signOut:async()=>{}});function Oi(){const e=w.useContext(Xh);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),O=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>w.createElement("svg",{ref:d,...Yy,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Zy(e)}`,a].join(" "),...c},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=O("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=O("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=O("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=O("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=O("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=O("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=O("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=O("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=O("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=O("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=O("Joystick",[["path",{d:"M21 17a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-2Z",key:"jg2n2t"}],["path",{d:"M6 15v-2",key:"gd6mvg"}],["path",{d:"M12 15V9",key:"8c7uyn"}],["circle",{cx:"12",cy:"6",r:"3",key:"1gm2ql"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=O("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=O("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=O("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=O("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=O("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=O("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=O("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=O("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=O("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=O("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=O("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=O("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=O("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=O("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=O("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=O("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=O("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=O("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=O("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=O("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=O("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=O("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=O("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=O("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=O("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=O("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=O("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=O("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=O("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function kv(){const[e,t]=w.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem("theme");return n||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});return w.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(e),localStorage.setItem("theme",e)},[e]),{theme:e,toggleTheme:()=>{t(n=>n==="light"?"dark":"light")}}}function pf(){const{theme:e,toggleTheme:t}=kv();return u.jsx("button",{onClick:t,className:"flex items-center gap-2 w-full p-4 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e==="dark"?u.jsxs(u.Fragment,{children:[u.jsx(mv,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm",children:"Light Mode"})]}):u.jsxs(u.Fragment,{children:[u.jsx(lv,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm",children:"Dark Mode"})]})})}function _v({children:e}){return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 flex flex-col",children:[u.jsx("header",{className:"p-4 absolute top-0 left-0 right-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ff,{className:"w-8 h-8 text-blue-500"}),u.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"ZapBox"})]}),u.jsx(pf,{})]})}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-4 mt-16",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 w-full max-w-md mx-auto backdrop-blur-sm bg-opacity-90 dark:bg-opacity-90 border border-gray-200 dark:border-gray-700",children:e})}),u.jsx("footer",{className:"py-8 text-center text-sm text-gray-600 dark:text-gray-400 absolute bottom-0 left-0 right-0 backdrop-blur-sm",children:u.jsxs("p",{children:["A fork of the Zaparoo project by"," ",u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Callan Barrett"})," and"," ",u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Bjorn Logan"})]})})]})}function Sv({onSignUp:e,onForgotPassword:t}){const[r,n]=w.useState(""),[s,i]=w.useState(""),[o,a]=w.useState(null),[l,c]=w.useState(!1),{signIn:d}=Oi(),h=async f=>{if(f.preventDefault(),a(null),!r||!s){a("Email and password are required");return}c(!0);try{const{error:g}=await d(r,s);if(g){a(g);return}}catch{a("Failed to sign in. Please try again.")}finally{c(!1)}};return u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome back"}),u.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sign in to your account to continue"})]}),u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"email",value:r,onChange:f=>n(f.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"you@example.com"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"password",value:s,onChange:f=>i(f.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:""})]})]}),o&&u.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg flex items-center gap-2",children:[u.jsx(Ri,{className:"w-5 h-5"}),o]}),u.jsxs("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(sv,{className:"w-5 h-5"}),l?"Signing in...":"Sign in"]}),u.jsxs("div",{className:"flex flex-col space-y-2 text-sm text-center",children:[u.jsx("button",{type:"button",onClick:t,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Forgot your password?"}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",u.jsx("button",{type:"button",onClick:e,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Sign up"})]})]})]})]})}function jv({onSignIn:e}){const[t,r]=w.useState(""),[n,s]=w.useState(""),[i,o]=w.useState(""),[a,l]=w.useState(""),[c,d]=w.useState(null),[h,f]=w.useState(!1),{signUp:g}=Oi(),v=async x=>{if(x.preventDefault(),d(null),n!==a){d("Passwords do not match");return}if(n.length<6){d("Password must be at least 6 characters");return}if(!/^[a-zA-Z0-9_-]{3,30}$/.test(i)){d("Handle must be 3-30 characters and can only contain letters, numbers, underscore, or hyphen");return}f(!0);try{const{error:_}=await g(t,n);if(_){d(_);return}d(" Check your email for a verification link")}catch{d("Failed to sign up. Please try again.")}finally{f(!1)}};return u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create an account"}),u.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sign up to start managing your games"})]}),u.jsxs("form",{onSubmit:v,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"email",value:t,onChange:x=>r(x.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"you@example.com"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"password",value:n,onChange:x=>s(x.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"password",value:a,onChange:x=>l(x.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:""})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Handle"}),u.jsxs("div",{className:"relative",children:[u.jsx(xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"Choose a unique handle"})]})]}),c&&u.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-2 ${c.includes("verification")?"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400"}`,children:[u.jsx(Ri,{className:"w-5 h-5"}),c]}),u.jsxs("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(vv,{className:"w-5 h-5"}),h?"Creating account...":"Sign up"]}),u.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",u.jsx("button",{type:"button",onClick:e,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Sign in"})]})]})]})}function bv({onBack:e}){const[t,r]=w.useState(""),[n,s]=w.useState(null),[i,o]=w.useState(!1),[a,l]=w.useState(!1),c=async d=>{d.preventDefault(),s(null),o(!1),l(!0);try{const{error:h}=await Y.auth.resetPasswordForEmail(t);if(h)throw h;o(!0)}catch(h){s(h instanceof Error?h.message:"Failed to send reset email")}finally{l(!1)}};return u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset your password"}),u.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Enter your email address and we'll send you a link to reset your password"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"email",value:t,onChange:d=>r(d.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"you@example.com"})]})]}),n&&u.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg flex items-center gap-2",children:[u.jsx(Ri,{className:"w-5 h-5"}),n]}),i&&u.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-lg",children:"Check your email for a password reset link"}),u.jsxs("button",{type:"submit",disabled:a,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(rv,{className:"w-5 h-5"}),a?"Sending...":"Send reset link"]}),u.jsx("button",{type:"button",onClick:e,className:"w-full text-center text-sm text-gray-600 dark:text-gray-400 hover:underline",children:"Back to sign in"})]})]})}function Ev(){var o,a;const[e,t]=w.useState("signIn"),{user:r,loading:n}=Oi(),i=((a=(o=Si().state)==null?void 0:o.from)==null?void 0:a.pathname)||"/";return n?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?u.jsx(Am,{to:i,replace:!0}):u.jsxs(_v,{children:[e==="signIn"&&u.jsx(Sv,{onSignUp:()=>t("signUp"),onForgotPassword:()=>t("resetPassword")}),e==="signUp"&&u.jsx(jv,{onSignIn:()=>t("signIn")}),e==="resetPassword"&&u.jsx(bv,{onBack:()=>t("signIn")})]})}function Tr({content:e,children:t,position:r="top"}){const[n,s]=w.useState(!1),i={top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"};return u.jsxs("div",{className:"relative inline-flex",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[t,n&&u.jsx("div",{className:`absolute z-50 ${i[r]}`,children:u.jsx("div",{className:"bg-gray-900 text-white text-sm px-2 py-1 rounded shadow-lg whitespace-nowrap",children:e})})]})}const Nv={Gamepad2:yl,Cpu:rf,Sword:df,Joystick:of};function Cv({systems:e,isOpen:t,onClose:r,selectedCore:n,onCoreSelect:s}){const i=w.useRef(null);return w.useEffect(()=>{function o(a){t&&i.current&&!i.current.contains(a.target)&&r()}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[t,r]),u.jsxs(u.Fragment,{children:[t&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden animate-fade-in touch-none"}),u.jsx("aside",{ref:i,className:`fixed top-0 left-0 h-full w-[280px] max-w-[85%] bg-gray-50 dark:bg-gray-900 shadow-lg transform transition-transform duration-300 ease-in-out z-50
          ${t?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-sm font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-4",children:"Dashboards"}),u.jsxs("nav",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>s(null),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors text-sm
                  ${n?"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800":"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 font-medium"}`,children:[u.jsx(Tr,{content:"View all your games and systems",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Kn,{className:"w-4 h-4"}),u.jsx("span",{children:"Overview"})]})}),u.jsx(xs,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]}),u.jsxs("button",{onClick:()=>s("collection"),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-sm",children:[u.jsx(Tr,{content:"View your Zaparoo card collection",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(nf,{className:"w-4 h-4"}),u.jsx("span",{children:"Collection"})]})}),u.jsx(xs,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]}),u.jsxs("button",{onClick:()=>s("leaderboard"),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-sm",children:[u.jsx(Tr,{content:"Check global rankings and achievements",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(hf,{className:"w-4 h-4"}),u.jsx("span",{children:"Leaderboard"})]})}),u.jsx(xs,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]})]})]}),u.jsxs("div",{className:"px-6 py-4",children:[u.jsx("h2",{className:"text-sm font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-4",children:"Systems"}),u.jsx("nav",{className:"space-y-1",children:e==null?void 0:e.map(o=>{const a=Nv[o.icon];return u.jsxs("button",{onClick:()=>s(o.id),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors text-sm group
                      ${n===o.id?"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(a,{className:"w-4 h-4"}),u.jsx("span",{children:o.name})]}),u.jsx(xs,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]},o.id)})})]}),u.jsx("div",{className:"mt-auto border-t border-gray-200 dark:border-gray-700",children:u.jsx(pf,{})})]})})]})}function mf({isConnected:e}){return u.jsx("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ${e?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:e?u.jsxs(u.Fragment,{children:[u.jsx(xv,{className:"w-4 h-4"}),u.jsx("span",{children:"Connected"})]}):u.jsxs(u.Fragment,{children:[u.jsx(wv,{className:"w-4 h-4"}),u.jsx("span",{children:"Disconnected"})]})})}function Pv({onOpenSettings:e}){const[t,r]=w.useState(!1),[n,s]=w.useState(""),[i,o]=w.useState(null),[a,l]=w.useState(!1),c=w.useRef(null),{user:d,signOut:h}=Oi();w.useEffect(()=>{async function g(){if(!d)return;const{data:v,error:x}=await Y.from("user_roles").select("handle").eq("user_id",d.id);if(x){console.error("Error loading handle:",x);return}v&&v.length>0?s(v[0].handle):console.warn("No handle found for user")}g()},[d]),w.useEffect(()=>{function g(v){c.current&&!c.current.contains(v.target)&&r(!1)}return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const f=async g=>{if(d&&g.trim()){o(null);try{const{data:v,error:x}=await Y.rpc("verify_user_handle",{user_id:d.id,new_handle:g});if(x)throw x;if(v.success)s(v.handle),l(!1);else throw new Error(v.error)}catch(v){console.error("Failed to update handle:",v),o(v instanceof Error?v.message:"Failed to update handle"),l(!0)}}};return u.jsxs("div",{className:"relative",ref:c,children:[u.jsx("button",{onClick:()=>r(!t),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:u.jsx(xl,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),t&&u.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Signed in as"}),u.jsx("button",{onClick:()=>l(!a),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:u.jsx(pv,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),a?u.jsx("input",{type:"text",value:n,onChange:g=>s(g.target.value),onKeyDown:g=>{g.key==="Enter"?f(n):g.key==="Escape"&&l(!1)},onBlur:()=>{n.trim()?f(n):l(!1)},className:"mt-1 w-full px-2 py-1 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",placeholder:"Enter handle...",autoFocus:!0}):u.jsx("p",{className:"mt-1 font-medium text-gray-900 dark:text-white",children:n||"Set handle"}),i&&u.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i}),u.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:d==null?void 0:d.email})]}),u.jsxs("div",{className:"py-2",children:[u.jsxs("button",{onClick:()=>{r(!1),e()},className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[u.jsx(cf,{className:"w-4 h-4"}),"Settings"]}),u.jsxs("button",{onClick:async()=>{r(!1);try{await h(),window.location.href="/auth"}catch(g){console.error("Error signing out:",g)}},className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[u.jsx(iv,{className:"w-4 h-4"}),"Sign out"]})]})]})]})}class Tv{constructor(t){this.ws=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3;const r=t.replace(/^https?:\/\//,"").replace(/\/$/,"");this.url=`ws://${r}:7497/ws`}connect(){return new Promise((t,r)=>{try{if(!this.url.match(/^ws:\/\/[\d.]+:7497\/ws$/))throw new Error("Invalid WebSocket URL");this.ws=new WebSocket(this.url);const n=setTimeout(()=>{var s,i;((s=this.ws)==null?void 0:s.readyState)!==WebSocket.OPEN&&((i=this.ws)==null||i.close(),r(new Error("Connection timeout")))},5e3);this.ws.onopen=()=>{console.log("Connected to WebSocket"),clearTimeout(n),this.reconnectAttempts=0,t()},this.ws.onerror=s=>{console.error("WebSocket error:",s),clearTimeout(n),r(s)},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.handleReconnect()}}catch(n){r(n)}})}handleReconnect(){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(`Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),setTimeout(()=>{this.connect().catch(t=>{console.error("Reconnection failed:",t)})},this.reconnectDelay*this.reconnectAttempts))}disconnect(){this.ws&&(this.ws.close(),this.ws=null,this.reconnectAttempts=this.maxReconnectAttempts)}send(t,r){if(!this.ws)throw new Error("WebSocket not connected");if(this.ws.readyState!==WebSocket.OPEN)throw new Error("WebSocket connection not open");const n=crypto.randomUUID(),s={jsonrpc:"2.0",method:t,params:r,id:n};this.ws.send(JSON.stringify(s))}onMessage(t){if(!this.ws)throw new Error("WebSocket not connected");this.ws.onmessage=r=>{try{const n=JSON.parse(r.data);t(n)}catch(n){console.error("Error parsing WebSocket message:",n)}}}}function gf(){const[e,t]=w.useState(null),[r,n]=w.useState(!0),[s,i]=w.useState(null);return w.useEffect(()=>{async function a(){try{const{data:{user:l}}=await Y.auth.getUser();if(!l){i("User not authenticated");return}const{data:c,error:d}=await Y.from("mister_settings").select().eq("user_id",l.id);if(d)if(d.code==="PGRST116")t(null);else throw d;else t((c==null?void 0:c[0])||null)}catch(l){i(l instanceof Error?l.message:"Failed to load settings")}finally{n(!1)}}a()},[]),{settings:e,loading:r,error:s,updateSettings:async(a,l)=>{try{const{data:{user:c}}=await Y.auth.getUser();if(!c){i("User not authenticated");return}const d={user_id:c.id,ip_address:a,is_connected:l,last_connected:l?new Date().toISOString():null};let h;if(e!=null&&e.id?h=await Y.from("mister_settings").update(d).eq("id",e.id).select().single():h=await Y.from("mister_settings").insert([d]).select().single(),h.error)throw h.error;t(h.data),i(null)}catch(c){throw i(c instanceof Error?c.message:"Failed to update settings"),c}}}}function _l(){const[e,t]=w.useState(null),[r,n]=w.useState(!1),[s,i]=w.useState(null),{settings:o,updateSettings:a}=gf(),l=w.useCallback(f=>f.replace(/^https?:\/\//,"").replace(/\/$/,""),[]),c=w.useCallback(async()=>{if(!(o!=null&&o.ip_address)){i("MiSTer IP address not configured");return}try{const f=new Tv(l(o.ip_address));await f.connect(),t(f),n(!0),i(null),await a(o.ip_address,!0)}catch(f){const g=f instanceof Error?f.message:"Failed to connect to MiSTer";i(g),await a(o.ip_address,!1),console.error("WebSocket connection error:",f)}},[o==null?void 0:o.ip_address,a]),d=w.useCallback(()=>{e==null||e.disconnect(),t(null),n(!1),o!=null&&o.ip_address&&a(o.ip_address,!1)},[e]),h=w.useCallback(f=>{if(!e||!r){console.error("Cannot launch game: WebSocket not connected");return}const v=o.ip_address.startsWith("http://")||o.ip_address.startsWith("https://")?"":"http://",x=encodeURIComponent(f).replace(/%2F/g,"/").replace(/%20/g," "),_=`${v}${l(o.ip_address)}:7497/l/${x}`;window.location.href=_},[e,r,o==null?void 0:o.ip_address]);return w.useEffect(()=>(o!=null&&o.ip_address&&c(),()=>{d()}),[o==null?void 0:o.ip_address,c,d]),{isConnected:r,error:s,launchGame:h}}function Ov({onOpenSettings:e,onMenuClick:t,onBack:r,showBack:n}){const{isConnected:s}=_l();return u.jsx("nav",{className:"sticky top-0 z-40 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[n&&r?u.jsx("button",{onClick:r,className:"mr-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:u.jsx(ef,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}):u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-2",children:u.jsx(uv,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ff,{className:"w-6 h-6 text-blue-500"}),u.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"ZapLauncher"})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(mf,{isConnected:s}),u.jsx(Pv,{onOpenSettings:e})]})]})})})}const Rv={Gamepad2:yl,Cpu:rf,Sword:df,Joystick:of};function Lv({system:e,onSelect:t,background:r}){if(e.component)return u.jsx(u.Fragment,{children:e.component});const n=e.icon?Rv[e.icon]:yl,i=r||{nes:"https://images.unsplash.com/photo-1599933310642-8f07bdaa6dc7?w=800",snes:"https://images.unsplash.com/photo-1607853202273-797f1c22a38e?w=800",genesis:"https://images.unsplash.com/photo-1551103782-8ab07afd45c1?w=800",arcade:"https://images.unsplash.com/photo-1511512578047-dfb367046420?w=800"}[e.id];return u.jsxs("button",{onClick:()=>t(e.id),className:"group relative w-full aspect-[4/3] rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[i?u.jsxs(u.Fragment,{children:[u.jsx("img",{src:i,alt:e.name,className:"absolute inset-0 w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/50 transition-colors"})]}):u.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.gradient||"from-gray-500 to-gray-600"} opacity-90 group-hover:opacity-100 transition-opacity`}),u.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col",children:[u.jsx("div",{className:"flex items-start justify-between",children:u.jsx(n,{className:"w-10 h-10 text-white opacity-80 group-hover:opacity-100 transition-opacity"})}),u.jsxs("div",{className:"mt-auto",children:[u.jsx("h3",{className:"text-white text-xl font-bold text-left",children:e.name}),e.manufacturer&&u.jsx("p",{className:"text-white/80 text-sm",children:e.manufacturer})]})]})]})}const $v={nes:"https://images.unsplash.com/photo-1599933310642-8f07bdaa6dc7?w=800",snes:"https://images.unsplash.com/photo-1607853202273-797f1c22a38e?w=800",genesis:"https://images.unsplash.com/photo-1551103782-8ab07afd45c1?w=800",arcade:"https://images.unsplash.com/photo-1511512578047-dfb367046420?w=800"};function Av({systems:e,onSystemSelect:t}){return u.jsxs("div",{className:"px-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Systems"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.map(r=>u.jsx(Lv,{system:r,onSelect:t,background:$v[r.id]},r.id))})]})}function Iv({game:e,onBack:t,onLaunch:r}){return u.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[u.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white mb-6",children:[u.jsx(ef,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Games"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"relative aspect-[3/4] rounded-xl overflow-hidden shadow-lg",children:[u.jsx("img",{src:e.cover_url||"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=800",alt:e.title,className:"w-full h-full object-cover"}),e.favorite&&u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx("span",{className:"bg-yellow-500/90 p-2 rounded-lg",children:u.jsx(Kn,{className:"w-5 h-5 text-white fill-white"})})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:e.title}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.description||"No description available."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-300",children:[u.jsx(ev,{className:"w-5 h-5"}),u.jsx("span",{children:e.releaseYear||"Release year unknown"})]}),u.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-300",children:[u.jsx(xl,{className:"w-5 h-5"}),u.jsx("span",{children:e.developer||"Developer unknown"})]}),u.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-300",children:[u.jsx(gv,{className:"w-5 h-5"}),u.jsx("span",{children:e.genre||"Genre unknown"})]})]}),u.jsxs("button",{onClick:()=>r(e),className:"w-full flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[u.jsx(wl,{className:"w-5 h-5"}),u.jsx("span",{children:"Launch Game"})]})]})]})]})}function Uv({game:e,onSelect:t}){return u.jsx("div",{className:"group cursor-pointer hover:opacity-90 active:opacity-75 transition-opacity",onClick:()=>t(e),children:u.jsxs("div",{className:"aspect-[3/4] rounded-lg overflow-hidden shadow-md dark:shadow-gray-800 relative",children:[u.jsx("img",{src:e.cover_url||"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400",alt:e.title,className:"w-full h-full object-cover",loading:"lazy"}),u.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-100 group-hover:opacity-90 transition-opacity",children:[u.jsxs("div",{className:"absolute bottom-0 p-3 w-full",children:[u.jsx("h3",{className:"text-white font-semibold truncate mb-1",children:e.title}),u.jsx("p",{className:"text-gray-300 text-sm",children:e.core})]}),u.jsx("div",{className:"absolute top-0 right-0 p-2 flex gap-2",children:e.favorite&&u.jsx("span",{className:"bg-yellow-500/90 p-1.5 rounded-lg",children:u.jsx(Kn,{className:"w-4 h-4 text-white fill-white"})})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("span",{className:"bg-white/20 p-3 rounded-full backdrop-blur-sm",children:u.jsx(wl,{className:"w-6 h-6 text-white fill-white"})})})]})]})})}function Mv(e){return e.reduce((t,r)=>{const n=r.title[0].toUpperCase();return t[n]||(t[n]=[]),t[n].push(r),t},{})}function Dv(e,t){return[...e].sort((r,n)=>{switch(t){case"title":return r.title.localeCompare(n.title);case"lastPlayed":return r.lastPlayed?n.lastPlayed?new Date(n.lastPlayed).getTime()-new Date(r.lastPlayed).getTime():-1:1;case"releaseYear":return r.releaseYear?n.releaseYear?parseInt(n.releaseYear)-parseInt(r.releaseYear):-1:1;default:return 0}})}function zv({games:e,onGameSelect:t}){const r=Mv(e);return u.jsx("div",{className:"p-4 space-y-8",children:Object.entries(r).map(([n,s])=>u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white px-2",children:n}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:s.map(i=>u.jsx(Uv,{game:i,onSelect:t},i.id))})]},n))})}function Fv({games:e,onGameSelect:t}){return u.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map(r=>u.jsxs("button",{onClick:()=>t(r),className:"w-full flex items-center space-x-4 p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 active:bg-gray-100 dark:active:bg-gray-800 transition-colors text-left",children:[u.jsx("div",{className:"flex-shrink-0 w-16 h-16",children:u.jsx("img",{src:r.cover_url||"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400",alt:r.title,className:"w-full h-full object-cover rounded-lg shadow-sm",loading:"lazy"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:r.title}),r.favorite&&u.jsx(Kn,{className:"w-4 h-4 text-yellow-400 fill-yellow-400 flex-shrink-0"})]}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.core}),r.lastPlayed&&u.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Last played: ",new Date(r.lastPlayed).toLocaleDateString()]})]}),u.jsx("div",{className:"flex-shrink-0",children:u.jsx(wl,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})})]},r.id))})}function Bv({viewMode:e,setViewMode:t,onSearchClick:r,onMenuClick:n}){return u.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-6 py-2 z-40 select-none",children:u.jsxs("div",{className:"flex justify-around items-center",children:[u.jsx(Tr,{content:"Open navigation menu",position:"top",children:u.jsxs("button",{onClick:n,className:"flex flex-col items-center p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-all active:scale-[0.98]",children:[u.jsx(av,{className:"w-6 h-6"}),u.jsx("span",{className:"text-xs mt-1",children:"Menu"})]})}),u.jsx(Tr,{content:"Search games and systems",position:"top",children:u.jsxs("button",{onClick:r,className:"flex flex-col items-center p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-all active:scale-[0.98]",children:[u.jsx(uf,{className:"w-6 h-6"}),u.jsx("span",{className:"text-xs mt-1",children:"Search"})]})}),u.jsxs("div",{className:"relative group",children:[u.jsxs("button",{className:"flex flex-col items-center p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-all",onClick:()=>t(e==="grid"?"list":"grid"),children:[u.jsxs("div",{className:"relative",children:[u.jsx(nv,{className:"w-6 h-6"}),u.jsx(tv,{className:"w-3 h-3 absolute -right-1 -bottom-1"})]}),u.jsx("span",{className:"text-xs mt-1",children:"View"})]}),u.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity",children:u.jsxs("div",{className:"py-1",children:[u.jsx("button",{onClick:()=>t("grid"),className:`w-full px-4 py-2 text-sm flex items-center gap-2 ${e==="grid"?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Grid View"}),u.jsx("button",{onClick:()=>t("list"),className:`w-full px-4 py-2 text-sm flex items-center gap-2 ${e==="list"?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"List View"})]})})]})]})})}function Vv({onAddGame:e}){return u.jsx("div",{className:"fixed bottom-24 right-6 z-40",children:u.jsx(Tr,{content:"Add a new game",position:"left",children:u.jsx("button",{onClick:e,className:"flex items-center justify-center w-14 h-14 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg transition-colors","aria-label":"Add game",children:u.jsx(cv,{className:"w-6 h-6"})})})})}function Wv({value:e,onChange:t,placeholder:r="Search games...",className:n=""}){return u.jsxs("div",{className:`relative ${n}`,children:[u.jsx(uf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",value:e,onChange:s=>t(s.target.value),placeholder:r,className:"w-full pl-10 pr-4 py-3 bg-white/50 dark:bg-gray-800/50 border border-gray-200/50 dark:border-gray-700/50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white backdrop-blur-sm transition-all"})]})}function Hv({value:e,onChange:t}){return u.jsxs("div",{className:"relative",children:[u.jsx(Xy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsxs("select",{value:e,onChange:r=>t(r.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/50 dark:bg-gray-800/50 border border-gray-200/50 dark:border-gray-700/50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white backdrop-blur-sm transition-all appearance-none",children:[u.jsx("option",{value:"title",children:"Title (A-Z)"}),u.jsx("option",{value:"lastPlayed",children:"Recently Played"}),u.jsx("option",{value:"releaseYear",children:"Release Year"})]})]})}function Gv({isOpen:e,onClose:t,onSearch:r,onSort:n,sortBy:s="title"}){return e?u.jsx("div",{className:"fixed inset-0 bg-black/20 dark:bg-black/40 backdrop-blur-sm z-50 animate-fade-in",onClick:t,children:u.jsx("div",{className:"max-w-xl mx-auto px-4 pt-20",onClick:i=>i.stopPropagation(),children:u.jsxs("div",{className:"bg-white/95 dark:bg-gray-800/95 rounded-2xl shadow-xl p-4 space-y-4 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold dark:text-white",children:"Search Games"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100/50 dark:hover:bg-gray-700/50 rounded-full transition-colors",children:u.jsx(kl,{className:"w-5 h-5 dark:text-gray-400"})})]}),u.jsx(Wv,{value:"",onChange:r,placeholder:"Search games..."}),n&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sort by"}),u.jsx(Hv,{value:s,onChange:n})]})]})})}):null}function qv({value:e,onChange:t,isConnected:r}){const[n,s]=w.useState(""),[i,o]=w.useState(e),[a,l]=w.useState(!1);w.useEffect(()=>{o(e),l(!1)},[e]);const c=g=>g?/^(https?:\/\/)?(\d{1,3}\.){3}\d{1,3}(:\d+)?$/.test(g)?g.replace(/^https?:\/\//,"").split(":")[0].split(".").every(m=>{const p=parseInt(m,10);return p>=0&&p<=255}):!1:!0,d=g=>{const v=g.target.value;o(v),l(!0),c(v)?s(""):s("Please enter a valid IP address (e.g., 192.168.1.1)")},h=()=>{c(i)&&(t(i),l(!1),s(""))},f=g=>{g.key==="Enter"&&!n&&a&&h()};return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"MiSTer IP Address (e.g., 192.168.1.100)"}),u.jsx(mf,{isConnected:r})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(lf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),u.jsx("input",{type:"text",value:i,onChange:d,onKeyDown:f,placeholder:"Enter MiSTer IP address",className:"w-full pl-10 pr-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white transition-colors text-base","aria-label":"MiSTer IP Address"})]}),u.jsxs("button",{onClick:h,disabled:!a||!!n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[u.jsx(dv,{className:"w-5 h-5"}),u.jsx("span",{children:"Save"})]})]}),n&&u.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:n})]})}function Kv({isOpen:e,onClose:t}){const{settings:r,updateSettings:n}=gf(),{isConnected:s}=_l(),i=async o=>{try{await n(o,s)}catch(a){console.error("Failed to update MiSTer settings:",a)}};return e?u.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm overflow-y-auto",children:u.jsx("div",{className:"min-h-screen sm:flex sm:items-center sm:p-4",children:u.jsxs("div",{className:"w-full sm:max-w-2xl mx-auto bg-white dark:bg-gray-800 sm:rounded-2xl shadow-xl animate-fade-in",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(cf,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Settings"})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:u.jsx(kl,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"space-y-8",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-lg font-medium text-gray-900 dark:text-white mb-4",children:[u.jsx(lf,{className:"w-5 h-5"}),"Connection Settings"]}),u.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:u.jsx(qv,{value:(r==null?void 0:r.ip_address)||"",onChange:i,isConnected:s})})]})})})]})})}):null}function Qv(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(null);w.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:l,error:c}=await Y.from("user_collection_details").select("*").order("collected_at",{ascending:!1});if(c)throw c;t(l||[])}catch(l){i(l instanceof Error?l.message:"Failed to load collection")}finally{n(!1)}};return{cards:e,loading:r,error:s,addCard:async l=>{try{const{data:c,error:d}=await Y.rpc("add_card_to_collection",{nfc_id:l});if(d)throw d;if(!c.success)throw new Error(c.error);return await o(),!0}catch(c){return i(c instanceof Error?c.message:"Failed to add card"),!1}},refresh:o}}const Jv={common:"bg-gray-500",uncommon:"bg-green-500",rare:"bg-blue-500","ultra-rare":"bg-purple-500",legendary:"bg-yellow-500"};function Yv({cards:e}){return u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.map(t=>u.jsxs("div",{className:"relative group aspect-[3/4] rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[u.jsx("img",{src:t.artwork_url||"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400",alt:t.game_title||"Game Card",className:"absolute inset-0 w-full h-full object-cover"}),u.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-100 group-hover:opacity-90 transition-opacity",children:[u.jsx("div",{className:"absolute top-2 right-2",children:u.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white ${Jv[t.rarity]||"bg-gray-500"}`,children:[u.jsx(fv,{className:"w-3 h-3 mr-1"}),t.rarity]})}),u.jsxs("div",{className:"absolute bottom-0 p-3 w-full",children:[u.jsx("h3",{className:"text-white font-semibold truncate mb-1",children:t.game_title||"Unknown Game"}),t.system_id&&u.jsxs("p",{className:"text-gray-300 text-sm flex items-center gap-1",children:[u.jsx(sf,{className:"w-3 h-3"}),t.system_id.toUpperCase()]}),u.jsxs("p",{className:"text-gray-400 text-xs mt-1",children:["Collected ",new Date(t.collected_at).toLocaleDateString()]})]})]})]},t.nfc_id))})}function nc({onScan:e}){const[t,r]=w.useState(!1),[n,s]=w.useState(null),i=async()=>{r(!0),s(null);try{if(!("NDEFReader"in window))throw new Error("NFC scanning is not supported on this device");const o=new window.NDEFReader;await o.scan(),o.addEventListener("reading",async({message:a})=>{const l=a.records[0].data;await e(l)||s("Invalid or unknown card")})}catch(o){s(o instanceof Error?o.message:"Failed to scan card")}finally{r(!1)}};return u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:i,disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t?u.jsx(af,{className:"w-5 h-5 animate-spin"}):u.jsx(hv,{className:"w-5 h-5"}),t?"Scanning...":"Scan Card"]}),n&&u.jsx("div",{className:"absolute top-full mt-2 w-48 p-2 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg",children:n})]})}function Zv(){const{cards:e,loading:t,error:r,addCard:n}=Qv();return t?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(af,{className:"w-8 h-8 text-blue-500 animate-spin"})}):r?u.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg flex items-center gap-2",children:[u.jsx(Ri,{className:"w-5 h-5"}),r]}):e.length===0?u.jsxs("div",{className:"text-center p-8 space-y-4",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(nf,{className:"w-16 h-16 text-gray-400 dark:text-gray-600"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No Cards Yet"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-sm mx-auto",children:"Start your collection by scanning Zaparoo NFC cards for your games."}),u.jsx("div",{className:"pt-4",children:u.jsx(nc,{onScan:n})})]}):u.jsxs("div",{className:"space-y-6 p-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"My Collection"}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.length," ",e.length===1?"card":"cards"," collected"]})]}),u.jsx(nc,{onScan:n})]}),u.jsx(Yv,{cards:e})]})}function Xv(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(null);return w.useEffect(()=>{async function o(){try{const{data:a,error:l}=await Y.from("player_stats").select("*").order("total_points",{ascending:!1});if(l)throw l;const{data:c}=await Y.from("user_roles").select("user_id, handle"),d=new Map((c==null?void 0:c.map(f=>[f.user_id,f.handle]))||[]),h=a.map(f=>({user_id:f.user_id,total_points:f.total_points,games_played:f.games_played,total_playtime:f.total_playtime,handle:d.get(f.user_id)||"Unknown Player"}));t(h)}catch(a){i(a instanceof Error?a.message:"Failed to load leaderboard")}finally{n(!1)}}o()},[]),r?u.jsx("div",{className:"flex items-center justify-center h-[50vh]",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?u.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg",children:s}):u.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[u.jsx(hf,{className:"w-6 h-6 text-yellow-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Leaderboard"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:e.slice(0,3).map((o,a)=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 relative overflow-hidden",children:[u.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 ${a===0?"bg-yellow-500":a===1?"bg-gray-400":"bg-amber-700"} transform rotate-45 translate-x-8 -translate-y-8`}),u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:[a+1,". ",o.handle]}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[o.total_points.toLocaleString()," pts"]})]}),u.jsx(ov,{className:`w-8 h-8 ${a===0?"text-yellow-500":a===1?"text-gray-400":"text-amber-700"}`})]}),u.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(sf,{className:"w-4 h-4 text-gray-400"}),u.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.games_played," games"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tf,{className:"w-4 h-4 text-gray-400"}),u.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Math.floor(parseInt(o.total_playtime)/3600),"h played"]})]})]})]},o.user_id))}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50",children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Rank"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Player"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Points"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Games"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Time Played"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map((o,a)=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a+1}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:o.handle}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:o.total_points.toLocaleString()}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:o.games_played}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[Math.floor(parseInt(o.total_playtime)/3600),"h"]})]},o.user_id))})]})})})]})}const ga=[{id:"nes",name:"NES",shortName:"NES",icon:"Gamepad2",description:"8-bit home video game console",year:"1983",manufacturer:"Nintendo",color:"rgb(229, 62, 62)",gradient:"from-red-500 to-red-600"},{id:"snes",name:"SNES",shortName:"SNES",icon:"Cpu",description:"16-bit home video game console",year:"1990",manufacturer:"Nintendo",color:"rgb(129, 140, 248)",gradient:"from-indigo-400 to-indigo-500"},{id:"genesis",name:"Sega Genesis",shortName:"Genesis",icon:"Sword",description:"16-bit home video game console",year:"1988",manufacturer:"Sega",color:"rgb(34, 197, 94)",gradient:"from-green-500 to-green-600"},{id:"arcade",name:"Arcade Systems",shortName:"Arcade",icon:"Joystick",description:"Classic arcade systems",year:"1970s-1990s",manufacturer:"Various",color:"rgb(234, 179, 8)",gradient:"from-yellow-500 to-yellow-600"}];function e1({isOpen:e,onClose:t,onGameAdded:r}){const[n,s]=w.useState(""),[i,o]=w.useState(""),[a,l]=w.useState(""),[c,d]=w.useState(""),[h,f]=w.useState(""),[g,v]=w.useState(""),[x,_]=w.useState(""),[m,p]=w.useState(""),[y,k]=w.useState(null),j=async b=>{b.preventDefault(),k(null);try{const{data:{user:P}}=await Y.auth.getUser();if(!P)throw new Error("User not authenticated");const D={title:n,system_id:i,path:a,description:c,release_year:h,developer:g,genre:x,cover_url:m,favorite:!1,user_id:P.id},{error:T}=await Y.from("games").insert([D]);if(T)throw T;r(D),t(),C()}catch(P){k(P instanceof Error?P.message:"Failed to add game")}},C=()=>{s(""),o(""),l(""),d(""),f(""),v(""),_(""),p(""),k(null)};return e?u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:t}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-2xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add New Game"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:u.jsx(kl,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),u.jsxs("form",{onSubmit:j,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),u.jsx("input",{type:"text",value:n,onChange:b=>s(b.target.value),required:!0,className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"System *"}),u.jsxs("select",{value:i,onChange:b=>o(b.target.value),required:!0,className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",children:[u.jsx("option",{value:"",children:"Select a system"}),ga.map(b=>u.jsx("option",{value:b.id,children:b.name},b.id))]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Game Path *"}),u.jsx("input",{type:"text",value:a,onChange:b=>l(b.target.value),required:!0,placeholder:"/games/nes/game.rom",className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),u.jsx("textarea",{value:c,onChange:b=>d(b.target.value),rows:3,className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white resize-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Release Year"}),u.jsx("input",{type:"text",value:h,onChange:b=>f(b.target.value),placeholder:"1985",className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Developer"}),u.jsx("input",{type:"text",value:g,onChange:b=>v(b.target.value),className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Genre"}),u.jsx("input",{type:"text",value:x,onChange:b=>_(b.target.value),className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cover URL"}),u.jsx("input",{type:"url",value:m,onChange:b=>p(b.target.value),placeholder:"https://example.com/cover.jpg",className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white"})]})]}),y&&u.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:y}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[u.jsx(yv,{className:"w-4 h-4"}),u.jsx("span",{children:"Add Game"})]})]})]})]})})]}):null}function t1({games:e,onGameSelect:t}){const r=e.filter(n=>n.lastPlayed).sort((n,s)=>new Date(s.lastPlayed).getTime()-new Date(n.lastPlayed).getTime()).slice(0,4);return r.length===0?null:u.jsxs("div",{className:"px-4 mb-8",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx(tf,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Games"})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6",children:r.map(n=>u.jsx("div",{className:"relative cursor-pointer group",onClick:()=>t(n),children:u.jsxs("div",{className:"aspect-[3/4] rounded-lg overflow-hidden shadow-md",children:[u.jsx("img",{src:n.coverUrl||"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400",alt:n.title,className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent",children:u.jsxs("div",{className:"absolute bottom-0 p-3 w-full",children:[u.jsx("h3",{className:"text-white font-semibold truncate",children:n.title}),u.jsx("p",{className:"text-gray-300 text-sm",children:n.core})]})})]})},n.id))})]})}function r1({favoriteCount:e,onClick:t}){return u.jsxs("button",{onClick:t,className:"group relative w-full aspect-[4/3] rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400 to-yellow-500 opacity-90 group-hover:opacity-100 transition-opacity"}),u.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col",children:[u.jsx(Kn,{className:"w-8 h-8 text-white/90 fill-white/90"}),u.jsxs("div",{className:"mt-auto",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Favorites"}),u.jsxs("p",{className:"text-sm text-white/80",children:[e," games"]})]})]}),u.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]})}const fo=[{id:"smb-1",title:"Super Mario Bros.",system_id:"nes",path:"/NES/USA/Super%20Mario%20Bros.%20(USA).nes",description:"The classic platformer where Mario saves Princess Peach.",cover_url:"https://images.launchbox-app.com/e078d459-a166-47a2-9b5a-26a9fd7cd924.jpg",favorite:!0,release_year:"1985",developer:"Nintendo",genre:"Platformer"},{id:"zelda-1",title:"The Legend of Zelda",system_id:"nes",path:"/NES/USA/Legend%20of%20Zelda,%20The%20(USA)%20(Rev%201).nes",description:"Explore dungeons, solve puzzles, and defeat Ganon!",cover_url:"https://images.launchbox-app.com/cf17144e-91bb-4727-953b-905aa894644c.png",favorite:!1,release_year:"1986",developer:"Nintendo",genre:"Action-Adventure"},{id:"smw-1",title:"Super Mario World",system_id:"snes",path:"/SNES/USA/Super%20Mario%20World%20(USA).sfc",description:"Join Mario and Yoshi in this epic adventure!",cover_url:"https://images.launchbox-app.com/1a175c33-1c72-4524-bc46-9f88b566cb16.jpg",favorite:!0,release_year:"1990",developer:"Nintendo",genre:"Platformer"},{id:"alttp-1",title:"The Legend of Zelda: A Link to the Past",system_id:"snes",path:"/SNES/USA/Legend%20of%20Zelda,%20The%20-%20A%20Link%20to%20the%20Past%20(USA).sfc",description:"Help Link save Hyrule in this SNES classic.",cover_url:"https://images.launchbox-app.com/04cfaf16-9aa5-42da-b326-a43149b01f75.jpg",favorite:!1,release_year:"1991",developer:"Nintendo",genre:"Action-Adventure"},{id:"sonic-1",title:"Sonic the Hedgehog",system_id:"genesis",path:"/Genesis/Sonic%20The%20Hedgehog%20(USA).md",description:"Speed through levels and stop Dr. Robotnik!",cover_url:"https://images.launchbox-app.com/f7f1fdbd-fc6f-430c-8a33-35516e01690c.png",favorite:!0,release_year:"1991",developer:"Sega",genre:"Platformer"},{id:"sor-1",title:"Streets of Rage",system_id:"genesis",path:"/Genesis/Streets%20of%20Rage%202%20(USA).md",description:"Fight against crime in this beat 'em up classic.",cover_url:"https://images.launchbox-app.com/75e8efc5-67bb-4dd3-971f-2784dbb8529e.jpg",favorite:!1,release_year:"1991",developer:"Sega",genre:"Beat-em-up"},{id:"mgs-1",title:"Metal Gear Solid",system_id:"psx",path:"/PSX/USA/Multi%20Disc%20(CHD)/Metal%20Gear%20Solid%20(USA)/Metal%20Gear%20Solid%20(USA)%20(Disc%201)%20(v1.1).chd",description:"Solid Snake must stop the terrorists at Shadow Moses.",cover_url:"https://images.launchbox-app.com/5e05d377-f292-41ec-a652-1b817ea2f7bb.jpg",favorite:!0,release_year:"1998",developer:"Konami",genre:"Action-Adventure"},{id:"crash-3",title:"Crash Bandicoot 3",system_id:"psx",path:"/PSX/USA/Crash%20Bandicoot%20-%20Warped%20(USA).chd",description:"Gather all crystal by traveling back in different time periods and stop DR. Neo Cortex.",cover_url:"https://images.launchbox-app.com/62058421-e686-46b2-a731-4a7a401bfb07.jpg",favorite:!1,release_year:"1998",developer:"Naughty Dog",genre:"Platformer"}];function n1(){const[e,t]=w.useState("grid"),[r,n]=w.useState(!1),[s,i]=w.useState(!1),[o,a]=w.useState(!1),[l,c]=w.useState(null),[d,h]=w.useState(""),[f,g]=w.useState("title"),[v,x]=w.useState(null),[_,m]=w.useState(!1),{isConnected:p,error:y,launchGame:k}=_l(),j=w.useMemo(()=>{const T=fo.filter(ue=>{var Jn,or;const It=l?ue.system_id===l:!0,Xe=d.toLowerCase(),Qn=ue.title.toLowerCase().includes(Xe)||((Jn=ue.genre)==null?void 0:Jn.toLowerCase().includes(Xe))||!1||((or=ue.developer)==null?void 0:or.toLowerCase().includes(Xe))||!1;return It&&Qn});return Dv(T,f)},[l,d,f]),C=w.useMemo(()=>fo.filter(T=>T.favorite),[]),b=T=>{x(T)},P=T=>{if(!T.path){console.error("Game path not available:",T.title);return}k(T.path)},D=T=>{console.log("Game added:",T)};return u.jsx(zm,{children:u.jsxs(Um,{children:[u.jsx(Ls,{path:"/auth",element:u.jsx(Ev,{})}),u.jsx(Ls,{path:"/auth/callback",element:u.jsx(Jy,{})}),u.jsx(Ls,{path:"/",element:u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors relative",children:[u.jsx(Ov,{onOpenSettings:()=>a(!0),onMenuClick:()=>i(!0),onBack:v?()=>x(null):l?()=>c(null):void 0,showBack:!!l||!!v}),u.jsx(Cv,{systems:ga,isOpen:s,onClose:()=>i(!1),selectedCore:l,onCoreSelect:T=>{c(T),i(!1)}}),u.jsx(Kv,{isOpen:o,onClose:()=>a(!1)}),u.jsx(e1,{isOpen:_,onClose:()=>m(!1),onGameAdded:D}),u.jsx(Gv,{isOpen:r,onClose:()=>n(!1),onSearch:h,onSort:g,sortBy:f}),u.jsx("main",{className:"pb-20",children:v?u.jsx(Iv,{game:v,onBack:()=>x(null),onLaunch:P}):l==="collection"?u.jsx(Zv,{}):l==="leaderboard"?u.jsx(Xv,{}):l?e==="grid"?u.jsx(zv,{games:j,onGameSelect:b}):u.jsx(Fv,{games:j,onGameSelect:b}):u.jsxs("div",{className:"p-6 space-y-8",children:[u.jsx(t1,{games:fo,onGameSelect:b}),u.jsx(Av,{systems:[...ga,{id:"favorites",component:u.jsx(r1,{favoriteCount:C.length,onClick:()=>c("favorites")})}],onSystemSelect:c})]})}),!v&&u.jsx(Vv,{onAddGame:()=>m(!0)}),u.jsx(Bv,{viewMode:e,setViewMode:t,onMenuClick:()=>i(!0),onSearchClick:()=>n(!0)})]})})]})})}const s1=w.createContext(void 0);function i1({children:e}){const[t,r]=w.useState(()=>localStorage.getItem("theme")||"light");w.useEffect(()=>{localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",t==="dark")},[t]);const n=()=>{r(s=>s==="light"?"dark":"light")};return u.jsx(s1.Provider,{value:{theme:t,toggleTheme:n},children:e})}function o1({children:e}){const[t,r]=w.useState(null),[n,s]=w.useState(!0),[i,o]=w.useState(null);w.useEffect(()=>{Y.auth.getSession().then(({data:{session:f}})=>{r((f==null?void 0:f.user)??null),s(!1)});const{data:{subscription:h}}=Y.auth.onAuthStateChange((f,g)=>{r((g==null?void 0:g.user)??null),s(!1)});return()=>h.unsubscribe()},[]);const d={user:t,loading:n,error:i,signIn:async(h,f)=>{try{if(!h||!f)return{error:"Please enter your email and password"};const{error:g}=await Y.auth.signInWithPassword({email:h,password:f});return g?{error:g.message==="Invalid login credentials"?"Invalid email or password":"Unable to sign in. Please try again."}:{error:null}}catch(g){return console.error("Unexpected error during sign in:",g),{error:"Unable to connect to the server. Please try again later."}}},signUp:async(h,f)=>{try{if(!h||!f)return{error:"Email and password are required"};const{error:g}=await Y.auth.signUp({email:h,password:f,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});return g?(console.error("Sign up error:",g),{error:g.message}):{error:null}}catch(g){return console.error("Unexpected error during sign up:",g),{error:"Failed to create account. Please try again."}}},signOut:async()=>{try{const{error:h}=await Y.auth.signOut();if(h)throw h;r(null),window.location.replace("/auth")}catch(h){console.error("Error signing out:",h),r(null),window.location.replace("/auth")}}};return u.jsx(Xh.Provider,{value:d,children:e})}gh(document.getElementById("root")).render(u.jsx(w.StrictMode,{children:u.jsx(o1,{children:u.jsx(i1,{children:u.jsx(n1,{})})})}));export{vf as g};
