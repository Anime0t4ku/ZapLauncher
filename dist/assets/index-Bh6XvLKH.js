function pf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var oc={exports:{}},li={},ac={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=Symbol.for("react.element"),yf=Symbol.for("react.portal"),vf=Symbol.for("react.fragment"),wf=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),kf=Symbol.for("react.provider"),_f=Symbol.for("react.context"),Sf=Symbol.for("react.forward_ref"),jf=Symbol.for("react.suspense"),bf=Symbol.for("react.memo"),Ef=Symbol.for("react.lazy"),bl=Symbol.iterator;function Nf(e){return e===null||typeof e!="object"?null:(e=bl&&e[bl]||e["@@iterator"],typeof e=="function"?e:null)}var lc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uc=Object.assign,cc={};function zr(e,t,r){this.props=e,this.context=t,this.refs=cc,this.updater=r||lc}zr.prototype.isReactComponent={};zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dc(){}dc.prototype=zr.prototype;function wa(e,t,r){this.props=e,this.context=t,this.refs=cc,this.updater=r||lc}var xa=wa.prototype=new dc;xa.constructor=wa;uc(xa,zr.prototype);xa.isPureReactComponent=!0;var El=Array.isArray,hc=Object.prototype.hasOwnProperty,ka={current:null},fc={key:!0,ref:!0,__self:!0,__source:!0};function pc(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)hc.call(t,n)&&!fc.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Dn,type:e,key:i,ref:o,props:s,_owner:ka.current}}function Cf(e,t){return{$$typeof:Dn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _a(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dn}function Pf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Nl=/\/+/g;function Ui(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pf(""+e.key):t.toString(36)}function _s(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Dn:case yf:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ui(o,0):n,El(s)?(r="",e!=null&&(r=e.replace(Nl,"$&/")+"/"),_s(s,t,r,"",function(c){return c})):s!=null&&(_a(s)&&(s=Cf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Nl,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",El(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Ui(i,a);o+=_s(i,t,r,l,s)}else if(l=Nf(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Ui(i,a++),o+=_s(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function es(e,t,r){if(e==null)return e;var n=[],s=0;return _s(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Tf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ye={current:null},Ss={transition:null},Of={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Ss,ReactCurrentOwner:ka};function mc(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:es,forEach:function(e,t,r){es(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return es(e,function(){t++}),t},toArray:function(e){return es(e,function(t){return t})||[]},only:function(e){if(!_a(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};I.Component=zr;I.Fragment=vf;I.Profiler=xf;I.PureComponent=wa;I.StrictMode=wf;I.Suspense=jf;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Of;I.act=mc;I.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=uc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ka.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)hc.call(t,l)&&!fc.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Dn,type:e.type,key:s,ref:i,props:n,_owner:o}};I.createContext=function(e){return e={$$typeof:_f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kf,_context:e},e.Consumer=e};I.createElement=pc;I.createFactory=function(e){var t=pc.bind(null,e);return t.type=e,t};I.createRef=function(){return{current:null}};I.forwardRef=function(e){return{$$typeof:Sf,render:e}};I.isValidElement=_a;I.lazy=function(e){return{$$typeof:Ef,_payload:{_status:-1,_result:e},_init:Tf}};I.memo=function(e,t){return{$$typeof:bf,type:e,compare:t===void 0?null:t}};I.startTransition=function(e){var t=Ss.transition;Ss.transition={};try{e()}finally{Ss.transition=t}};I.unstable_act=mc;I.useCallback=function(e,t){return ye.current.useCallback(e,t)};I.useContext=function(e){return ye.current.useContext(e)};I.useDebugValue=function(){};I.useDeferredValue=function(e){return ye.current.useDeferredValue(e)};I.useEffect=function(e,t){return ye.current.useEffect(e,t)};I.useId=function(){return ye.current.useId()};I.useImperativeHandle=function(e,t,r){return ye.current.useImperativeHandle(e,t,r)};I.useInsertionEffect=function(e,t){return ye.current.useInsertionEffect(e,t)};I.useLayoutEffect=function(e,t){return ye.current.useLayoutEffect(e,t)};I.useMemo=function(e,t){return ye.current.useMemo(e,t)};I.useReducer=function(e,t,r){return ye.current.useReducer(e,t,r)};I.useRef=function(e){return ye.current.useRef(e)};I.useState=function(e){return ye.current.useState(e)};I.useSyncExternalStore=function(e,t,r){return ye.current.useSyncExternalStore(e,t,r)};I.useTransition=function(){return ye.current.useTransition()};I.version="18.3.1";ac.exports=I;var k=ac.exports;const Rf=mf(k),Lf=pf({__proto__:null,default:Rf},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f=k,If=Symbol.for("react.element"),Af=Symbol.for("react.fragment"),Uf=Object.prototype.hasOwnProperty,Mf=$f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Df={key:!0,ref:!0,__self:!0,__source:!0};function gc(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Uf.call(t,n)&&!Df.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:If,type:e,key:i,ref:o,props:s,_owner:Mf.current}}li.Fragment=Af;li.jsx=gc;li.jsxs=gc;oc.exports=li;var u=oc.exports,yc={exports:{}},Oe={},vc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,O){var $=C.length;C.push(O);e:for(;0<$;){var Q=$-1>>>1,te=C[Q];if(0<s(te,O))C[Q]=O,C[$]=te,$=Q;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var O=C[0],$=C.pop();if($!==O){C[0]=$;e:for(var Q=0,te=C.length,Xn=te>>>1;Q<Xn;){var Mt=2*(Q+1)-1,Ai=C[Mt],Dt=Mt+1,Zn=C[Dt];if(0>s(Ai,$))Dt<te&&0>s(Zn,Ai)?(C[Q]=Zn,C[Dt]=$,Q=Dt):(C[Q]=Ai,C[Mt]=$,Q=Mt);else if(Dt<te&&0>s(Zn,$))C[Q]=Zn,C[Dt]=$,Q=Dt;else break e}}return O}function s(C,O){var $=C.sortIndex-O.sortIndex;return $!==0?$:C.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,y=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var O=r(c);O!==null;){if(O.callback===null)n(c);else if(O.startTime<=C)n(c),O.sortIndex=O.expirationTime,t(l,O);else break;O=r(c)}}function x(C){if(w=!1,m(C),!v)if(r(l)!==null)v=!0,ar(j);else{var O=r(c);O!==null&&Ii(x,O.startTime-C)}}function j(C,O){v=!1,w&&(w=!1,g(P),P=-1),y=!0;var $=f;try{for(m(O),h=r(l);h!==null&&(!(h.expirationTime>O)||C&&!ce());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var te=Q(h.expirationTime<=O);O=e.unstable_now(),typeof te=="function"?h.callback=te:h===r(l)&&n(l),m(O)}else n(l);h=r(l)}if(h!==null)var Xn=!0;else{var Mt=r(c);Mt!==null&&Ii(x,Mt.startTime-O),Xn=!1}return Xn}finally{h=null,f=$,y=!1}}var N=!1,b=null,P=-1,D=5,T=-1;function ce(){return!(e.unstable_now()-T<D)}function Ut(){if(b!==null){var C=e.unstable_now();T=C;var O=!0;try{O=b(!0,C)}finally{O?et():(N=!1,b=null)}}else N=!1}var et;if(typeof p=="function")et=function(){p(Ut)};else if(typeof MessageChannel<"u"){var Jn=new MessageChannel,Yn=Jn.port2;Jn.port1.onmessage=Ut,et=function(){Yn.postMessage(null)}}else et=function(){_(Ut,0)};function ar(C){b=C,N||(N=!0,et())}function Ii(C,O){P=_(function(){C(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,ar(j))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var $=f;f=O;try{return C()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var $=f;f=C;try{return O()}finally{f=$}},e.unstable_scheduleCallback=function(C,O,$){var Q=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Q+$:Q):$=Q,C){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=$+te,C={id:d++,callback:O,priorityLevel:C,startTime:$,expirationTime:te,sortIndex:-1},$>Q?(C.sortIndex=$,t(c,C),r(l)===null&&C===r(c)&&(w?(g(P),P=-1):w=!0,Ii(x,$-Q))):(C.sortIndex=te,t(l,C),v||y||(v=!0,ar(j))),C},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(C){var O=f;return function(){var $=f;f=O;try{return C.apply(this,arguments)}finally{f=$}}}})(wc);vc.exports=wc;var zf=vc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff=k,Te=zf;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xc=new Set,wn={};function rr(e,t){Or(e,t),Or(e+"Capture",t)}function Or(e,t){for(wn[e]=t,e=0;e<t.length;e++)xc.add(t[e])}var at=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yo=Object.prototype.hasOwnProperty,Bf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cl={},Pl={};function Vf(e){return yo.call(Pl,e)?!0:yo.call(Cl,e)?!1:Bf.test(e)?Pl[e]=!0:(Cl[e]=!0,!1)}function Wf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hf(e,t,r,n){if(t===null||typeof t>"u"||Wf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ve(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ue[e]=new ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ue[t]=new ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ue[e]=new ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ue[e]=new ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ue[e]=new ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ue[e]=new ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ue[e]=new ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ue[e]=new ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ue[e]=new ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sa=/[\-:]([a-z])/g;function ja(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sa,ja);ue[t]=new ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sa,ja);ue[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sa,ja);ue[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ue[e]=new ve(e,1,!1,e.toLowerCase(),null,!1,!1)});ue.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ue[e]=new ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function ba(e,t,r,n){var s=ue.hasOwnProperty(t)?ue[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hf(t,r,s,n)&&(r=null),n||s===null?Vf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var dt=Ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ts=Symbol.for("react.element"),hr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),Ea=Symbol.for("react.strict_mode"),vo=Symbol.for("react.profiler"),kc=Symbol.for("react.provider"),_c=Symbol.for("react.context"),Na=Symbol.for("react.forward_ref"),wo=Symbol.for("react.suspense"),xo=Symbol.for("react.suspense_list"),Ca=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),Sc=Symbol.for("react.offscreen"),Tl=Symbol.iterator;function Gr(e){return e===null||typeof e!="object"?null:(e=Tl&&e[Tl]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,Mi;function rn(e){if(Mi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Mi=t&&t[1]||""}return`
`+Mi+e}var Di=!1;function zi(e,t){if(!e||Di)return"";Di=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Di=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rn(e):""}function Gf(e){switch(e.tag){case 5:return rn(e.type);case 16:return rn("Lazy");case 13:return rn("Suspense");case 19:return rn("SuspenseList");case 0:case 2:case 15:return e=zi(e.type,!1),e;case 11:return e=zi(e.type.render,!1),e;case 1:return e=zi(e.type,!0),e;default:return""}}function ko(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fr:return"Fragment";case hr:return"Portal";case vo:return"Profiler";case Ea:return"StrictMode";case wo:return"Suspense";case xo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _c:return(e.displayName||"Context")+".Consumer";case kc:return(e._context.displayName||"Context")+".Provider";case Na:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ca:return t=e.displayName||null,t!==null?t:ko(e.type)||"Memo";case mt:t=e._payload,e=e._init;try{return ko(e(t))}catch{}}return null}function qf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ko(t);case 8:return t===Ea?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kf(e){var t=jc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rs(e){e._valueTracker||(e._valueTracker=Kf(e))}function bc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=jc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _o(e,t){var r=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ol(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Rt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ec(e,t){t=t.checked,t!=null&&ba(e,"checked",t,!1)}function So(e,t){Ec(e,t);var r=Rt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jo(e,t.type,r):t.hasOwnProperty("defaultValue")&&jo(e,t.type,Rt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jo(e,t,r){(t!=="number"||Is(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nn=Array.isArray;function jr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Rt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ll(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(S(92));if(nn(r)){if(1<r.length)throw Error(S(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Rt(r)}}function Nc(e,t){var r=Rt(t.value),n=Rt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $l(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,Pc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qf=["Webkit","ms","Moz","O"];Object.keys(ln).forEach(function(e){Qf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ln[t]=ln[e]})});function Tc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ln.hasOwnProperty(e)&&ln[e]?(""+t).trim():t+"px"}function Oc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Tc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Jf=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function No(e,t){if(t){if(Jf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function Co(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function Pa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var To=null,br=null,Er=null;function Il(e){if(e=Bn(e)){if(typeof To!="function")throw Error(S(280));var t=e.stateNode;t&&(t=fi(t),To(e.stateNode,e.type,t))}}function Rc(e){br?Er?Er.push(e):Er=[e]:br=e}function Lc(){if(br){var e=br,t=Er;if(Er=br=null,Il(e),t)for(e=0;e<t.length;e++)Il(t[e])}}function $c(e,t){return e(t)}function Ic(){}var Fi=!1;function Ac(e,t,r){if(Fi)return e(t,r);Fi=!0;try{return $c(e,t,r)}finally{Fi=!1,(br!==null||Er!==null)&&(Ic(),Lc())}}function kn(e,t){var r=e.stateNode;if(r===null)return null;var n=fi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(S(231,t,typeof r));return r}var Oo=!1;if(at)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Oo=!1}function Yf(e,t,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var un=!1,As=null,Us=!1,Ro=null,Xf={onError:function(e){un=!0,As=e}};function Zf(e,t,r,n,s,i,o,a,l){un=!1,As=null,Yf.apply(Xf,arguments)}function ep(e,t,r,n,s,i,o,a,l){if(Zf.apply(this,arguments),un){if(un){var c=As;un=!1,As=null}else throw Error(S(198));Us||(Us=!0,Ro=c)}}function nr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Uc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Al(e){if(nr(e)!==e)throw Error(S(188))}function tp(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(S(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Al(s),e;if(i===n)return Al(s),t;i=i.sibling}throw Error(S(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(S(189))}}if(r.alternate!==n)throw Error(S(190))}if(r.tag!==3)throw Error(S(188));return r.stateNode.current===r?e:t}function Mc(e){return e=tp(e),e!==null?Dc(e):null}function Dc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dc(e);if(t!==null)return t;e=e.sibling}return null}var zc=Te.unstable_scheduleCallback,Ul=Te.unstable_cancelCallback,rp=Te.unstable_shouldYield,np=Te.unstable_requestPaint,J=Te.unstable_now,sp=Te.unstable_getCurrentPriorityLevel,Ta=Te.unstable_ImmediatePriority,Fc=Te.unstable_UserBlockingPriority,Ms=Te.unstable_NormalPriority,ip=Te.unstable_LowPriority,Bc=Te.unstable_IdlePriority,ui=null,Xe=null;function op(e){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ui,e,void 0,(e.current.flags&128)===128)}catch{}}var He=Math.clz32?Math.clz32:up,ap=Math.log,lp=Math.LN2;function up(e){return e>>>=0,e===0?32:31-(ap(e)/lp|0)|0}var ss=64,is=4194304;function sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ds(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=sn(a):(i&=o,i!==0&&(n=sn(i)))}else o=r&~s,o!==0?n=sn(o):i!==0&&(n=sn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-He(t),s=1<<r,n|=e[r],t&=~s;return n}function cp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-He(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=cp(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Lo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vc(){var e=ss;return ss<<=1,!(ss&4194240)&&(ss=64),e}function Bi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-He(t),e[t]=r}function hp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-He(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Oa(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-He(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var M=0;function Wc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hc,Ra,Gc,qc,Kc,$o=!1,os=[],jt=null,bt=null,Et=null,_n=new Map,Sn=new Map,vt=[],fp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ml(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":_n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(t.pointerId)}}function Kr(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Bn(t),t!==null&&Ra(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pp(e,t,r,n,s){switch(t){case"focusin":return jt=Kr(jt,e,t,r,n,s),!0;case"dragenter":return bt=Kr(bt,e,t,r,n,s),!0;case"mouseover":return Et=Kr(Et,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return _n.set(i,Kr(_n.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Sn.set(i,Kr(Sn.get(i)||null,e,t,r,n,s)),!0}return!1}function Qc(e){var t=Ht(e.target);if(t!==null){var r=nr(t);if(r!==null){if(t=r.tag,t===13){if(t=Uc(r),t!==null){e.blockedOn=t,Kc(e.priority,function(){Gc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Io(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Po=n,r.target.dispatchEvent(n),Po=null}else return t=Bn(r),t!==null&&Ra(t),e.blockedOn=r,!1;t.shift()}return!0}function Dl(e,t,r){js(e)&&r.delete(t)}function mp(){$o=!1,jt!==null&&js(jt)&&(jt=null),bt!==null&&js(bt)&&(bt=null),Et!==null&&js(Et)&&(Et=null),_n.forEach(Dl),Sn.forEach(Dl)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,$o||($o=!0,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,mp)))}function jn(e){function t(s){return Qr(s,e)}if(0<os.length){Qr(os[0],e);for(var r=1;r<os.length;r++){var n=os[r];n.blockedOn===e&&(n.blockedOn=null)}}for(jt!==null&&Qr(jt,e),bt!==null&&Qr(bt,e),Et!==null&&Qr(Et,e),_n.forEach(t),Sn.forEach(t),r=0;r<vt.length;r++)n=vt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vt.length&&(r=vt[0],r.blockedOn===null);)Qc(r),r.blockedOn===null&&vt.shift()}var Nr=dt.ReactCurrentBatchConfig,zs=!0;function gp(e,t,r,n){var s=M,i=Nr.transition;Nr.transition=null;try{M=1,La(e,t,r,n)}finally{M=s,Nr.transition=i}}function yp(e,t,r,n){var s=M,i=Nr.transition;Nr.transition=null;try{M=4,La(e,t,r,n)}finally{M=s,Nr.transition=i}}function La(e,t,r,n){if(zs){var s=Io(e,t,r,n);if(s===null)Xi(e,t,n,Fs,r),Ml(e,n);else if(pp(s,e,t,r,n))n.stopPropagation();else if(Ml(e,n),t&4&&-1<fp.indexOf(e)){for(;s!==null;){var i=Bn(s);if(i!==null&&Hc(i),i=Io(e,t,r,n),i===null&&Xi(e,t,n,Fs,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Xi(e,t,n,null,r)}}var Fs=null;function Io(e,t,r,n){if(Fs=null,e=Pa(n),e=Ht(e),e!==null)if(t=nr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Uc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fs=e,null}function Jc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sp()){case Ta:return 1;case Fc:return 4;case Ms:case ip:return 16;case Bc:return 536870912;default:return 16}default:return 16}}var kt=null,$a=null,bs=null;function Yc(){if(bs)return bs;var e,t=$a,r=t.length,n,s="value"in kt?kt.value:kt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return bs=s.slice(e,1<n?1-n:void 0)}function Es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function zl(){return!1}function Re(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?as:zl,this.isPropagationStopped=zl,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),t}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Re(Fr),Fn=q({},Fr,{view:0,detail:0}),vp=Re(Fn),Vi,Wi,Jr,ci=q({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(Vi=e.screenX-Jr.screenX,Wi=e.screenY-Jr.screenY):Wi=Vi=0,Jr=e),Vi)},movementY:function(e){return"movementY"in e?e.movementY:Wi}}),Fl=Re(ci),wp=q({},ci,{dataTransfer:0}),xp=Re(wp),kp=q({},Fn,{relatedTarget:0}),Hi=Re(kp),_p=q({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sp=Re(_p),jp=q({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bp=Re(jp),Ep=q({},Fr,{data:0}),Bl=Re(Ep),Np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pp[e])?!!t[e]:!1}function Aa(){return Tp}var Op=q({},Fn,{key:function(e){if(e.key){var t=Np[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rp=Re(Op),Lp=q({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vl=Re(Lp),$p=q({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),Ip=Re($p),Ap=q({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Up=Re(Ap),Mp=q({},ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dp=Re(Mp),zp=[9,13,27,32],Ua=at&&"CompositionEvent"in window,cn=null;at&&"documentMode"in document&&(cn=document.documentMode);var Fp=at&&"TextEvent"in window&&!cn,Xc=at&&(!Ua||cn&&8<cn&&11>=cn),Wl=" ",Hl=!1;function Zc(e,t){switch(e){case"keyup":return zp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function Bp(e,t){switch(e){case"compositionend":return ed(t);case"keypress":return t.which!==32?null:(Hl=!0,Wl);case"textInput":return e=t.data,e===Wl&&Hl?null:e;default:return null}}function Vp(e,t){if(pr)return e==="compositionend"||!Ua&&Zc(e,t)?(e=Yc(),bs=$a=kt=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xc&&t.locale!=="ko"?null:t.data;default:return null}}var Wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wp[e.type]:t==="textarea"}function td(e,t,r,n){Rc(n),t=Bs(t,"onChange"),0<t.length&&(r=new Ia("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dn=null,bn=null;function Hp(e){hd(e,0)}function di(e){var t=yr(e);if(bc(t))return e}function Gp(e,t){if(e==="change")return t}var rd=!1;if(at){var Gi;if(at){var qi="oninput"in document;if(!qi){var ql=document.createElement("div");ql.setAttribute("oninput","return;"),qi=typeof ql.oninput=="function"}Gi=qi}else Gi=!1;rd=Gi&&(!document.documentMode||9<document.documentMode)}function Kl(){dn&&(dn.detachEvent("onpropertychange",nd),bn=dn=null)}function nd(e){if(e.propertyName==="value"&&di(bn)){var t=[];td(t,bn,e,Pa(e)),Ac(Hp,t)}}function qp(e,t,r){e==="focusin"?(Kl(),dn=t,bn=r,dn.attachEvent("onpropertychange",nd)):e==="focusout"&&Kl()}function Kp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return di(bn)}function Qp(e,t){if(e==="click")return di(t)}function Jp(e,t){if(e==="input"||e==="change")return di(t)}function Yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qe=typeof Object.is=="function"?Object.is:Yp;function En(e,t){if(qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!yo.call(t,s)||!qe(e[s],t[s]))return!1}return!0}function Ql(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jl(e,t){var r=Ql(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ql(r)}}function sd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function id(){for(var e=window,t=Is();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Is(e.document)}return t}function Ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xp(e){var t=id(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&sd(r.ownerDocument.documentElement,r)){if(n!==null&&Ma(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Jl(r,i);var o=Jl(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zp=at&&"documentMode"in document&&11>=document.documentMode,mr=null,Ao=null,hn=null,Uo=!1;function Yl(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uo||mr==null||mr!==Is(n)||(n=mr,"selectionStart"in n&&Ma(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hn&&En(hn,n)||(hn=n,n=Bs(Ao,"onSelect"),0<n.length&&(t=new Ia("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mr)))}function ls(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var gr={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionend:ls("Transition","TransitionEnd")},Ki={},od={};at&&(od=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function hi(e){if(Ki[e])return Ki[e];if(!gr[e])return e;var t=gr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in od)return Ki[e]=t[r];return e}var ad=hi("animationend"),ld=hi("animationiteration"),ud=hi("animationstart"),cd=hi("transitionend"),dd=new Map,Xl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $t(e,t){dd.set(e,t),rr(t,[e])}for(var Qi=0;Qi<Xl.length;Qi++){var Ji=Xl[Qi],e0=Ji.toLowerCase(),t0=Ji[0].toUpperCase()+Ji.slice(1);$t(e0,"on"+t0)}$t(ad,"onAnimationEnd");$t(ld,"onAnimationIteration");$t(ud,"onAnimationStart");$t("dblclick","onDoubleClick");$t("focusin","onFocus");$t("focusout","onBlur");$t(cd,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var on="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r0=new Set("cancel close invalid load scroll toggle".split(" ").concat(on));function Zl(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ep(n,t,void 0,e),e.currentTarget=null}function hd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Zl(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Zl(s,a,c),i=l}}}if(Us)throw e=Ro,Us=!1,Ro=null,e}function B(e,t){var r=t[Bo];r===void 0&&(r=t[Bo]=new Set);var n=e+"__bubble";r.has(n)||(fd(t,e,2,!1),r.add(n))}function Yi(e,t,r){var n=0;t&&(n|=4),fd(r,e,n,t)}var us="_reactListening"+Math.random().toString(36).slice(2);function Nn(e){if(!e[us]){e[us]=!0,xc.forEach(function(r){r!=="selectionchange"&&(r0.has(r)||Yi(r,!1,e),Yi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[us]||(t[us]=!0,Yi("selectionchange",!1,t))}}function fd(e,t,r,n){switch(Jc(t)){case 1:var s=gp;break;case 4:s=yp;break;default:s=La}r=s.bind(null,t,r,e),s=void 0,!Oo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Xi(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ht(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Ac(function(){var c=i,d=Pa(r),h=[];e:{var f=dd.get(e);if(f!==void 0){var y=Ia,v=e;switch(e){case"keypress":if(Es(r)===0)break e;case"keydown":case"keyup":y=Rp;break;case"focusin":v="focus",y=Hi;break;case"focusout":v="blur",y=Hi;break;case"beforeblur":case"afterblur":y=Hi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ip;break;case ad:case ld:case ud:y=Sp;break;case cd:y=Up;break;case"scroll":y=vp;break;case"wheel":y=Dp;break;case"copy":case"cut":case"paste":y=bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Vl}var w=(t&4)!==0,_=!w&&e==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var p=c,m;p!==null;){m=p;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,g!==null&&(x=kn(p,g),x!=null&&w.push(Cn(p,x,m)))),_)break;p=p.return}0<w.length&&(f=new y(f,v,null,r,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==Po&&(v=r.relatedTarget||r.fromElement)&&(Ht(v)||v[lt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=c,v=v?Ht(v):null,v!==null&&(_=nr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(w=Fl,x="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Vl,x="onPointerLeave",g="onPointerEnter",p="pointer"),_=y==null?f:yr(y),m=v==null?f:yr(v),f=new w(x,p+"leave",y,r,d),f.target=_,f.relatedTarget=m,x=null,Ht(d)===c&&(w=new w(g,p+"enter",v,r,d),w.target=m,w.relatedTarget=_,x=w),_=x,y&&v)t:{for(w=y,g=v,p=0,m=w;m;m=lr(m))p++;for(m=0,x=g;x;x=lr(x))m++;for(;0<p-m;)w=lr(w),p--;for(;0<m-p;)g=lr(g),m--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=lr(w),g=lr(g)}w=null}else w=null;y!==null&&eu(h,f,y,w,!1),v!==null&&_!==null&&eu(h,_,v,w,!0)}}e:{if(f=c?yr(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var j=Gp;else if(Gl(f))if(rd)j=Jp;else{j=Kp;var N=qp}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Qp);if(j&&(j=j(e,c))){td(h,j,r,d);break e}N&&N(e,f,c),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&jo(f,"number",f.value)}switch(N=c?yr(c):window,e){case"focusin":(Gl(N)||N.contentEditable==="true")&&(mr=N,Ao=c,hn=null);break;case"focusout":hn=Ao=mr=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,Yl(h,r,d);break;case"selectionchange":if(Zp)break;case"keydown":case"keyup":Yl(h,r,d)}var b;if(Ua)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else pr?Zc(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Xc&&r.locale!=="ko"&&(pr||P!=="onCompositionStart"?P==="onCompositionEnd"&&pr&&(b=Yc()):(kt=d,$a="value"in kt?kt.value:kt.textContent,pr=!0)),N=Bs(c,P),0<N.length&&(P=new Bl(P,e,null,r,d),h.push({event:P,listeners:N}),b?P.data=b:(b=ed(r),b!==null&&(P.data=b)))),(b=Fp?Bp(e,r):Vp(e,r))&&(c=Bs(c,"onBeforeInput"),0<c.length&&(d=new Bl("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=b))}hd(h,t)})}function Cn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bs(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kn(e,r),i!=null&&n.unshift(Cn(e,i,s)),i=kn(e,t),i!=null&&n.push(Cn(e,i,s))),e=e.return}return n}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=kn(r,i),l!=null&&o.unshift(Cn(r,l,a))):s||(l=kn(r,i),l!=null&&o.push(Cn(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var n0=/\r\n?/g,s0=/\u0000|\uFFFD/g;function tu(e){return(typeof e=="string"?e:""+e).replace(n0,`
`).replace(s0,"")}function cs(e,t,r){if(t=tu(t),tu(e)!==t&&r)throw Error(S(425))}function Vs(){}var Mo=null,Do=null;function zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fo=typeof setTimeout=="function"?setTimeout:void 0,i0=typeof clearTimeout=="function"?clearTimeout:void 0,ru=typeof Promise=="function"?Promise:void 0,o0=typeof queueMicrotask=="function"?queueMicrotask:typeof ru<"u"?function(e){return ru.resolve(null).then(e).catch(a0)}:Fo;function a0(e){setTimeout(function(){throw e})}function Zi(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),jn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);jn(t)}function Nt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),Ye="__reactFiber$"+Br,Pn="__reactProps$"+Br,lt="__reactContainer$"+Br,Bo="__reactEvents$"+Br,l0="__reactListeners$"+Br,u0="__reactHandles$"+Br;function Ht(e){var t=e[Ye];if(t)return t;for(var r=e.parentNode;r;){if(t=r[lt]||r[Ye]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=nu(e);e!==null;){if(r=e[Ye])return r;e=nu(e)}return t}e=r,r=e.parentNode}return null}function Bn(e){return e=e[Ye]||e[lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function fi(e){return e[Pn]||null}var Vo=[],vr=-1;function It(e){return{current:e}}function V(e){0>vr||(e.current=Vo[vr],Vo[vr]=null,vr--)}function F(e,t){vr++,Vo[vr]=e.current,e.current=t}var Lt={},pe=It(Lt),Se=It(!1),Yt=Lt;function Rr(e,t){var r=e.type.contextTypes;if(!r)return Lt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function je(e){return e=e.childContextTypes,e!=null}function Ws(){V(Se),V(pe)}function su(e,t,r){if(pe.current!==Lt)throw Error(S(168));F(pe,t),F(Se,r)}function pd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(S(108,qf(e)||"Unknown",s));return q({},r,n)}function Hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lt,Yt=pe.current,F(pe,e),F(Se,Se.current),!0}function iu(e,t,r){var n=e.stateNode;if(!n)throw Error(S(169));r?(e=pd(e,t,Yt),n.__reactInternalMemoizedMergedChildContext=e,V(Se),V(pe),F(pe,e)):V(Se),F(Se,r)}var nt=null,pi=!1,eo=!1;function md(e){nt===null?nt=[e]:nt.push(e)}function c0(e){pi=!0,md(e)}function At(){if(!eo&&nt!==null){eo=!0;var e=0,t=M;try{var r=nt;for(M=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}nt=null,pi=!1}catch(s){throw nt!==null&&(nt=nt.slice(e+1)),zc(Ta,At),s}finally{M=t,eo=!1}}return null}var wr=[],xr=0,Gs=null,qs=0,Le=[],$e=0,Xt=null,st=1,it="";function Ft(e,t){wr[xr++]=qs,wr[xr++]=Gs,Gs=e,qs=t}function gd(e,t,r){Le[$e++]=st,Le[$e++]=it,Le[$e++]=Xt,Xt=e;var n=st;e=it;var s=32-He(n)-1;n&=~(1<<s),r+=1;var i=32-He(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,st=1<<32-He(t)+s|r<<s|n,it=i+e}else st=1<<i|r<<s|n,it=e}function Da(e){e.return!==null&&(Ft(e,1),gd(e,1,0))}function za(e){for(;e===Gs;)Gs=wr[--xr],wr[xr]=null,qs=wr[--xr],wr[xr]=null;for(;e===Xt;)Xt=Le[--$e],Le[$e]=null,it=Le[--$e],Le[$e]=null,st=Le[--$e],Le[$e]=null}var Pe=null,Ce=null,W=!1,We=null;function yd(e,t){var r=Ie(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ou(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pe=e,Ce=Nt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pe=e,Ce=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xt!==null?{id:st,overflow:it}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ie(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pe=e,Ce=null,!0):!1;default:return!1}}function Wo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ho(e){if(W){var t=Ce;if(t){var r=t;if(!ou(e,t)){if(Wo(e))throw Error(S(418));t=Nt(r.nextSibling);var n=Pe;t&&ou(e,t)?yd(n,r):(e.flags=e.flags&-4097|2,W=!1,Pe=e)}}else{if(Wo(e))throw Error(S(418));e.flags=e.flags&-4097|2,W=!1,Pe=e}}}function au(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pe=e}function ds(e){if(e!==Pe)return!1;if(!W)return au(e),W=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zo(e.type,e.memoizedProps)),t&&(t=Ce)){if(Wo(e))throw vd(),Error(S(418));for(;t;)yd(e,t),t=Nt(t.nextSibling)}if(au(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ce=Nt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ce=null}}else Ce=Pe?Nt(e.stateNode.nextSibling):null;return!0}function vd(){for(var e=Ce;e;)e=Nt(e.nextSibling)}function Lr(){Ce=Pe=null,W=!1}function Fa(e){We===null?We=[e]:We.push(e)}var d0=dt.ReactCurrentBatchConfig;function Yr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(S(309));var n=r.stateNode}if(!n)throw Error(S(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(S(284));if(!r._owner)throw Error(S(290,e))}return e}function hs(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lu(e){var t=e._init;return t(e._payload)}function wd(e){function t(g,p){if(e){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Ot(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,m,x){return p===null||p.tag!==6?(p=ao(m,g.mode,x),p.return=g,p):(p=s(p,m),p.return=g,p)}function l(g,p,m,x){var j=m.type;return j===fr?d(g,p,m.props.children,x,m.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===mt&&lu(j)===p.type)?(x=s(p,m.props),x.ref=Yr(g,p,m),x.return=g,x):(x=Ls(m.type,m.key,m.props,null,g.mode,x),x.ref=Yr(g,p,m),x.return=g,x)}function c(g,p,m,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=lo(m,g.mode,x),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,x,j){return p===null||p.tag!==7?(p=Qt(m,g.mode,x,j),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ao(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ts:return m=Ls(p.type,p.key,p.props,null,g.mode,m),m.ref=Yr(g,null,p),m.return=g,m;case hr:return p=lo(p,g.mode,m),p.return=g,p;case mt:var x=p._init;return h(g,x(p._payload),m)}if(nn(p)||Gr(p))return p=Qt(p,g.mode,m,null),p.return=g,p;hs(g,p)}return null}function f(g,p,m,x){var j=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return j!==null?null:a(g,p,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ts:return m.key===j?l(g,p,m,x):null;case hr:return m.key===j?c(g,p,m,x):null;case mt:return j=m._init,f(g,p,j(m._payload),x)}if(nn(m)||Gr(m))return j!==null?null:d(g,p,m,x,null);hs(g,m)}return null}function y(g,p,m,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(m)||null,a(p,g,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ts:return g=g.get(x.key===null?m:x.key)||null,l(p,g,x,j);case hr:return g=g.get(x.key===null?m:x.key)||null,c(p,g,x,j);case mt:var N=x._init;return y(g,p,m,N(x._payload),j)}if(nn(x)||Gr(x))return g=g.get(m)||null,d(p,g,x,j,null);hs(p,x)}return null}function v(g,p,m,x){for(var j=null,N=null,b=p,P=p=0,D=null;b!==null&&P<m.length;P++){b.index>P?(D=b,b=null):D=b.sibling;var T=f(g,b,m[P],x);if(T===null){b===null&&(b=D);break}e&&b&&T.alternate===null&&t(g,b),p=i(T,p,P),N===null?j=T:N.sibling=T,N=T,b=D}if(P===m.length)return r(g,b),W&&Ft(g,P),j;if(b===null){for(;P<m.length;P++)b=h(g,m[P],x),b!==null&&(p=i(b,p,P),N===null?j=b:N.sibling=b,N=b);return W&&Ft(g,P),j}for(b=n(g,b);P<m.length;P++)D=y(b,g,P,m[P],x),D!==null&&(e&&D.alternate!==null&&b.delete(D.key===null?P:D.key),p=i(D,p,P),N===null?j=D:N.sibling=D,N=D);return e&&b.forEach(function(ce){return t(g,ce)}),W&&Ft(g,P),j}function w(g,p,m,x){var j=Gr(m);if(typeof j!="function")throw Error(S(150));if(m=j.call(m),m==null)throw Error(S(151));for(var N=j=null,b=p,P=p=0,D=null,T=m.next();b!==null&&!T.done;P++,T=m.next()){b.index>P?(D=b,b=null):D=b.sibling;var ce=f(g,b,T.value,x);if(ce===null){b===null&&(b=D);break}e&&b&&ce.alternate===null&&t(g,b),p=i(ce,p,P),N===null?j=ce:N.sibling=ce,N=ce,b=D}if(T.done)return r(g,b),W&&Ft(g,P),j;if(b===null){for(;!T.done;P++,T=m.next())T=h(g,T.value,x),T!==null&&(p=i(T,p,P),N===null?j=T:N.sibling=T,N=T);return W&&Ft(g,P),j}for(b=n(g,b);!T.done;P++,T=m.next())T=y(b,g,P,T.value,x),T!==null&&(e&&T.alternate!==null&&b.delete(T.key===null?P:T.key),p=i(T,p,P),N===null?j=T:N.sibling=T,N=T);return e&&b.forEach(function(Ut){return t(g,Ut)}),W&&Ft(g,P),j}function _(g,p,m,x){if(typeof m=="object"&&m!==null&&m.type===fr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ts:e:{for(var j=m.key,N=p;N!==null;){if(N.key===j){if(j=m.type,j===fr){if(N.tag===7){r(g,N.sibling),p=s(N,m.props.children),p.return=g,g=p;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===mt&&lu(j)===N.type){r(g,N.sibling),p=s(N,m.props),p.ref=Yr(g,N,m),p.return=g,g=p;break e}r(g,N);break}else t(g,N);N=N.sibling}m.type===fr?(p=Qt(m.props.children,g.mode,x,m.key),p.return=g,g=p):(x=Ls(m.type,m.key,m.props,null,g.mode,x),x.ref=Yr(g,p,m),x.return=g,g=x)}return o(g);case hr:e:{for(N=m.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=lo(m,g.mode,x),p.return=g,g=p}return o(g);case mt:return N=m._init,_(g,p,N(m._payload),x)}if(nn(m))return v(g,p,m,x);if(Gr(m))return w(g,p,m,x);hs(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,m),p.return=g,g=p):(r(g,p),p=ao(m,g.mode,x),p.return=g,g=p),o(g)):r(g,p)}return _}var $r=wd(!0),xd=wd(!1),Ks=It(null),Qs=null,kr=null,Ba=null;function Va(){Ba=kr=Qs=null}function Wa(e){var t=Ks.current;V(Ks),e._currentValue=t}function Go(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Cr(e,t){Qs=e,Ba=kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_e=!0),e.firstContext=null)}function Me(e){var t=e._currentValue;if(Ba!==e)if(e={context:e,memoizedValue:t,next:null},kr===null){if(Qs===null)throw Error(S(308));kr=e,Qs.dependencies={lanes:0,firstContext:e}}else kr=kr.next=e;return t}var Gt=null;function Ha(e){Gt===null?Gt=[e]:Gt.push(e)}function kd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ha(t)):(r.next=s.next,s.next=r),t.interleaved=r,ut(e,n)}function ut(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var gt=!1;function Ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _d(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ct(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,U&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ut(e,r)}return s=n.interleaved,s===null?(t.next=t,Ha(n)):(t.next=s.next,s.next=t),n.interleaved=t,ut(e,r)}function Ns(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Oa(e,r)}}function uu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Js(e,t,r,n){var s=e.updateQueue;gt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,y=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,w=a;switch(f=t,y=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=q({},h,f);break e;case 2:gt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);er|=o,e.lanes=o,e.memoizedState=h}}function cu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(S(191,s));s.call(n)}}}var Vn={},Ze=It(Vn),Tn=It(Vn),On=It(Vn);function qt(e){if(e===Vn)throw Error(S(174));return e}function qa(e,t){switch(F(On,t),F(Tn,e),F(Ze,Vn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Eo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Eo(t,e)}V(Ze),F(Ze,t)}function Ir(){V(Ze),V(Tn),V(On)}function Sd(e){qt(On.current);var t=qt(Ze.current),r=Eo(t,e.type);t!==r&&(F(Tn,e),F(Ze,r))}function Ka(e){Tn.current===e&&(V(Ze),V(Tn))}var H=It(0);function Ys(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function Qa(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var Cs=dt.ReactCurrentDispatcher,ro=dt.ReactCurrentBatchConfig,Zt=0,G=null,Z=null,ne=null,Xs=!1,fn=!1,Rn=0,h0=0;function de(){throw Error(S(321))}function Ja(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qe(e[r],t[r]))return!1;return!0}function Ya(e,t,r,n,s,i){if(Zt=i,G=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cs.current=e===null||e.memoizedState===null?g0:y0,e=r(n,s),fn){i=0;do{if(fn=!1,Rn=0,25<=i)throw Error(S(301));i+=1,ne=Z=null,t.updateQueue=null,Cs.current=v0,e=r(n,s)}while(fn)}if(Cs.current=Zs,t=Z!==null&&Z.next!==null,Zt=0,ne=Z=G=null,Xs=!1,t)throw Error(S(300));return e}function Xa(){var e=Rn!==0;return Rn=0,e}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?G.memoizedState=ne=e:ne=ne.next=e,ne}function De(){if(Z===null){var e=G.alternate;e=e!==null?e.memoizedState:null}else e=Z.next;var t=ne===null?G.memoizedState:ne.next;if(t!==null)ne=t,Z=e;else{if(e===null)throw Error(S(310));Z=e,e={memoizedState:Z.memoizedState,baseState:Z.baseState,baseQueue:Z.baseQueue,queue:Z.queue,next:null},ne===null?G.memoizedState=ne=e:ne=ne.next=e}return ne}function Ln(e,t){return typeof t=="function"?t(e):t}function no(e){var t=De(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var n=Z,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Zt&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,G.lanes|=d,er|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,qe(n,t.memoizedState)||(_e=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,G.lanes|=i,er|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function so(e){var t=De(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);qe(i,t.memoizedState)||(_e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function jd(){}function bd(e,t){var r=G,n=De(),s=t(),i=!qe(n.memoizedState,s);if(i&&(n.memoizedState=s,_e=!0),n=n.queue,Za(Cd.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ne!==null&&ne.memoizedState.tag&1){if(r.flags|=2048,$n(9,Nd.bind(null,r,n,s,t),void 0,null),se===null)throw Error(S(349));Zt&30||Ed(r,t,s)}return s}function Ed(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Nd(e,t,r,n){t.value=r,t.getSnapshot=n,Pd(t)&&Td(e)}function Cd(e,t,r){return r(function(){Pd(t)&&Td(e)})}function Pd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qe(e,r)}catch{return!0}}function Td(e){var t=ut(e,1);t!==null&&Ge(t,e,1,-1)}function du(e){var t=Je();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:e},t.queue=e,e=e.dispatch=m0.bind(null,G,e),[t.memoizedState,e]}function $n(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Od(){return De().memoizedState}function Ps(e,t,r,n){var s=Je();G.flags|=e,s.memoizedState=$n(1|t,r,void 0,n===void 0?null:n)}function mi(e,t,r,n){var s=De();n=n===void 0?null:n;var i=void 0;if(Z!==null){var o=Z.memoizedState;if(i=o.destroy,n!==null&&Ja(n,o.deps)){s.memoizedState=$n(t,r,i,n);return}}G.flags|=e,s.memoizedState=$n(1|t,r,i,n)}function hu(e,t){return Ps(8390656,8,e,t)}function Za(e,t){return mi(2048,8,e,t)}function Rd(e,t){return mi(4,2,e,t)}function Ld(e,t){return mi(4,4,e,t)}function $d(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Id(e,t,r){return r=r!=null?r.concat([e]):null,mi(4,4,$d.bind(null,t,e),r)}function el(){}function Ad(e,t){var r=De();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ja(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ud(e,t){var r=De();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ja(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Md(e,t,r){return Zt&21?(qe(r,t)||(r=Vc(),G.lanes|=r,er|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_e=!0),e.memoizedState=r)}function f0(e,t){var r=M;M=r!==0&&4>r?r:4,e(!0);var n=ro.transition;ro.transition={};try{e(!1),t()}finally{M=r,ro.transition=n}}function Dd(){return De().memoizedState}function p0(e,t,r){var n=Tt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zd(e))Fd(t,r);else if(r=kd(e,t,r,n),r!==null){var s=ge();Ge(r,e,n,s),Bd(r,t,n)}}function m0(e,t,r){var n=Tt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zd(e))Fd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,qe(a,o)){var l=t.interleaved;l===null?(s.next=s,Ha(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=kd(e,t,s,n),r!==null&&(s=ge(),Ge(r,e,n,s),Bd(r,t,n))}}function zd(e){var t=e.alternate;return e===G||t!==null&&t===G}function Fd(e,t){fn=Xs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Bd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Oa(e,r)}}var Zs={readContext:Me,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},g0={readContext:Me,useCallback:function(e,t){return Je().memoizedState=[e,t===void 0?null:t],e},useContext:Me,useEffect:hu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ps(4194308,4,$d.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var r=Je();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Je();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=p0.bind(null,G,e),[n.memoizedState,e]},useRef:function(e){var t=Je();return e={current:e},t.memoizedState=e},useState:du,useDebugValue:el,useDeferredValue:function(e){return Je().memoizedState=e},useTransition:function(){var e=du(!1),t=e[0];return e=f0.bind(null,e[1]),Je().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=G,s=Je();if(W){if(r===void 0)throw Error(S(407));r=r()}else{if(r=t(),se===null)throw Error(S(349));Zt&30||Ed(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,hu(Cd.bind(null,n,i,e),[e]),n.flags|=2048,$n(9,Nd.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Je(),t=se.identifierPrefix;if(W){var r=it,n=st;r=(n&~(1<<32-He(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Rn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=h0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},y0={readContext:Me,useCallback:Ad,useContext:Me,useEffect:Za,useImperativeHandle:Id,useInsertionEffect:Rd,useLayoutEffect:Ld,useMemo:Ud,useReducer:no,useRef:Od,useState:function(){return no(Ln)},useDebugValue:el,useDeferredValue:function(e){var t=De();return Md(t,Z.memoizedState,e)},useTransition:function(){var e=no(Ln)[0],t=De().memoizedState;return[e,t]},useMutableSource:jd,useSyncExternalStore:bd,useId:Dd,unstable_isNewReconciler:!1},v0={readContext:Me,useCallback:Ad,useContext:Me,useEffect:Za,useImperativeHandle:Id,useInsertionEffect:Rd,useLayoutEffect:Ld,useMemo:Ud,useReducer:so,useRef:Od,useState:function(){return so(Ln)},useDebugValue:el,useDeferredValue:function(e){var t=De();return Z===null?t.memoizedState=e:Md(t,Z.memoizedState,e)},useTransition:function(){var e=so(Ln)[0],t=De().memoizedState;return[e,t]},useMutableSource:jd,useSyncExternalStore:bd,useId:Dd,unstable_isNewReconciler:!1};function Fe(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function qo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:q({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gi={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ge(),s=Tt(e),i=ot(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ct(e,i,s),t!==null&&(Ge(t,e,s,n),Ns(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ge(),s=Tt(e),i=ot(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ct(e,i,s),t!==null&&(Ge(t,e,s,n),Ns(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ge(),n=Tt(e),s=ot(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ct(e,s,n),t!==null&&(Ge(t,e,n,r),Ns(t,e,n))}};function fu(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!En(r,n)||!En(s,i):!0}function Vd(e,t,r){var n=!1,s=Lt,i=t.contextType;return typeof i=="object"&&i!==null?i=Me(i):(s=je(t)?Yt:pe.current,n=t.contextTypes,i=(n=n!=null)?Rr(e,s):Lt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function pu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gi.enqueueReplaceState(t,t.state,null)}function Ko(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ga(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Me(i):(i=je(t)?Yt:pe.current,s.context=Rr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&gi.enqueueReplaceState(s,s.state,null),Js(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ar(e,t){try{var r="",n=t;do r+=Gf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function io(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Qo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var w0=typeof WeakMap=="function"?WeakMap:Map;function Wd(e,t,r){r=ot(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ti||(ti=!0,ia=n),Qo(e,t)},r}function Hd(e,t,r){r=ot(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Qo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Qo(e,t),typeof n!="function"&&(Pt===null?Pt=new Set([this]):Pt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function mu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new w0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=L0.bind(null,e,t,r),t.then(e,e))}function gu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ot(-1,1),t.tag=2,Ct(r,t,1))),r.lanes|=1),e)}var x0=dt.ReactCurrentOwner,_e=!1;function me(e,t,r,n){t.child=e===null?xd(t,null,r,n):$r(t,e.child,r,n)}function vu(e,t,r,n,s){r=r.render;var i=t.ref;return Cr(t,s),n=Ya(e,t,r,n,i,s),r=Xa(),e!==null&&!_e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ct(e,t,s)):(W&&r&&Da(t),t.flags|=1,me(e,t,n,s),t.child)}function wu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ll(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Gd(e,t,i,n,s)):(e=Ls(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:En,r(o,n)&&e.ref===t.ref)return ct(e,t,s)}return t.flags|=1,e=Ot(i,n),e.ref=t.ref,e.return=t,t.child=e}function Gd(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(En(i,n)&&e.ref===t.ref)if(_e=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(_e=!0);else return t.lanes=e.lanes,ct(e,t,s)}return Jo(e,t,r,n,s)}function qd(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},F(Sr,Ne),Ne|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,F(Sr,Ne),Ne|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,F(Sr,Ne),Ne|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,F(Sr,Ne),Ne|=n;return me(e,t,s,r),t.child}function Kd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Jo(e,t,r,n,s){var i=je(r)?Yt:pe.current;return i=Rr(t,i),Cr(t,s),r=Ya(e,t,r,n,i,s),n=Xa(),e!==null&&!_e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ct(e,t,s)):(W&&n&&Da(t),t.flags|=1,me(e,t,r,s),t.child)}function xu(e,t,r,n,s){if(je(r)){var i=!0;Hs(t)}else i=!1;if(Cr(t,s),t.stateNode===null)Ts(e,t),Vd(t,r,n),Ko(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Me(c):(c=je(r)?Yt:pe.current,c=Rr(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&pu(t,o,n,c),gt=!1;var f=t.memoizedState;o.state=f,Js(t,n,o,s),l=t.memoizedState,a!==n||f!==l||Se.current||gt?(typeof d=="function"&&(qo(t,r,d,n),l=t.memoizedState),(a=gt||fu(t,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,_d(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Fe(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Me(l):(l=je(r)?Yt:pe.current,l=Rr(t,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&pu(t,o,n,l),gt=!1,f=t.memoizedState,o.state=f,Js(t,n,o,s);var v=t.memoizedState;a!==h||f!==v||Se.current||gt?(typeof y=="function"&&(qo(t,r,y,n),v=t.memoizedState),(c=gt||fu(t,r,c,n,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Yo(e,t,r,n,i,s)}function Yo(e,t,r,n,s,i){Kd(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&iu(t,r,!1),ct(e,t,i);n=t.stateNode,x0.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=$r(t,e.child,null,i),t.child=$r(t,null,a,i)):me(e,t,a,i),t.memoizedState=n.state,s&&iu(t,r,!0),t.child}function Qd(e){var t=e.stateNode;t.pendingContext?su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&su(e,t.context,!1),qa(e,t.containerInfo)}function ku(e,t,r,n,s){return Lr(),Fa(s),t.flags|=256,me(e,t,r,n),t.child}var Xo={dehydrated:null,treeContext:null,retryLane:0};function Zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jd(e,t,r){var n=t.pendingProps,s=H.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),F(H,s&1),e===null)return Ho(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wi(o,n,0,null),e=Qt(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zo(r),t.memoizedState=Xo,e):tl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return k0(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ot(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ot(a,i):(i=Qt(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Zo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Xo,n}return i=e.child,e=i.sibling,n=Ot(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function tl(e,t){return t=wi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fs(e,t,r,n){return n!==null&&Fa(n),$r(t,e.child,null,r),e=tl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k0(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=io(Error(S(422))),fs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=wi({mode:"visible",children:n.children},s,0,null),i=Qt(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&$r(t,e.child,null,o),t.child.memoizedState=Zo(o),t.memoizedState=Xo,i);if(!(t.mode&1))return fs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(S(419)),n=io(i,n,void 0),fs(e,t,o,n)}if(a=(o&e.childLanes)!==0,_e||a){if(n=se,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ut(e,s),Ge(n,e,s,-1))}return al(),n=io(Error(S(421))),fs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=$0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ce=Nt(s.nextSibling),Pe=t,W=!0,We=null,e!==null&&(Le[$e++]=st,Le[$e++]=it,Le[$e++]=Xt,st=e.id,it=e.overflow,Xt=t),t=tl(t,n.children),t.flags|=4096,t)}function _u(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Go(e.return,t,r)}function oo(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Yd(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(me(e,t,n.children,r),n=H.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_u(e,r,t);else if(e.tag===19)_u(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(F(H,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ys(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),oo(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ys(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}oo(t,!0,r,null,i);break;case"together":oo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ts(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ct(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),er|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,r=Ot(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ot(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _0(e,t,r){switch(t.tag){case 3:Qd(t),Lr();break;case 5:Sd(t);break;case 1:je(t.type)&&Hs(t);break;case 4:qa(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;F(Ks,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(F(H,H.current&1),t.flags|=128,null):r&t.child.childLanes?Jd(e,t,r):(F(H,H.current&1),e=ct(e,t,r),e!==null?e.sibling:null);F(H,H.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Yd(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(H,H.current),n)break;return null;case 22:case 23:return t.lanes=0,qd(e,t,r)}return ct(e,t,r)}var Xd,ea,Zd,eh;Xd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ea=function(){};Zd=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,qt(Ze.current);var i=null;switch(r){case"input":s=_o(e,s),n=_o(e,n),i=[];break;case"select":s=q({},s,{value:void 0}),n=q({},n,{value:void 0}),i=[];break;case"textarea":s=bo(e,s),n=bo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Vs)}No(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(wn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(wn.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&B("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};eh=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xr(e,t){if(!W)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function he(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function S0(e,t,r){var n=t.pendingProps;switch(za(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(t),null;case 1:return je(t.type)&&Ws(),he(t),null;case 3:return n=t.stateNode,Ir(),V(Se),V(pe),Qa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ds(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,We!==null&&(la(We),We=null))),ea(e,t),he(t),null;case 5:Ka(t);var s=qt(On.current);if(r=t.type,e!==null&&t.stateNode!=null)Zd(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(S(166));return he(t),null}if(e=qt(Ze.current),ds(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ye]=t,n[Pn]=i,e=(t.mode&1)!==0,r){case"dialog":B("cancel",n),B("close",n);break;case"iframe":case"object":case"embed":B("load",n);break;case"video":case"audio":for(s=0;s<on.length;s++)B(on[s],n);break;case"source":B("error",n);break;case"img":case"image":case"link":B("error",n),B("load",n);break;case"details":B("toggle",n);break;case"input":Ol(n,i),B("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},B("invalid",n);break;case"textarea":Ll(n,i),B("invalid",n)}No(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&cs(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&cs(n.textContent,a,e),s=["children",""+a]):wn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&B("scroll",n)}switch(r){case"input":rs(n),Rl(n,i,!0);break;case"textarea":rs(n),$l(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Vs)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ye]=t,e[Pn]=n,Xd(e,t,!1,!1),t.stateNode=e;e:{switch(o=Co(r,n),r){case"dialog":B("cancel",e),B("close",e),s=n;break;case"iframe":case"object":case"embed":B("load",e),s=n;break;case"video":case"audio":for(s=0;s<on.length;s++)B(on[s],e);s=n;break;case"source":B("error",e),s=n;break;case"img":case"image":case"link":B("error",e),B("load",e),s=n;break;case"details":B("toggle",e),s=n;break;case"input":Ol(e,n),s=_o(e,n),B("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=q({},n,{value:void 0}),B("invalid",e);break;case"textarea":Ll(e,n),s=bo(e,n),B("invalid",e);break;default:s=n}No(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Oc(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Pc(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&xn(e,l):typeof l=="number"&&xn(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&B("scroll",e):l!=null&&ba(e,i,l,o))}switch(r){case"input":rs(e),Rl(e,n,!1);break;case"textarea":rs(e),$l(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Rt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?jr(e,!!n.multiple,i,!1):n.defaultValue!=null&&jr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Vs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return he(t),null;case 6:if(e&&t.stateNode!=null)eh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(S(166));if(r=qt(On.current),qt(Ze.current),ds(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ye]=t,(i=n.nodeValue!==r)&&(e=Pe,e!==null))switch(e.tag){case 3:cs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ye]=t,t.stateNode=n}return he(t),null;case 13:if(V(H),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(W&&Ce!==null&&t.mode&1&&!(t.flags&128))vd(),Lr(),t.flags|=98560,i=!1;else if(i=ds(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(S(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[Ye]=t}else Lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;he(t),i=!1}else We!==null&&(la(We),We=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||H.current&1?ee===0&&(ee=3):al())),t.updateQueue!==null&&(t.flags|=4),he(t),null);case 4:return Ir(),ea(e,t),e===null&&Nn(t.stateNode.containerInfo),he(t),null;case 10:return Wa(t.type._context),he(t),null;case 17:return je(t.type)&&Ws(),he(t),null;case 19:if(V(H),i=t.memoizedState,i===null)return he(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Xr(i,!1);else{if(ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ys(e),o!==null){for(t.flags|=128,Xr(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return F(H,H.current&1|2),t.child}e=e.sibling}i.tail!==null&&J()>Ur&&(t.flags|=128,n=!0,Xr(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ys(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!W)return he(t),null}else 2*J()-i.renderingStartTime>Ur&&r!==1073741824&&(t.flags|=128,n=!0,Xr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=J(),t.sibling=null,r=H.current,F(H,n?r&1|2:r&1),t):(he(t),null);case 22:case 23:return ol(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ne&1073741824&&(he(t),t.subtreeFlags&6&&(t.flags|=8192)):he(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function j0(e,t){switch(za(t),t.tag){case 1:return je(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ir(),V(Se),V(pe),Qa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ka(t),null;case 13:if(V(H),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(H),null;case 4:return Ir(),null;case 10:return Wa(t.type._context),null;case 22:case 23:return ol(),null;case 24:return null;default:return null}}var ps=!1,fe=!1,b0=typeof WeakSet=="function"?WeakSet:Set,E=null;function _r(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){K(e,t,n)}else r.current=null}function ta(e,t,r){try{r()}catch(n){K(e,t,n)}}var Su=!1;function E0(e,t){if(Mo=zs,e=id(),Ma(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++c===s&&(a=o),f===i&&++d===n&&(l=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Do={focusedElem:e,selectionRange:r},zs=!1,E=t;E!==null;)if(t=E,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,E=e;else for(;E!==null;){t=E;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:Fe(t.type,w),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(x){K(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,E=e;break}E=t.return}return v=Su,Su=!1,v}function pn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ta(t,r,i)}s=s.next}while(s!==n)}}function yi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ra(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function th(e){var t=e.alternate;t!==null&&(e.alternate=null,th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ye],delete t[Pn],delete t[Bo],delete t[l0],delete t[u0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rh(e){return e.tag===5||e.tag===3||e.tag===4}function ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function na(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vs));else if(n!==4&&(e=e.child,e!==null))for(na(e,t,r),e=e.sibling;e!==null;)na(e,t,r),e=e.sibling}function sa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sa(e,t,r),e=e.sibling;e!==null;)sa(e,t,r),e=e.sibling}var oe=null,Be=!1;function ht(e,t,r){for(r=r.child;r!==null;)nh(e,t,r),r=r.sibling}function nh(e,t,r){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ui,r)}catch{}switch(r.tag){case 5:fe||_r(r,t);case 6:var n=oe,s=Be;oe=null,ht(e,t,r),oe=n,Be=s,oe!==null&&(Be?(e=oe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):oe.removeChild(r.stateNode));break;case 18:oe!==null&&(Be?(e=oe,r=r.stateNode,e.nodeType===8?Zi(e.parentNode,r):e.nodeType===1&&Zi(e,r),jn(e)):Zi(oe,r.stateNode));break;case 4:n=oe,s=Be,oe=r.stateNode.containerInfo,Be=!0,ht(e,t,r),oe=n,Be=s;break;case 0:case 11:case 14:case 15:if(!fe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ta(r,t,o),s=s.next}while(s!==n)}ht(e,t,r);break;case 1:if(!fe&&(_r(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){K(r,t,a)}ht(e,t,r);break;case 21:ht(e,t,r);break;case 22:r.mode&1?(fe=(n=fe)||r.memoizedState!==null,ht(e,t,r),fe=n):ht(e,t,r);break;default:ht(e,t,r)}}function bu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new b0),t.forEach(function(n){var s=I0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ze(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:oe=a.stateNode,Be=!1;break e;case 3:oe=a.stateNode.containerInfo,Be=!0;break e;case 4:oe=a.stateNode.containerInfo,Be=!0;break e}a=a.return}if(oe===null)throw Error(S(160));nh(i,o,s),oe=null,Be=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){K(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sh(t,e),t=t.sibling}function sh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ze(t,e),Ke(e),n&4){try{pn(3,e,e.return),yi(3,e)}catch(w){K(e,e.return,w)}try{pn(5,e,e.return)}catch(w){K(e,e.return,w)}}break;case 1:ze(t,e),Ke(e),n&512&&r!==null&&_r(r,r.return);break;case 5:if(ze(t,e),Ke(e),n&512&&r!==null&&_r(r,r.return),e.flags&32){var s=e.stateNode;try{xn(s,"")}catch(w){K(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ec(s,i),Co(a,o);var c=Co(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Oc(s,h):d==="dangerouslySetInnerHTML"?Pc(s,h):d==="children"?xn(s,h):ba(s,d,h,c)}switch(a){case"input":So(s,i);break;case"textarea":Nc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?jr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?jr(s,!!i.multiple,i.defaultValue,!0):jr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pn]=i}catch(w){K(e,e.return,w)}}break;case 6:if(ze(t,e),Ke(e),n&4){if(e.stateNode===null)throw Error(S(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){K(e,e.return,w)}}break;case 3:if(ze(t,e),Ke(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jn(t.containerInfo)}catch(w){K(e,e.return,w)}break;case 4:ze(t,e),Ke(e);break;case 13:ze(t,e),Ke(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sl=J())),n&4&&bu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(fe=(c=fe)||d,ze(t,e),fe=c):ze(t,e),Ke(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(E=e,d=e.child;d!==null;){for(h=E=d;E!==null;){switch(f=E,y=f.child,f.tag){case 0:case 11:case 14:case 15:pn(4,f,f.return);break;case 1:_r(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){K(n,r,w)}}break;case 5:_r(f,f.return);break;case 22:if(f.memoizedState!==null){Nu(h);continue}}y!==null?(y.return=f,E=y):Nu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Tc("display",o))}catch(w){K(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){K(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ze(t,e),Ke(e),n&4&&bu(e);break;case 21:break;default:ze(t,e),Ke(e)}}function Ke(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(rh(r)){var n=r;break e}r=r.return}throw Error(S(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(xn(s,""),n.flags&=-33);var i=ju(e);sa(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ju(e);na(e,a,o);break;default:throw Error(S(161))}}catch(l){K(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function N0(e,t,r){E=e,ih(e)}function ih(e,t,r){for(var n=(e.mode&1)!==0;E!==null;){var s=E,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ps;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||fe;a=ps;var c=fe;if(ps=o,(fe=l)&&!c)for(E=s;E!==null;)o=E,l=o.child,o.tag===22&&o.memoizedState!==null?Cu(s):l!==null?(l.return=o,E=l):Cu(s);for(;i!==null;)E=i,ih(i),i=i.sibling;E=s,ps=a,fe=c}Eu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,E=i):Eu(e)}}function Eu(e){for(;E!==null;){var t=E;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fe||yi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!fe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Fe(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cu(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&jn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}fe||t.flags&512&&ra(t)}catch(f){K(t,t.return,f)}}if(t===e){E=null;break}if(r=t.sibling,r!==null){r.return=t.return,E=r;break}E=t.return}}function Nu(e){for(;E!==null;){var t=E;if(t===e){E=null;break}var r=t.sibling;if(r!==null){r.return=t.return,E=r;break}E=t.return}}function Cu(e){for(;E!==null;){var t=E;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{yi(4,t)}catch(l){K(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){K(t,s,l)}}var i=t.return;try{ra(t)}catch(l){K(t,i,l)}break;case 5:var o=t.return;try{ra(t)}catch(l){K(t,o,l)}}}catch(l){K(t,t.return,l)}if(t===e){E=null;break}var a=t.sibling;if(a!==null){a.return=t.return,E=a;break}E=t.return}}var C0=Math.ceil,ei=dt.ReactCurrentDispatcher,rl=dt.ReactCurrentOwner,Ae=dt.ReactCurrentBatchConfig,U=0,se=null,Y=null,le=0,Ne=0,Sr=It(0),ee=0,In=null,er=0,vi=0,nl=0,mn=null,xe=null,sl=0,Ur=1/0,tt=null,ti=!1,ia=null,Pt=null,ms=!1,_t=null,ri=0,gn=0,oa=null,Os=-1,Rs=0;function ge(){return U&6?J():Os!==-1?Os:Os=J()}function Tt(e){return e.mode&1?U&2&&le!==0?le&-le:d0.transition!==null?(Rs===0&&(Rs=Vc()),Rs):(e=M,e!==0||(e=window.event,e=e===void 0?16:Jc(e.type)),e):1}function Ge(e,t,r,n){if(50<gn)throw gn=0,oa=null,Error(S(185));zn(e,r,n),(!(U&2)||e!==se)&&(e===se&&(!(U&2)&&(vi|=r),ee===4&&wt(e,le)),be(e,n),r===1&&U===0&&!(t.mode&1)&&(Ur=J()+500,pi&&At()))}function be(e,t){var r=e.callbackNode;dp(e,t);var n=Ds(e,e===se?le:0);if(n===0)r!==null&&Ul(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ul(r),t===1)e.tag===0?c0(Pu.bind(null,e)):md(Pu.bind(null,e)),o0(function(){!(U&6)&&At()}),r=null;else{switch(Wc(n)){case 1:r=Ta;break;case 4:r=Fc;break;case 16:r=Ms;break;case 536870912:r=Bc;break;default:r=Ms}r=fh(r,oh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oh(e,t){if(Os=-1,Rs=0,U&6)throw Error(S(327));var r=e.callbackNode;if(Pr()&&e.callbackNode!==r)return null;var n=Ds(e,e===se?le:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ni(e,n);else{t=n;var s=U;U|=2;var i=lh();(se!==e||le!==t)&&(tt=null,Ur=J()+500,Kt(e,t));do try{O0();break}catch(a){ah(e,a)}while(!0);Va(),ei.current=i,U=s,Y!==null?t=0:(se=null,le=0,t=ee)}if(t!==0){if(t===2&&(s=Lo(e),s!==0&&(n=s,t=aa(e,s))),t===1)throw r=In,Kt(e,0),wt(e,n),be(e,J()),r;if(t===6)wt(e,n);else{if(s=e.current.alternate,!(n&30)&&!P0(s)&&(t=ni(e,n),t===2&&(i=Lo(e),i!==0&&(n=i,t=aa(e,i))),t===1))throw r=In,Kt(e,0),wt(e,n),be(e,J()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(S(345));case 2:Bt(e,xe,tt);break;case 3:if(wt(e,n),(n&130023424)===n&&(t=sl+500-J(),10<t)){if(Ds(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ge(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Fo(Bt.bind(null,e,xe,tt),t);break}Bt(e,xe,tt);break;case 4:if(wt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-He(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=J()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*C0(n/1960))-n,10<n){e.timeoutHandle=Fo(Bt.bind(null,e,xe,tt),n);break}Bt(e,xe,tt);break;case 5:Bt(e,xe,tt);break;default:throw Error(S(329))}}}return be(e,J()),e.callbackNode===r?oh.bind(null,e):null}function aa(e,t){var r=mn;return e.current.memoizedState.isDehydrated&&(Kt(e,t).flags|=256),e=ni(e,t),e!==2&&(t=xe,xe=r,t!==null&&la(t)),e}function la(e){xe===null?xe=e:xe.push.apply(xe,e)}function P0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!qe(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wt(e,t){for(t&=~nl,t&=~vi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-He(t),n=1<<r;e[r]=-1,t&=~n}}function Pu(e){if(U&6)throw Error(S(327));Pr();var t=Ds(e,0);if(!(t&1))return be(e,J()),null;var r=ni(e,t);if(e.tag!==0&&r===2){var n=Lo(e);n!==0&&(t=n,r=aa(e,n))}if(r===1)throw r=In,Kt(e,0),wt(e,t),be(e,J()),r;if(r===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bt(e,xe,tt),be(e,J()),null}function il(e,t){var r=U;U|=1;try{return e(t)}finally{U=r,U===0&&(Ur=J()+500,pi&&At())}}function tr(e){_t!==null&&_t.tag===0&&!(U&6)&&Pr();var t=U;U|=1;var r=Ae.transition,n=M;try{if(Ae.transition=null,M=1,e)return e()}finally{M=n,Ae.transition=r,U=t,!(U&6)&&At()}}function ol(){Ne=Sr.current,V(Sr)}function Kt(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,i0(r)),Y!==null)for(r=Y.return;r!==null;){var n=r;switch(za(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ws();break;case 3:Ir(),V(Se),V(pe),Qa();break;case 5:Ka(n);break;case 4:Ir();break;case 13:V(H);break;case 19:V(H);break;case 10:Wa(n.type._context);break;case 22:case 23:ol()}r=r.return}if(se=e,Y=e=Ot(e.current,null),le=Ne=t,ee=0,In=null,nl=vi=er=0,xe=mn=null,Gt!==null){for(t=0;t<Gt.length;t++)if(r=Gt[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Gt=null}return e}function ah(e,t){do{var r=Y;try{if(Va(),Cs.current=Zs,Xs){for(var n=G.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Xs=!1}if(Zt=0,ne=Z=G=null,fn=!1,Rn=0,rl.current=null,r===null||r.return===null){ee=1,In=t,Y=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=le,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=gu(o);if(y!==null){y.flags&=-257,yu(y,o,a,i,t),y.mode&1&&mu(i,c,t),t=y,l=c;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){mu(i,c,t),al();break e}l=Error(S(426))}}else if(W&&a.mode&1){var _=gu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),yu(_,o,a,i,t),Fa(Ar(l,a));break e}}i=l=Ar(l,a),ee!==4&&(ee=2),mn===null?mn=[i]:mn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Wd(i,l,t);uu(i,g);break e;case 1:a=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Pt===null||!Pt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Hd(i,a,t);uu(i,x);break e}}i=i.return}while(i!==null)}ch(r)}catch(j){t=j,Y===r&&r!==null&&(Y=r=r.return);continue}break}while(!0)}function lh(){var e=ei.current;return ei.current=Zs,e===null?Zs:e}function al(){(ee===0||ee===3||ee===2)&&(ee=4),se===null||!(er&268435455)&&!(vi&268435455)||wt(se,le)}function ni(e,t){var r=U;U|=2;var n=lh();(se!==e||le!==t)&&(tt=null,Kt(e,t));do try{T0();break}catch(s){ah(e,s)}while(!0);if(Va(),U=r,ei.current=n,Y!==null)throw Error(S(261));return se=null,le=0,ee}function T0(){for(;Y!==null;)uh(Y)}function O0(){for(;Y!==null&&!rp();)uh(Y)}function uh(e){var t=hh(e.alternate,e,Ne);e.memoizedProps=e.pendingProps,t===null?ch(e):Y=t,rl.current=null}function ch(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=j0(r,t),r!==null){r.flags&=32767,Y=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ee=6,Y=null;return}}else if(r=S0(r,t,Ne),r!==null){Y=r;return}if(t=t.sibling,t!==null){Y=t;return}Y=t=e}while(t!==null);ee===0&&(ee=5)}function Bt(e,t,r){var n=M,s=Ae.transition;try{Ae.transition=null,M=1,R0(e,t,r,n)}finally{Ae.transition=s,M=n}return null}function R0(e,t,r,n){do Pr();while(_t!==null);if(U&6)throw Error(S(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(hp(e,i),e===se&&(Y=se=null,le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ms||(ms=!0,fh(Ms,function(){return Pr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ae.transition,Ae.transition=null;var o=M;M=1;var a=U;U|=4,rl.current=null,E0(e,r),sh(r,e),Xp(Do),zs=!!Mo,Do=Mo=null,e.current=r,N0(r),np(),U=a,M=o,Ae.transition=i}else e.current=r;if(ms&&(ms=!1,_t=e,ri=s),i=e.pendingLanes,i===0&&(Pt=null),op(r.stateNode),be(e,J()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ti)throw ti=!1,e=ia,ia=null,e;return ri&1&&e.tag!==0&&Pr(),i=e.pendingLanes,i&1?e===oa?gn++:(gn=0,oa=e):gn=0,At(),null}function Pr(){if(_t!==null){var e=Wc(ri),t=Ae.transition,r=M;try{if(Ae.transition=null,M=16>e?16:e,_t===null)var n=!1;else{if(e=_t,_t=null,ri=0,U&6)throw Error(S(331));var s=U;for(U|=4,E=e.current;E!==null;){var i=E,o=i.child;if(E.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(E=c;E!==null;){var d=E;switch(d.tag){case 0:case 11:case 15:pn(8,d,i)}var h=d.child;if(h!==null)h.return=d,E=h;else for(;E!==null;){d=E;var f=d.sibling,y=d.return;if(th(d),d===c){E=null;break}if(f!==null){f.return=y,E=f;break}E=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}E=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,E=o;else e:for(;E!==null;){if(i=E,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,E=g;break e}E=i.return}}var p=e.current;for(E=p;E!==null;){o=E;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,E=m;else e:for(o=p;E!==null;){if(a=E,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yi(9,a)}}catch(j){K(a,a.return,j)}if(a===o){E=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,E=x;break e}E=a.return}}if(U=s,At(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ui,e)}catch{}n=!0}return n}finally{M=r,Ae.transition=t}}return!1}function Tu(e,t,r){t=Ar(r,t),t=Wd(e,t,1),e=Ct(e,t,1),t=ge(),e!==null&&(zn(e,1,t),be(e,t))}function K(e,t,r){if(e.tag===3)Tu(e,e,r);else for(;t!==null;){if(t.tag===3){Tu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pt===null||!Pt.has(n))){e=Ar(r,e),e=Hd(t,e,1),t=Ct(t,e,1),e=ge(),t!==null&&(zn(t,1,e),be(t,e));break}}t=t.return}}function L0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ge(),e.pingedLanes|=e.suspendedLanes&r,se===e&&(le&r)===r&&(ee===4||ee===3&&(le&130023424)===le&&500>J()-sl?Kt(e,0):nl|=r),be(e,t)}function dh(e,t){t===0&&(e.mode&1?(t=is,is<<=1,!(is&130023424)&&(is=4194304)):t=1);var r=ge();e=ut(e,t),e!==null&&(zn(e,t,r),be(e,r))}function $0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dh(e,r)}function I0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(S(314))}n!==null&&n.delete(t),dh(e,r)}var hh;hh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Se.current)_e=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return _e=!1,_0(e,t,r);_e=!!(e.flags&131072)}else _e=!1,W&&t.flags&1048576&&gd(t,qs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ts(e,t),e=t.pendingProps;var s=Rr(t,pe.current);Cr(t,r),s=Ya(null,t,n,e,s,r);var i=Xa();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,je(n)?(i=!0,Hs(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ga(t),s.updater=gi,t.stateNode=s,s._reactInternals=t,Ko(t,n,e,r),t=Yo(null,t,n,!0,i,r)):(t.tag=0,W&&i&&Da(t),me(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ts(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=U0(n),e=Fe(n,e),s){case 0:t=Jo(null,t,n,e,r);break e;case 1:t=xu(null,t,n,e,r);break e;case 11:t=vu(null,t,n,e,r);break e;case 14:t=wu(null,t,n,Fe(n.type,e),r);break e}throw Error(S(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fe(n,s),Jo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fe(n,s),xu(e,t,n,s,r);case 3:e:{if(Qd(t),e===null)throw Error(S(387));n=t.pendingProps,i=t.memoizedState,s=i.element,_d(e,t),Js(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ar(Error(S(423)),t),t=ku(e,t,n,r,s);break e}else if(n!==s){s=Ar(Error(S(424)),t),t=ku(e,t,n,r,s);break e}else for(Ce=Nt(t.stateNode.containerInfo.firstChild),Pe=t,W=!0,We=null,r=xd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lr(),n===s){t=ct(e,t,r);break e}me(e,t,n,r)}t=t.child}return t;case 5:return Sd(t),e===null&&Ho(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,zo(n,s)?o=null:i!==null&&zo(n,i)&&(t.flags|=32),Kd(e,t),me(e,t,o,r),t.child;case 6:return e===null&&Ho(t),null;case 13:return Jd(e,t,r);case 4:return qa(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$r(t,null,n,r):me(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fe(n,s),vu(e,t,n,s,r);case 7:return me(e,t,t.pendingProps,r),t.child;case 8:return me(e,t,t.pendingProps.children,r),t.child;case 12:return me(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,F(Ks,n._currentValue),n._currentValue=o,i!==null)if(qe(i.value,o)){if(i.children===s.children&&!Se.current){t=ct(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ot(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Go(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Go(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}me(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Cr(t,r),s=Me(s),n=n(s),t.flags|=1,me(e,t,n,r),t.child;case 14:return n=t.type,s=Fe(n,t.pendingProps),s=Fe(n.type,s),wu(e,t,n,s,r);case 15:return Gd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fe(n,s),Ts(e,t),t.tag=1,je(n)?(e=!0,Hs(t)):e=!1,Cr(t,r),Vd(t,n,s),Ko(t,n,s,r),Yo(null,t,n,!0,e,r);case 19:return Yd(e,t,r);case 22:return qd(e,t,r)}throw Error(S(156,t.tag))};function fh(e,t){return zc(e,t)}function A0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(e,t,r,n){return new A0(e,t,r,n)}function ll(e){return e=e.prototype,!(!e||!e.isReactComponent)}function U0(e){if(typeof e=="function")return ll(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Na)return 11;if(e===Ca)return 14}return 2}function Ot(e,t){var r=e.alternate;return r===null?(r=Ie(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ls(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ll(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fr:return Qt(r.children,s,i,t);case Ea:o=8,s|=8;break;case vo:return e=Ie(12,r,t,s|2),e.elementType=vo,e.lanes=i,e;case wo:return e=Ie(13,r,t,s),e.elementType=wo,e.lanes=i,e;case xo:return e=Ie(19,r,t,s),e.elementType=xo,e.lanes=i,e;case Sc:return wi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kc:o=10;break e;case _c:o=9;break e;case Na:o=11;break e;case Ca:o=14;break e;case mt:o=16,n=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=Ie(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Qt(e,t,r,n){return e=Ie(7,e,n,t),e.lanes=r,e}function wi(e,t,r,n){return e=Ie(22,e,n,t),e.elementType=Sc,e.lanes=r,e.stateNode={isHidden:!1},e}function ao(e,t,r){return e=Ie(6,e,null,t),e.lanes=r,e}function lo(e,t,r){return t=Ie(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function M0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bi(0),this.expirationTimes=Bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ul(e,t,r,n,s,i,o,a,l){return e=new M0(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ie(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ga(i),e}function D0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ph(e){if(!e)return Lt;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var r=e.type;if(je(r))return pd(e,r,t)}return t}function mh(e,t,r,n,s,i,o,a,l){return e=ul(r,n,!0,e,s,i,o,a,l),e.context=ph(null),r=e.current,n=ge(),s=Tt(r),i=ot(n,s),i.callback=t??null,Ct(r,i,s),e.current.lanes=s,zn(e,s,n),be(e,n),e}function xi(e,t,r,n){var s=t.current,i=ge(),o=Tt(s);return r=ph(r),t.context===null?t.context=r:t.pendingContext=r,t=ot(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ct(s,t,o),e!==null&&(Ge(e,s,o,i),Ns(e,s,o)),o}function si(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ou(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cl(e,t){Ou(e,t),(e=e.alternate)&&Ou(e,t)}function z0(){return null}var gh=typeof reportError=="function"?reportError:function(e){console.error(e)};function dl(e){this._internalRoot=e}ki.prototype.render=dl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));xi(e,t,null,null)};ki.prototype.unmount=dl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tr(function(){xi(null,e,null,null)}),t[lt]=null}};function ki(e){this._internalRoot=e}ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=qc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vt.length&&t!==0&&t<vt[r].priority;r++);vt.splice(r,0,e),r===0&&Qc(e)}};function hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ru(){}function F0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=si(o);i.call(c)}}var o=mh(t,n,e,0,null,!1,!1,"",Ru);return e._reactRootContainer=o,e[lt]=o.current,Nn(e.nodeType===8?e.parentNode:e),tr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=si(l);a.call(c)}}var l=ul(e,0,!1,null,null,!1,!1,"",Ru);return e._reactRootContainer=l,e[lt]=l.current,Nn(e.nodeType===8?e.parentNode:e),tr(function(){xi(t,l,r,n)}),l}function Si(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=si(o);a.call(l)}}xi(t,o,e,s)}else o=F0(r,t,e,s,n);return si(o)}Hc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sn(t.pendingLanes);r!==0&&(Oa(t,r|1),be(t,J()),!(U&6)&&(Ur=J()+500,At()))}break;case 13:tr(function(){var n=ut(e,1);if(n!==null){var s=ge();Ge(n,e,1,s)}}),cl(e,1)}};Ra=function(e){if(e.tag===13){var t=ut(e,134217728);if(t!==null){var r=ge();Ge(t,e,134217728,r)}cl(e,134217728)}};Gc=function(e){if(e.tag===13){var t=Tt(e),r=ut(e,t);if(r!==null){var n=ge();Ge(r,e,t,n)}cl(e,t)}};qc=function(){return M};Kc=function(e,t){var r=M;try{return M=e,t()}finally{M=r}};To=function(e,t,r){switch(t){case"input":if(So(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=fi(n);if(!s)throw Error(S(90));bc(n),So(n,s)}}}break;case"textarea":Nc(e,r);break;case"select":t=r.value,t!=null&&jr(e,!!r.multiple,t,!1)}};$c=il;Ic=tr;var B0={usingClientEntryPoint:!1,Events:[Bn,yr,fi,Rc,Lc,il]},Zr={findFiberByHostInstance:Ht,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V0={bundleType:Zr.bundleType,version:Zr.version,rendererPackageName:Zr.rendererPackageName,rendererConfig:Zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mc(e),e===null?null:e.stateNode},findFiberByHostInstance:Zr.findFiberByHostInstance||z0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gs.isDisabled&&gs.supportsFiber)try{ui=gs.inject(V0),Xe=gs}catch{}}Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B0;Oe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hl(t))throw Error(S(200));return D0(e,t,null,r)};Oe.createRoot=function(e,t){if(!hl(e))throw Error(S(299));var r=!1,n="",s=gh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ul(e,1,!1,null,null,r,!1,n,s),e[lt]=t.current,Nn(e.nodeType===8?e.parentNode:e),new dl(t)};Oe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Mc(t),e=e===null?null:e.stateNode,e};Oe.flushSync=function(e){return tr(e)};Oe.hydrate=function(e,t,r){if(!_i(t))throw Error(S(200));return Si(null,e,t,!0,r)};Oe.hydrateRoot=function(e,t,r){if(!hl(e))throw Error(S(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=gh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=mh(t,null,e,1,r??null,s,!1,i,o),e[lt]=t.current,Nn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ki(t)};Oe.render=function(e,t,r){if(!_i(t))throw Error(S(200));return Si(null,e,t,!1,r)};Oe.unmountComponentAtNode=function(e){if(!_i(e))throw Error(S(40));return e._reactRootContainer?(tr(function(){Si(null,null,e,!1,function(){e._reactRootContainer=null,e[lt]=null})}),!0):!1};Oe.unstable_batchedUpdates=il;Oe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_i(r))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return Si(e,t,r,!1,n)};Oe.version="18.3.1-next-f1338f8080-20240426";function yh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yh)}catch(e){console.error(e)}}yh(),yc.exports=Oe;var W0=yc.exports,vh,Lu=W0;vh=Lu.createRoot,Lu.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function An(){return An=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},An.apply(this,arguments)}var St;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(St||(St={}));const $u="popstate";function H0(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return ua("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:xh(s)}return q0(t,r,null,e)}function X(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function G0(){return Math.random().toString(36).substr(2,8)}function Iu(e,t){return{usr:e.state,key:e.key,idx:t}}function ua(e,t,r,n){return r===void 0&&(r=null),An({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vr(t):t,{state:r,key:t&&t.key||n||G0()})}function xh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function q0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=St.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(An({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=St.Pop;let _=d(),g=_==null?null:_-c;c=_,l&&l({action:a,location:w.location,delta:g})}function f(_,g){a=St.Push;let p=ua(w.location,_,g);c=d()+1;let m=Iu(p,c),x=w.createHref(p);try{o.pushState(m,"",x)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(x)}i&&l&&l({action:a,location:w.location,delta:1})}function y(_,g){a=St.Replace;let p=ua(w.location,_,g);c=d();let m=Iu(p,c),x=w.createHref(p);o.replaceState(m,"",x),i&&l&&l({action:a,location:w.location,delta:0})}function v(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:xh(_);return p=p.replace(/ $/,"%20"),X(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let w={get action(){return a},get location(){return e(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener($u,h),l=_,()=>{s.removeEventListener($u,h),l=null}},createHref(_){return t(s,_)},createURL:v,encodeLocation(_){let g=v(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:y,go(_){return o.go(_)}};return w}var Au;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Au||(Au={}));function K0(e,t,r){return r===void 0&&(r="/"),Q0(e,t,r,!1)}function Q0(e,t,r,n){let s=typeof t=="string"?Vr(t):t,i=Sh(s.pathname||"/",r);if(i==null)return null;let o=kh(e);J0(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=am(i);a=im(o[l],c,n)}return a}function kh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(X(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Jt([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(X(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),kh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:nm(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of _h(i.path))s(i,o,l)}),t}function _h(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=_h(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function J0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:sm(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Y0=/^:[\w-]+$/,X0=3,Z0=2,em=1,tm=10,rm=-2,Uu=e=>e==="*";function nm(e,t){let r=e.split("/"),n=r.length;return r.some(Uu)&&(n+=rm),t&&(n+=Z0),r.filter(s=>!Uu(s)).reduce((s,i)=>s+(Y0.test(i)?X0:i===""?em:tm),n)}function sm(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function im(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Mu({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=Mu({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Jt([i,h.pathname]),pathnameBase:dm(Jt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Jt([i,h.pathnameBase]))}return o}function Mu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=om(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[h];return y&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function om(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),wh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function am(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function lm(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Vr(e):e;return{pathname:r?r.startsWith("/")?r:um(r,t):t,search:hm(n),hash:fm(s)}}function um(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function uo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cm(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jh(e,t){let r=cm(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function bh(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Vr(e):(s=An({},e),X(!s.pathname||!s.pathname.includes("?"),uo("?","pathname","search",s)),X(!s.pathname||!s.pathname.includes("#"),uo("#","pathname","hash",s)),X(!s.search||!s.search.includes("#"),uo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=lm(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Jt=e=>e.join("/").replace(/\/\/+/g,"/"),dm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fm=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Eh=["post","put","patch","delete"];new Set(Eh);const mm=["get",...Eh];new Set(mm);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(this,arguments)}const fl=k.createContext(null),gm=k.createContext(null),Wn=k.createContext(null),ji=k.createContext(null),sr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Nh=k.createContext(null);function Hn(){return k.useContext(ji)!=null}function bi(){return Hn()||X(!1),k.useContext(ji).location}function Ch(e){k.useContext(Wn).static||k.useLayoutEffect(e)}function Ph(){let{isDataRoute:e}=k.useContext(sr);return e?Pm():ym()}function ym(){Hn()||X(!1);let e=k.useContext(fl),{basename:t,future:r,navigator:n}=k.useContext(Wn),{matches:s}=k.useContext(sr),{pathname:i}=bi(),o=JSON.stringify(jh(s,r.v7_relativeSplatPath)),a=k.useRef(!1);return Ch(()=>{a.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=bh(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Jt([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function vm(e,t){return wm(e,t)}function wm(e,t,r,n){Hn()||X(!1);let{navigator:s}=k.useContext(Wn),{matches:i}=k.useContext(sr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=bi(),d;if(t){var h;let _=typeof t=="string"?Vr(t):t;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||X(!1),d=_}else d=c;let f=d.pathname||"/",y=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=K0(e,{pathname:y}),w=jm(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Jt([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Jt([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return t&&w?k.createElement(ji.Provider,{value:{location:Un({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:St.Pop}},w):w}function xm(){let e=Cm(),t=pm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,null)}const km=k.createElement(xm,null);class _m extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(sr.Provider,{value:this.props.routeContext},k.createElement(Nh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sm(e){let{routeContext:t,match:r,children:n}=e,s=k.useContext(fl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(sr.Provider,{value:t},n)}function jm(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||X(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:y}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let y,v=!1,w=null,_=null;r&&(y=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||km,l&&(c<0&&f===0?(v=!0,_=null):c===f&&(v=!0,_=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),p=()=>{let m;return y?m=w:v?m=_:h.route.Component?m=k.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,k.createElement(Sm,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(_m,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var Th=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Th||{}),ii=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ii||{});function bm(e){let t=k.useContext(fl);return t||X(!1),t}function Em(e){let t=k.useContext(gm);return t||X(!1),t}function Nm(e){let t=k.useContext(sr);return t||X(!1),t}function Oh(e){let t=Nm(),r=t.matches[t.matches.length-1];return r.route.id||X(!1),r.route.id}function Cm(){var e;let t=k.useContext(Nh),r=Em(ii.UseRouteError),n=Oh(ii.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Pm(){let{router:e}=bm(Th.UseNavigateStable),t=Oh(ii.UseNavigateStable),r=k.useRef(!1);return Ch(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Un({fromRouteId:t},i)))},[e,t])}const Du={};function Tm(e,t){Du[t]||(Du[t]=!0,console.warn(t))}const zu=(e,t,r)=>Tm(e,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function Om(e,t){(e==null?void 0:e.v7_startTransition)===void 0&&zu("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&!t&&zu("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Rm(e){let{to:t,replace:r,state:n,relative:s}=e;Hn()||X(!1);let{future:i,static:o}=k.useContext(Wn),{matches:a}=k.useContext(sr),{pathname:l}=bi(),c=Ph(),d=bh(t,jh(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return k.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function $s(e){X(!1)}function Lm(e){let{basename:t="/",children:r=null,location:n,navigationType:s=St.Pop,navigator:i,static:o=!1,future:a}=e;Hn()&&X(!1);let l=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:i,static:o,future:Un({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Vr(n));let{pathname:d="/",search:h="",hash:f="",state:y=null,key:v="default"}=n,w=k.useMemo(()=>{let _=Sh(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:y,key:v},navigationType:s}},[l,d,h,f,y,v,s]);return w==null?null:k.createElement(Wn.Provider,{value:c},k.createElement(ji.Provider,{children:r,value:w}))}function $m(e){let{children:t,location:r}=e;return vm(ca(t),r)}new Promise(()=>{});function ca(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,s)=>{if(!k.isValidElement(n))return;let i=[...t,s];if(n.type===k.Fragment){r.push.apply(r,ca(n.props.children,i));return}n.type!==$s&&X(!1),!n.props.index||!n.props.children||X(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ca(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Im="6";try{window.__reactRouterVersion=Im}catch{}const Am="startTransition",Fu=Lf[Am];function Um(e){let{basename:t,children:r,future:n,window:s}=e,i=k.useRef();i.current==null&&(i.current=H0({window:s,v5Compat:!0}));let o=i.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=k.useCallback(h=>{c&&Fu?Fu(()=>l(h)):l(h)},[l,c]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>Om(n),[n]),k.createElement(Lm,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var Bu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Bu||(Bu={}));var Vu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Vu||(Vu={}));const Mm="modulepreload",Dm=function(e){return"/"+e},Wu={},Mr=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Dm(l),l in Wu)return;Wu[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Mm,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},zm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mr(async()=>{const{default:n}=await Promise.resolve().then(()=>Wr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class pl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Fm extends pl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Bm extends pl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Vm extends pl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var da;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(da||(da={}));var Wm=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Hm{constructor(t,{headers:r={},customFetch:n,region:s=da.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=zm(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Wm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(v=>{throw new Fm(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Bm(d);if(!d.ok)throw new Vm(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield d.json():f==="application/octet-stream"?y=yield d.blob():f==="text/event-stream"?y=d:f==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var ke={},ml={},Ei={},Gn={},Ni={},Ci={},Gm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Dr=Gm();const qm=Dr.fetch,Rh=Dr.fetch.bind(Dr),Lh=Dr.Headers,Km=Dr.Request,Qm=Dr.Response,Wr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Lh,Request:Km,Response:Qm,default:Rh,fetch:qm},Symbol.toStringTag,{value:"Module"})),Jm=gf(Wr);var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});let Ym=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Pi.default=Ym;var $h=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ci,"__esModule",{value:!0});const Xm=$h(Jm),Zm=$h(Pi);let eg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Xm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{c=JSON.parse(w),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,y="OK")}catch{i.status===404&&w===""?(f=204,y="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,y="OK"),c&&this.shouldThrowOnError)throw new Zm.default(c)}return{error:c,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}};Ci.default=eg;var tg=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ni,"__esModule",{value:!0});const rg=tg(Ci);let ng=class extends rg.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ni.default=ng;var sg=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gn,"__esModule",{value:!0});const ig=sg(Ni);let og=class extends ig.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Gn.default=og;var ag=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ei,"__esModule",{value:!0});const en=ag(Gn);let lg=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new en.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new en.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new en.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new en.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new en.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ei.default=lg;var Ti={},Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.version=void 0;Oi.version="0.0.0-automated";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.DEFAULT_HEADERS=void 0;const ug=Oi;Ti.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ug.version}`};var Ih=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ml,"__esModule",{value:!0});const cg=Ih(Ei),dg=Ih(Gn),hg=Ti;let fg=class Ah{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},hg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new cg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ah(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new dg.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ml.default=fg;var Hr=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ke,"__esModule",{value:!0});ke.PostgrestError=ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const Uh=Hr(ml);ke.PostgrestClient=Uh.default;const Mh=Hr(Ei);ke.PostgrestQueryBuilder=Mh.default;const Dh=Hr(Gn);ke.PostgrestFilterBuilder=Dh.default;const zh=Hr(Ni);ke.PostgrestTransformBuilder=zh.default;const Fh=Hr(Ci);ke.PostgrestBuilder=Fh.default;const Bh=Hr(Pi);ke.PostgrestError=Bh.default;var pg=ke.default={PostgrestClient:Uh.default,PostgrestQueryBuilder:Mh.default,PostgrestFilterBuilder:Dh.default,PostgrestTransformBuilder:zh.default,PostgrestBuilder:Fh.default,PostgrestError:Bh.default};const{PostgrestClient:mg,PostgrestQueryBuilder:d1,PostgrestFilterBuilder:h1,PostgrestTransformBuilder:f1,PostgrestBuilder:p1,PostgrestError:m1}=pg,gg="2.11.2",yg={"X-Client-Info":`realtime-js/${gg}`},vg="1.0.0",Vh=1e4,wg=1e3;var Tr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Tr||(Tr={}));var Ee;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ee||(Ee={}));var Ve;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ve||(Ve={}));var ha;(function(e){e.websocket="websocket"})(ha||(ha={}));var Wt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Wt||(Wt={}));class xg{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Wh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(z||(z={}));const Hu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=kg(o,e,t,s),i),{})},kg=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Hh(i,o):fa(o)},Hh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return bg(t,r)}switch(e){case z.bool:return _g(t);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return Sg(t);case z.json:case z.jsonb:return jg(t);case z.timestamp:return Eg(t);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return fa(t);default:return fa(t)}},fa=e=>e,_g=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Sg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},jg=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},bg=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Hh(t,a))}return e},Eg=e=>typeof e=="string"?e.replace(" ","T"):e,Gh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class co{constructor(t,r,n={},s=Vh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gu||(Gu={}));class yn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=yn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(_=>_.presence_ref),y=h.map(_=>_.presence_ref),v=d.filter(_=>y.indexOf(_.presence_ref)<0),w=h.filter(_=>f.indexOf(_.presence_ref)<0);v.length>0&&(a[c]=v),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);t[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qu||(qu={}));var Ku;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ku||(Ku={}));var rt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class gl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new co(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new Wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new yn(this),this.broadcastEndpointURL=Gh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(rt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(rt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(rt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let w=0;w<y;w++){const _=f[w],{filter:{event:g,schema:p,table:m,filter:x}}=_,j=d&&d[w];if(j&&j.event===g&&j.schema===p&&j.table===m&&j.filter===x)v.push(Object.assign(Object.assign({},_),{id:j.id}));else{this.unsubscribe(),t==null||t(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(rt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new co(this,Ve.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new co(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ve;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,w,_;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(w=y.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(y=>y.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,w,_,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const x=y.id,j=(v=y.filter)===null||v===void 0?void 0:v.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:_,commit_timestamp:g,type:p,errors:m}=v;f=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(v))}y.callback(f,n)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&gl.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ve.close,{},t)}_onError(t){this._on(Ve.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Hu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Hu(t.columns,t.old_record)),r}}const Ng=()=>{},Cg=typeof WebSocket<"u",Pg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tg{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=yg,this.params={},this.timeout=Vh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ng,this.conn=null,this.sendBuffer=[],this.serializer=new xg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Mr(async()=>{const{default:l}=await Promise.resolve().then(()=>Wr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ha.websocket}`,this.httpEndpoint=Gh(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Cg){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Og(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Mr(async()=>{const{default:t}=await import("./browser-DSiLJGb3.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vg}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Tr.connecting:return Wt.Connecting;case Tr.open:return Wt.Open;case Tr.closing:return Wt.Closing;default:return Wt.Closed}}isConnected(){return this.connectionState()===Wt.Open}channel(t,r={config:{}}){const n=new gl(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Ve.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(wg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ve.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Pg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Og{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Tr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class yl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function re(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Rg extends yl{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pa extends yl{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Lg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const qh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mr(async()=>{const{default:n}=await Promise.resolve().then(()=>Wr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},$g=()=>Lg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mr(()=>Promise.resolve().then(()=>Wr),void 0)).Response:Response}),ma=e=>{if(Array.isArray(e))return e.map(r=>ma(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ma(n)}),t};var ir=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const ho=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ig=(e,t,r)=>ir(void 0,void 0,void 0,function*(){const n=yield $g();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Rg(ho(s),e.status||500))}).catch(s=>{t(new pa(ho(s),s))}):t(new pa(ho(e),e))}),Ag=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function qn(e,t,r,n,s,i){return ir(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Ag(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Ig(l,a,n))})})}function oi(e,t,r,n){return ir(this,void 0,void 0,function*(){return qn(e,"GET",t,r,n)})}function yt(e,t,r,n,s){return ir(this,void 0,void 0,function*(){return qn(e,"POST",t,n,s,r)})}function Ug(e,t,r,n,s){return ir(this,void 0,void 0,function*(){return qn(e,"PUT",t,n,s,r)})}function Mg(e,t,r,n){return ir(this,void 0,void 0,function*(){return qn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Kh(e,t,r,n,s){return ir(this,void 0,void 0,function*(){return qn(e,"DELETE",t,n,s,r)})}var we=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Dg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zg{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=qh(s)}uploadOrUpdate(t,r,n,s){return we(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Qu),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(re(i))return{data:null,error:i};throw i}})}upload(t,r,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Qu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return we(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield yt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new yl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}update(t,r,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return we(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}copy(t,r,n){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield yt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return we(this,void 0,void 0,function*(){try{const s=yield yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}download(t,r){return we(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield oi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}})}info(t){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield oi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ma(n),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}exists(t){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Mg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(re(n)&&n instanceof pa){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return we(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}list(t,r,n){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Dg),r),{prefix:t||""});return{data:yield yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Fg="2.7.1",Bg={"X-Client-Info":`storage-js/${Fg}`};var ur=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Vg{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Bg),r),this.fetch=qh(n)}listBuckets(){return ur(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}getBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ur(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ur(this,void 0,void 0,function*(){try{return{data:yield Ug(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ur(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}}class Wg extends Vg{constructor(t,r={},n){super(t,r,n)}from(t){return new zg(this.url,this.headers,t,this.fetch)}}const Hg="2.47.10";let an="";typeof Deno<"u"?an="deno":typeof document<"u"?an="web":typeof navigator<"u"&&navigator.product==="ReactNative"?an="react-native":an="node";const Gg={"X-Client-Info":`supabase-js-${an}/${Hg}`},qg={headers:Gg},Kg={schema:"public"},Qg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jg={};var Yg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Xg=e=>{let t;return e?t=e:typeof fetch>"u"?t=Rh:t=fetch,(...r)=>t(...r)},Zg=()=>typeof Headers>"u"?Lh:Headers,ey=(e,t,r)=>{const n=Xg(r),s=Zg();return(i,o)=>Yg(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var ty=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function ry(e){return e.replace(/\/$/,"")}function ny(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>ty(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Qh="2.67.3",sy="http://localhost:9999",iy="supabase.auth.token",oy={"X-Client-Info":`gotrue-js/${Qh}`},Ju=10,ga="X-Supabase-Api-Version",Jh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ay(e){return Math.round(Date.now()/1e3)+e}function ly(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",zt={tested:!1,writable:!1},vn=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zt.tested)return zt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zt.tested=!0,zt.writable=!0}catch{zt.tested=!0,zt.writable=!1}return zt.writable};function uy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Yh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mr(async()=>{const{default:n}=await Promise.resolve().then(()=>Wr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},cy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ys=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vs=async(e,t)=>{await e.removeItem(t)};function dy(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,a,l,c,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),n=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&s!=0&&(r=r+String.fromCharCode(s)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Ri{constructor(){this.promise=new Ri.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ri.promiseConstructor=Promise;function Yu(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(dy(n))}async function hy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function fy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function py(e){return("0"+e.toString(16)).substr(-2)}function my(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,py).join("")}async function gy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function yy(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await gy(e);return yy(r)}async function cr(e,t,r=!1){const n=my();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Xh(e,`${t}-code-verifier`,s);const i=await vy(n);return[i,n===i?"plain":"s256"]}const wy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xy(e){const t=e.headers.get(ga);if(!t||!t.match(wy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class vl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function R(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ky extends vl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function _y(e){return R(e)&&e.name==="AuthApiError"}class Zh extends vl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class or extends vl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ft extends or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sy(e){return R(e)&&e.name==="AuthSessionMissingError"}class fo extends or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ws extends or{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xs extends or{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jy(e){return R(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xu extends or{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ya extends or{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function po(e){return R(e)&&e.name==="AuthRetryableFetchError"}class Zu extends or{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var by=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Vt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ey=[502,503,504];async function ec(e){var t;if(!cy(e))throw new ya(Vt(e),0);if(Ey.includes(e.status))throw new ya(Vt(e),e.status);let r;try{r=await e.json()}catch(i){throw new Zh(Vt(i),i)}let n;const s=xy(e);if(s&&s.getTime()>=Jh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zu(Vt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ft}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Zu(Vt(r),e.status,r.weak_password.reasons);throw new ky(Vt(r),e.status||500,n)}const Ny=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function A(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ga]||(i[ga]=Jh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Cy(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Cy(e,t,r,n,s,i){const o=Ny(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new ya(Vt(l),0)}if(a.ok||await ec(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await ec(l)}}function pt(e){var t;let r=null;Ry(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ay(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function tc(e){const t=pt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Py(e){return{data:e,error:null}}function Ty(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=by(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Oy(e){return e}function Ry(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ly=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class $y{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Yh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ly(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ty,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Oy});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);c[`${_}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(R(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await A(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:xt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:xt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await A(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}}const Iy={getItem:e=>vn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{vn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{vn()&&globalThis.localStorage.removeItem(e)}};function rc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Ay(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dr={debug:!!(globalThis&&vn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ef extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Uy extends ef{}async function My(e,t,r){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Uy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(dr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ay();const Dy={url:sy,storageKey:iy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},tn=30*1e3,nc=3;async function sc(e,t,r){return await r()}class Mn{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mn.nextInstanceID,Mn.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Dy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $y({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Yh(s.fetch),this.lock=s.lock||sc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=My:this.lock=sc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:vn()?this.storage=Iy:(this.memoryStorage={},this.storage=rc(this.memoryStorage)):(this.memoryStorage={},this.storage=rc(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=uy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jy(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?{error:r}:{error:new Zh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await cr(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:pt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:pt})}else throw new ws("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tc})}else throw new ws("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ys(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:pt});if(await vs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:pt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await cr(this.storage,this.storageKey));const{error:h}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ws("You must provide either an email or phone number.")}catch(a){if(R(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await cr(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Py})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ft;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(R(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await A(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await A(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ws("You must provide either an email or phone number and a type")}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ft}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:xt})})}catch(r){if(R(r))return Sy(r)&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ft;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await cr(this.storage,this.storageKey));const{data:c,error:d}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:xt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Yu(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ft;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=Yu(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(R(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ft;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Qe())throw new xs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xu("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new xs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const y=f-d;y*1e3<=tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(R(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ys(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(_y(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ly(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await cr(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(R(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await fy(async s=>(s>0&&await hy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&po(i)&&Date.now()+o-n<tn})}catch(n){if(this._debug(r,"error",n),R(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ys(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+Ju;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ju}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),po(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ri;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ft;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),R(i)){const o={session:null,error:i};return po(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await vs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),tn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${tn}ms, refresh threshold is ${nc} ticks`),s<=nc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ef)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await cr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await A(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await A(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}Mn.nextInstanceID=0;const zy=Mn;class Fy extends zy{constructor(t){super(t)}}var By=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Vy{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=ry(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Kg,realtime:Jg,auth:Object.assign(Object.assign({},Qg),{storageKey:l}),global:qg},d=ny(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=ey(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new mg(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Hm(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Wg(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return By(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fy({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new Tg(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wy=(e,t,r)=>new Vy(e,t,r),Hy="https://sarzkglbricizcbdulci.supabase.co",Gy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNhcnprZ2xicmljaXpjYmR1bGNpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzUzNzUwNTQsImV4cCI6MjA1MDk1MTA1NH0.MIj8-Rsajo8w9WinTiUafB9QRLlcRa5n4v0cRfLweAI",ae=Wy(Hy,Gy);function qy(){const[e,t]=k.useState(null),r=Ph();return k.useEffect(()=>{(async()=>{try{const{data:{user:s},error:i}=await ae.auth.getUser();if(i)throw i;if(s){const{error:o}=await ae.rpc("verify_user_email",{user_id:s.id});if(o)throw o}r("/",{replace:!0})}catch(s){t(s instanceof Error?s.message:"Authentication error"),setTimeout(()=>r("/auth",{replace:!0}),3e3)}})()},[r]),e?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:u.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg",children:e})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Verifying your account..."})]})})}const tf=k.createContext({user:{id:"00000000-0000-0000-0000-000000000000",email:"test@example.com"},loading:!1,error:null,isAdmin:!0,isParent:!1,signIn:async()=>({error:null}),signUp:async()=>({error:null}),signOut:async()=>{}});function Kn(){const e=k.useContext(tf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ky={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),L=(e,t)=>{const r=k.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>k.createElement("svg",{ref:d,...Ky,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Qy(e)}`,a].join(" "),...c},[...t.map(([h,f])=>k.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=L("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=L("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=L("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=L("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=L("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=L("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=L("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=L("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=L("Joystick",[["path",{d:"M21 17a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-2Z",key:"jg2n2t"}],["path",{d:"M6 15v-2",key:"gd6mvg"}],["path",{d:"M12 15V9",key:"8c7uyn"}],["circle",{cx:"12",cy:"6",r:"3",key:"1gm2ql"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=L("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=L("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=L("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=L("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=L("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=L("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=L("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=L("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=L("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=L("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=L("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=L("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=L("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=L("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=L("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=L("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=L("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=L("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=L("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=L("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=L("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=L("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=L("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=L("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=L("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=L("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=L("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=L("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function yv(){const[e,t]=k.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem("theme");return n||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});return k.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(e),localStorage.setItem("theme",e)},[e]),{theme:e,toggleTheme:()=>{t(n=>n==="light"?"dark":"light")}}}function df(){const{theme:e,toggleTheme:t}=yv();return u.jsx("button",{onClick:t,className:"flex items-center gap-2 w-full p-4 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e==="dark"?u.jsxs(u.Fragment,{children:[u.jsx(uv,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm",children:"Light Mode"})]}):u.jsxs(u.Fragment,{children:[u.jsx(iv,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm",children:"Dark Mode"})]})})}function vv({children:e}){return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 flex flex-col",children:[u.jsx("header",{className:"p-4 absolute top-0 left-0 right-0",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gv,{className:"w-8 h-8 text-blue-500"}),u.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"ZapBox"})]}),u.jsx(df,{})]})}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-4 mt-16",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 w-full max-w-md mx-auto backdrop-blur-sm bg-opacity-90 dark:bg-opacity-90 border border-gray-200 dark:border-gray-700",children:e})}),u.jsx("footer",{className:"py-8 text-center text-sm text-gray-600 dark:text-gray-400 absolute bottom-0 left-0 right-0 backdrop-blur-sm",children:u.jsxs("p",{children:["A fork of the Zaparoo project by"," ",u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Callan Barrett"})," and"," ",u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Bjorn Logan"})]})})]})}function wv({onSignUp:e,onForgotPassword:t}){const[r,n]=k.useState(""),[s,i]=k.useState(""),[o,a]=k.useState(null),[l,c]=k.useState(!1),{signIn:d}=Kn(),h=async f=>{f.preventDefault(),a(null),c(!0);try{const{error:y}=await d(r,s);if(y)throw y}catch(y){a(y instanceof Error?y.message:"Failed to sign in")}finally{c(!1)}};return u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome back"}),u.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sign in to your account to continue"})]}),u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"email",value:r,onChange:f=>n(f.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"you@example.com"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"password",value:s,onChange:f=>i(f.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"••••••••"})]})]}),o&&u.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg flex items-center gap-2",children:[u.jsx(Li,{className:"w-5 h-5"}),o]}),u.jsxs("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(rv,{className:"w-5 h-5"}),l?"Signing in...":"Sign in"]}),u.jsxs("div",{className:"flex flex-col space-y-2 text-sm text-center",children:[u.jsx("button",{type:"button",onClick:t,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Forgot your password?"}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",u.jsx("button",{type:"button",onClick:e,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Sign up"})]})]})]})]})}function xv({onSignIn:e}){const[t,r]=k.useState(""),[n,s]=k.useState(""),[i,o]=k.useState(""),[a,l]=k.useState(null),[c,d]=k.useState(!1),{signUp:h}=Kn(),f=async y=>{if(y.preventDefault(),l(null),n!==i){l("Passwords do not match");return}if(n.length<6){l("Password must be at least 6 characters");return}d(!0);try{const{error:v}=await h(t,n);if(v)throw v;l("Check your email for a verification link")}catch(v){l(v instanceof Error?v.message:"Failed to sign up")}finally{d(!1)}};return u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create an account"}),u.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sign up to start managing your games"})]}),u.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"email",value:t,onChange:y=>r(y.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"you@example.com"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"password",value:n,onChange:y=>s(y.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"••••••••"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"password",value:i,onChange:y=>o(y.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"••••••••"})]})]}),a&&u.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-2 ${a.includes("verification")?"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400"}`,children:[u.jsx(Li,{className:"w-5 h-5"}),a]}),u.jsxs("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(cf,{className:"w-5 h-5"}),c?"Creating account...":"Sign up"]}),u.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",u.jsx("button",{type:"button",onClick:e,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Sign in"})]})]})]})}function kv({onBack:e}){const[t,r]=k.useState(""),[n,s]=k.useState(null),[i,o]=k.useState(!1),[a,l]=k.useState(!1),c=async d=>{d.preventDefault(),s(null),o(!1),l(!0);try{const{error:h}=await ae.auth.resetPasswordForEmail(t);if(h)throw h;o(!0)}catch(h){s(h instanceof Error?h.message:"Failed to send reset email")}finally{l(!1)}};return u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset your password"}),u.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Enter your email address and we'll send you a link to reset your password"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"email",value:t,onChange:d=>r(d.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"you@example.com"})]})]}),n&&u.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg flex items-center gap-2",children:[u.jsx(Li,{className:"w-5 h-5"}),n]}),i&&u.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-lg",children:"Check your email for a password reset link"}),u.jsxs("button",{type:"submit",disabled:a,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(ev,{className:"w-5 h-5"}),a?"Sending...":"Send reset link"]}),u.jsx("button",{type:"button",onClick:e,className:"w-full text-center text-sm text-gray-600 dark:text-gray-400 hover:underline",children:"Back to sign in"})]})]})}function _v(){var o,a;const[e,t]=k.useState("signIn"),{user:r,loading:n}=Kn(),i=((a=(o=bi().state)==null?void 0:o.from)==null?void 0:a.pathname)||"/";return n?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?u.jsx(Rm,{to:i,replace:!0}):u.jsxs(vv,{children:[e==="signIn"&&u.jsx(wv,{onSignUp:()=>t("signUp"),onForgotPassword:()=>t("resetPassword")}),e==="signUp"&&u.jsx(xv,{onSignIn:()=>t("signIn")}),e==="resetPassword"&&u.jsx(kv,{onBack:()=>t("signIn")})]})}const Sv={Gamepad2:$i,Cpu:nf,Sword:lf,Joystick:sf};function jv({systems:e,isOpen:t,onClose:r,selectedCore:n,onCoreSelect:s}){const i=k.useRef(null);return k.useEffect(()=>{function o(a){t&&i.current&&!i.current.contains(a.target)&&r()}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[t,r]),u.jsxs(u.Fragment,{children:[t&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden animate-fade-in touch-none"}),u.jsx("aside",{ref:i,className:`fixed top-0 left-0 h-full w-[280px] max-w-[85%] bg-gray-50 dark:bg-gray-900 shadow-lg transform transition-transform duration-300 ease-in-out z-50
          ${t?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-sm font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-4",children:"Dashboards"}),u.jsxs("nav",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>s(null),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors text-sm
                  ${n?"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800":"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 font-medium"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Qn,{className:"w-4 h-4"}),u.jsx("span",{children:"Overview"})]}),u.jsx(mo,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]}),u.jsxs("button",{onClick:()=>s("leaderboard"),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(uf,{className:"w-4 h-4"}),u.jsx("span",{children:"Leaderboard"})]}),u.jsx(mo,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]})]})]}),u.jsxs("div",{className:"px-6 py-4",children:[u.jsx("h2",{className:"text-sm font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-4",children:"Systems"}),u.jsx("nav",{className:"space-y-1",children:e==null?void 0:e.map(o=>{const a=Sv[o.icon];return u.jsxs("button",{onClick:()=>s(o.id),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-colors text-sm group
                      ${n===o.id?"bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(a,{className:"w-4 h-4"}),u.jsx("span",{children:o.name})]}),u.jsx(mo,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]},o.id)})})]}),u.jsx("div",{className:"mt-auto border-t border-gray-200 dark:border-gray-700",children:u.jsx(df,{})})]})})]})}function hf({isConnected:e}){return u.jsx("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ${e?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:e?u.jsxs(u.Fragment,{children:[u.jsx(mv,{className:"w-4 h-4"}),u.jsx("span",{children:"Connected"})]}):u.jsxs(u.Fragment,{children:[u.jsx(pv,{className:"w-4 h-4"}),u.jsx("span",{children:"Disconnected"})]})})}let ks;const bv=new Uint8Array(16);function Ev(){if(!ks&&(ks=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ks))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ks(bv)}const ie=[];for(let e=0;e<256;++e)ie.push((e+256).toString(16).slice(1));function Nv(e,t=0){return ie[e[t+0]]+ie[e[t+1]]+ie[e[t+2]]+ie[e[t+3]]+"-"+ie[e[t+4]]+ie[e[t+5]]+"-"+ie[e[t+6]]+ie[e[t+7]]+"-"+ie[e[t+8]]+ie[e[t+9]]+"-"+ie[e[t+10]]+ie[e[t+11]]+ie[e[t+12]]+ie[e[t+13]]+ie[e[t+14]]+ie[e[t+15]]}const Cv=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ic={randomUUID:Cv};function Pv(e,t,r){if(ic.randomUUID&&!t&&!e)return ic.randomUUID();e=e||{};const n=e.random||(e.rng||Ev)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Nv(n)}class Tv{constructor(t){this.ws=null,this.url=`ws://${t}:7497`}connect(){return new Promise((t,r)=>{try{this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log("Connected to WebSocket"),t()},this.ws.onerror=n=>{console.error("WebSocket error:",n),r(n)},this.ws.onclose=()=>{console.log("WebSocket connection closed")}}catch(n){r(n)}})}disconnect(){this.ws&&(this.ws.close(),this.ws=null)}send(t,r){if(!this.ws)throw new Error("WebSocket not connected");const n={jsonrpc:"2.0",method:t,params:r,id:Pv()};this.ws.send(JSON.stringify(n))}onMessage(t){if(!this.ws)throw new Error("WebSocket not connected");this.ws.onmessage=r=>{try{const n=JSON.parse(r.data);t(n)}catch(n){console.error("Error parsing WebSocket message:",n)}}}}function ff(){const[e,t]=k.useState(null),[r,n]=k.useState(!0),[s,i]=k.useState(null);return k.useEffect(()=>{async function a(){try{const{data:{user:l}}=await ae.auth.getUser();if(!l){i("User not authenticated");return}const{data:c,error:d}=await ae.from("mister_settings").select("*").eq("user_id",l.id).single();if(d)throw d;t(c)}catch(l){i(l instanceof Error?l.message:"Failed to load settings")}finally{n(!1)}}a()},[]),{settings:e,loading:r,error:s,updateSettings:async(a,l)=>{try{const{data:{user:c}}=await ae.auth.getUser();if(!c)throw new Error("User not authenticated");const d={user_id:c.id,ip_address:a,is_connected:l,last_connected:l?new Date().toISOString():null};if(e!=null&&e.id){const{error:h}=await ae.from("mister_settings").update(d).eq("id",e.id);if(h)throw h}else{const{error:h}=await ae.from("mister_settings").insert([d]);if(h)throw h}t({...e,...d})}catch(c){throw i(c instanceof Error?c.message:"Failed to update settings"),c}}}}function jl(){const[e,t]=k.useState(null),[r,n]=k.useState(!1),[s,i]=k.useState(null),{settings:o,updateSettings:a}=ff(),l=k.useCallback(async()=>{if(!(o!=null&&o.ip_address)){i("MiSTer IP address not configured");return}try{const h=new Tv(o.ip_address);await h.connect(),t(h),n(!0),i(null),await a(o.ip_address,!0)}catch(h){i("Failed to connect to MiSTer"),await a(o.ip_address,!1),console.error("WebSocket connection error:",h)}},[o==null?void 0:o.ip_address,a]),c=k.useCallback(()=>{e==null||e.disconnect(),t(null),n(!1),o!=null&&o.ip_address&&a(o.ip_address,!1)},[e]),d=k.useCallback(h=>{if(!e||!r)return;const y=o.ip_address.startsWith("http://")||o.ip_address.startsWith("https://")?"":"http://",v=encodeURIComponent(h).replace(/%2F/g,"/").replace(/%20/g," ");window.location.href=`${y}${o.ip_address}:7497/l/${v}`},[e,r,o==null?void 0:o.ip_address]);return k.useEffect(()=>(o!=null&&o.ip_address&&l(),()=>{c()}),[o==null?void 0:o.ip_address,l,c]),{isConnected:r,error:s,launchGame:d}}function Ov({onOpenSettings:e,onMenuClick:t,onBack:r,showBack:n}){const{isConnected:s}=jl();return u.jsx("nav",{className:"sticky top-0 z-40 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsx("div",{className:"flex items-center",children:n&&r?u.jsx("button",{onClick:r,className:"mr-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:u.jsx(rf,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}):u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-2",children:u.jsx(av,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(hf,{isConnected:s}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:u.jsx(af,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]})]})})})}const Rv={Gamepad2:$i,Cpu:nf,Sword:lf,Joystick:sf};function Lv({system:e,onSelect:t,background:r}){if(e.component)return u.jsx(u.Fragment,{children:e.component});const n=e.icon?Rv[e.icon]:$i,i=r||{nes:"https://images.unsplash.com/photo-1599933310642-8f07bdaa6dc7?w=800",snes:"https://images.unsplash.com/photo-1607853202273-797f1c22a38e?w=800",genesis:"https://images.unsplash.com/photo-1551103782-8ab07afd45c1?w=800",arcade:"https://images.unsplash.com/photo-1511512578047-dfb367046420?w=800"}[e.id];return u.jsxs("button",{onClick:()=>t(e.id),className:"group relative w-full aspect-[4/3] rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[i?u.jsxs(u.Fragment,{children:[u.jsx("img",{src:i,alt:e.name,className:"absolute inset-0 w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/50 transition-colors"})]}):u.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.gradient||"from-gray-500 to-gray-600"} opacity-90 group-hover:opacity-100 transition-opacity`}),u.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col",children:[u.jsx("div",{className:"flex items-start justify-between",children:u.jsx(n,{className:"w-10 h-10 text-white opacity-80 group-hover:opacity-100 transition-opacity"})}),u.jsxs("div",{className:"mt-auto",children:[u.jsx("h3",{className:"text-white text-xl font-bold text-left",children:e.name}),e.manufacturer&&u.jsx("p",{className:"text-white/80 text-sm",children:e.manufacturer})]})]})]})}const $v={nes:"https://images.unsplash.com/photo-1599933310642-8f07bdaa6dc7?w=800",snes:"https://images.unsplash.com/photo-1607853202273-797f1c22a38e?w=800",genesis:"https://images.unsplash.com/photo-1551103782-8ab07afd45c1?w=800",arcade:"https://images.unsplash.com/photo-1511512578047-dfb367046420?w=800"};function Iv({systems:e,onSystemSelect:t}){return u.jsxs("div",{className:"px-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Systems"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.map(r=>u.jsx(Lv,{system:r,onSelect:t,background:$v[r.id]},r.id))})]})}function Av({game:e,onBack:t,onLaunch:r}){return u.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[u.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white mb-6",children:[u.jsx(rf,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Games"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"relative aspect-[3/4] rounded-xl overflow-hidden shadow-lg",children:[u.jsx("img",{src:e.coverUrl||"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=800",alt:e.title,className:"w-full h-full object-cover"}),e.favorite&&u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx("span",{className:"bg-yellow-500/90 p-2 rounded-lg",children:u.jsx(Qn,{className:"w-5 h-5 text-white fill-white"})})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:e.title}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.description||"No description available."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-300",children:[u.jsx(Yy,{className:"w-5 h-5"}),u.jsx("span",{children:e.releaseYear||"Release year unknown"})]}),u.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-300",children:[u.jsx(hv,{className:"w-5 h-5"}),u.jsx("span",{children:e.developer||"Developer unknown"})]}),u.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-300",children:[u.jsx(cv,{className:"w-5 h-5"}),u.jsx("span",{children:e.genre||"Genre unknown"})]})]}),u.jsxs("button",{onClick:()=>r(e),className:"w-full flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[u.jsx(kl,{className:"w-5 h-5"}),u.jsx("span",{children:"Launch Game"})]})]})]})]})}function Uv({game:e,onSelect:t}){return u.jsx("div",{className:"group cursor-pointer hover:opacity-90 active:opacity-75 transition-opacity",onClick:()=>t(e),children:u.jsxs("div",{className:"aspect-[3/4] rounded-lg overflow-hidden shadow-md dark:shadow-gray-800 relative",children:[u.jsx("img",{src:e.coverUrl||"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400",alt:e.title,className:"w-full h-full object-cover",loading:"lazy"}),u.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-100 group-hover:opacity-90 transition-opacity",children:[u.jsxs("div",{className:"absolute bottom-0 p-3 w-full",children:[u.jsx("h3",{className:"text-white font-semibold truncate mb-1",children:e.title}),u.jsx("p",{className:"text-gray-300 text-sm",children:e.core})]}),u.jsx("div",{className:"absolute top-0 right-0 p-2 flex gap-2",children:e.favorite&&u.jsx("span",{className:"bg-yellow-500/90 p-1.5 rounded-lg",children:u.jsx(Qn,{className:"w-4 h-4 text-white fill-white"})})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("span",{className:"bg-white/20 p-3 rounded-full backdrop-blur-sm",children:u.jsx(kl,{className:"w-6 h-6 text-white fill-white"})})})]})]})})}function Mv(e){return e.reduce((t,r)=>{const n=r.title[0].toUpperCase();return t[n]||(t[n]=[]),t[n].push(r),t},{})}function Dv(e,t){return[...e].sort((r,n)=>{switch(t){case"title":return r.title.localeCompare(n.title);case"lastPlayed":return r.lastPlayed?n.lastPlayed?new Date(n.lastPlayed).getTime()-new Date(r.lastPlayed).getTime():-1:1;case"releaseYear":return r.releaseYear?n.releaseYear?parseInt(n.releaseYear)-parseInt(r.releaseYear):-1:1;default:return 0}})}function zv({games:e,onGameSelect:t}){const r=Mv(e);return u.jsx("div",{className:"p-4 space-y-8",children:Object.entries(r).map(([n,s])=>u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white px-2",children:n}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:s.map(i=>u.jsx(Uv,{game:i,onSelect:t},i.id))})]},n))})}function Fv({games:e,onGameSelect:t}){return u.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map(r=>u.jsxs("button",{onClick:()=>t(r),className:"w-full flex items-center space-x-4 p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 active:bg-gray-100 dark:active:bg-gray-800 transition-colors text-left",children:[u.jsx("div",{className:"flex-shrink-0 w-16 h-16",children:u.jsx("img",{src:r.coverUrl||"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400",alt:r.title,className:"w-full h-full object-cover rounded-lg shadow-sm",loading:"lazy"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:r.title}),r.favorite&&u.jsx(Qn,{className:"w-4 h-4 text-yellow-400 fill-yellow-400 flex-shrink-0"})]}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.core}),r.lastPlayed&&u.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Last played: ",new Date(r.lastPlayed).toLocaleDateString()]})]}),u.jsx("div",{className:"flex-shrink-0",children:u.jsx(kl,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})})]},r.id))})}function Bv({viewMode:e,setViewMode:t,onSearchClick:r,onMenuClick:n}){return u.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-6 py-2 z-40 select-none",children:u.jsxs("div",{className:"flex justify-around items-center",children:[u.jsxs("button",{onClick:n,className:"flex flex-col items-center p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-all active:scale-[0.98]",children:[u.jsx(sv,{className:"w-6 h-6"}),u.jsx("span",{className:"text-xs mt-1",children:"Menu"})]}),u.jsxs("button",{onClick:r,className:"flex flex-col items-center p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-all active:scale-[0.98]",children:[u.jsx(of,{className:"w-6 h-6"}),u.jsx("span",{className:"text-xs mt-1",children:"Search"})]}),u.jsxs("div",{className:"relative group",children:[u.jsxs("button",{className:"flex flex-col items-center p-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-all",onClick:()=>t(e==="grid"?"list":"grid"),children:[u.jsxs("div",{className:"relative",children:[u.jsx(tv,{className:"w-6 h-6"}),u.jsx(Xy,{className:"w-3 h-3 absolute -right-1 -bottom-1"})]}),u.jsx("span",{className:"text-xs mt-1",children:"View"})]}),u.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity",children:u.jsxs("div",{className:"py-1",children:[u.jsx("button",{onClick:()=>t("grid"),className:`w-full px-4 py-2 text-sm flex items-center gap-2 ${e==="grid"?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Grid View"}),u.jsx("button",{onClick:()=>t("list"),className:`w-full px-4 py-2 text-sm flex items-center gap-2 ${e==="list"?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"List View"})]})})]})]})})}function Vv({onAddGame:e}){return u.jsx("div",{className:"fixed bottom-24 right-6 z-40",children:u.jsx("button",{onClick:e,className:"flex items-center justify-center w-14 h-14 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg transition-colors","aria-label":"Add game",children:u.jsx(lv,{className:"w-6 h-6"})})})}function Wv({value:e,onChange:t,placeholder:r="Search games...",className:n=""}){return u.jsxs("div",{className:`relative ${n}`,children:[u.jsx(of,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",value:e,onChange:s=>t(s.target.value),placeholder:r,className:"w-full pl-10 pr-4 py-3 bg-white/50 dark:bg-gray-800/50 border border-gray-200/50 dark:border-gray-700/50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white backdrop-blur-sm transition-all"})]})}function Hv({value:e,onChange:t}){return u.jsxs("div",{className:"relative",children:[u.jsx(Jy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsxs("select",{value:e,onChange:r=>t(r.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/50 dark:bg-gray-800/50 border border-gray-200/50 dark:border-gray-700/50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white backdrop-blur-sm transition-all appearance-none",children:[u.jsx("option",{value:"title",children:"Title (A-Z)"}),u.jsx("option",{value:"lastPlayed",children:"Recently Played"}),u.jsx("option",{value:"releaseYear",children:"Release Year"})]})]})}function Gv({isOpen:e,onClose:t,onSearch:r,onSort:n,sortBy:s="title"}){return e?u.jsx("div",{className:"fixed inset-0 bg-white dark:bg-gray-900 z-50 animate-fade-in",children:u.jsxs("div",{className:"p-4 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold dark:text-white",children:"Search Games"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:u.jsx(Sl,{className:"w-5 h-5 dark:text-gray-400"})})]}),u.jsx(Wv,{value:"",onChange:r,placeholder:"Search games...",className:"mb-4"}),n&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sort by"}),u.jsx(Hv,{value:s,onChange:n})]}),u.jsx("div",{className:"h-4"})," "]})}):null}function qv({value:e,onChange:t,isConnected:r}){const[n,s]=k.useState(""),i=a=>a?/^(\d{1,3}\.){3}\d{1,3}$/.test(a)?a.split(".").every(d=>{const h=parseInt(d,10);return h>=0&&h<=255}):!1:!0,o=a=>{const l=a.target.value;i(l)?(s(""),t(l)):s("Please enter a valid IP address (e.g., 192.168.1.1)")};return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"MiSTer IP Address"}),u.jsx(hf,{isConnected:r})]}),u.jsxs("div",{className:"relative",children:[u.jsx(ov,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),u.jsx("input",{type:"text",value:e,onChange:o,placeholder:"192.168.1.100",className:"w-full pl-10 pr-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white transition-colors text-base","aria-label":"MiSTer IP Address"})]}),n&&u.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:n})]})}function Kv(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,i]=k.useState(null),{user:o}=Kn();k.useEffect(()=>{a()},[]);async function a(){try{const{data:{users:c},error:d}=await ae.auth.admin.listUsers();if(d)throw d;const{data:h,error:f}=await ae.from("user_roles").select("*");if(f)throw f;const y=c.map(v=>{const w=h==null?void 0:h.find(_=>_.user_id===v.id);return{id:v.id,email:v.email||"",role:(w==null?void 0:w.role)||"child",parent_id:w==null?void 0:w.parent_id}});t(y)}catch(c){i(c instanceof Error?c.message:"Failed to load users")}finally{n(!1)}}const l=async(c,d)=>{try{const{error:h}=await ae.from("user_roles").upsert({user_id:c,role:d,updated_at:new Date().toISOString()});if(h)throw h;t(f=>f.map(y=>y.id===c?{...y,role:d}:y))}catch(h){i(h instanceof Error?h.message:"Failed to update user role")}};return r?u.jsx("div",{className:"p-6",children:"Loading..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"User Management"}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>{},children:[u.jsx(cf,{className:"w-4 h-4"}),"Invite User"]})]}),s&&u.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg flex items-center gap-2",children:[u.jsx(Li,{className:"w-5 h-5"}),s]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left border-b border-gray-200 dark:border-gray-700",children:[u.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Email"}),u.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Role"}),u.jsx("th",{className:"px-4 py-3 text-sm font-medium text-gray-500 dark:text-gray-400",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map(c=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:c.email}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${c.role==="admin"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":c.role==="parent"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}`,children:[u.jsx(_l,{className:"w-3 h-3"}),c.role]})}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("select",{value:c.role,onChange:d=>l(c.id,d.target.value),disabled:c.id===(o==null?void 0:o.id),className:"text-sm bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded px-2 py-1",children:[u.jsx("option",{value:"admin",children:"Admin"}),u.jsx("option",{value:"parent",children:"Parent"}),u.jsx("option",{value:"child",children:"Child"})]})})]},c.id))})]})})]})}const ai=[{id:"nes",name:"NES",shortName:"NES",icon:"Gamepad2",description:"8-bit home video game console",year:"1983",manufacturer:"Nintendo",color:"rgb(229, 62, 62)",gradient:"from-red-500 to-red-600"},{id:"snes",name:"SNES",shortName:"SNES",icon:"Cpu",description:"16-bit home video game console",year:"1990",manufacturer:"Nintendo",color:"rgb(129, 140, 248)",gradient:"from-indigo-400 to-indigo-500"},{id:"genesis",name:"Sega Genesis",shortName:"Genesis",icon:"Sword",description:"16-bit home video game console",year:"1988",manufacturer:"Sega",color:"rgb(34, 197, 94)",gradient:"from-green-500 to-green-600"},{id:"arcade",name:"Arcade Systems",shortName:"Arcade",icon:"Joystick",description:"Classic arcade systems",year:"1970s-1990s",manufacturer:"Various",color:"rgb(234, 179, 8)",gradient:"from-yellow-500 to-yellow-600"}];function Qv({userId:e}){var h,f,y,v,w,_,g,p;const[t,r]=k.useState({restricted_systems:[],allowed_play_times:{weekday:{start:"09:00",end:"21:00"},weekend:{start:"09:00",end:"22:00"}}}),[n,s]=k.useState(!0),[i,o]=k.useState(null);k.useEffect(()=>{a()},[e]);async function a(){try{const{data:m,error:x}=await ae.from("user_restrictions").select("*").eq("user_id",e).single();if(x)throw x;m&&r(m)}catch(m){o(m instanceof Error?m.message:"Failed to load restrictions")}finally{s(!1)}}async function l(m){try{const x={...t,...m},{error:j}=await ae.from("user_restrictions").upsert({user_id:e,...x});if(j)throw j;r(x)}catch(x){o(x instanceof Error?x.message:"Failed to update restrictions")}}const c=m=>{const x=t.restricted_systems||[],j=x.includes(m)?x.filter(N=>N!==m):[...x,m];l({restricted_systems:j})},d=(m,x,j)=>{var b;const N={...t.allowed_play_times,[m]:{...(b=t.allowed_play_times)==null?void 0:b[m],[x]:j}};l({allowed_play_times:N})};return n?u.jsx("div",{className:"p-6",children:"Loading..."}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-lg font-medium text-gray-900 dark:text-white mb-4",children:[u.jsx(_l,{className:"w-5 h-5"}),"Age Restrictions"]}),u.jsxs("select",{value:t.max_age_rating||"",onChange:m=>l({max_age_rating:m.target.value}),className:"w-full max-w-xs bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-4 py-2",children:[u.jsx("option",{value:"",children:"No age restriction"}),u.jsx("option",{value:"everyone",children:"Everyone (All ages)"}),u.jsx("option",{value:"everyone10",children:"Everyone 10+"}),u.jsx("option",{value:"teen",children:"Teen (13+)"}),u.jsx("option",{value:"mature",children:"Mature (17+)"})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-lg font-medium text-gray-900 dark:text-white mb-4",children:[u.jsx(wl,{className:"w-5 h-5"}),"Play Time Restrictions"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Weekdays"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("input",{type:"time",value:((f=(h=t.allowed_play_times)==null?void 0:h.weekday)==null?void 0:f.start)||"09:00",onChange:m=>d("weekday","start",m.target.value),className:"bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-1"}),u.jsx("span",{className:"text-gray-500",children:"to"}),u.jsx("input",{type:"time",value:((v=(y=t.allowed_play_times)==null?void 0:y.weekday)==null?void 0:v.end)||"21:00",onChange:m=>d("weekday","end",m.target.value),className:"bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-1"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Weekends"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("input",{type:"time",value:((_=(w=t.allowed_play_times)==null?void 0:w.weekend)==null?void 0:_.start)||"09:00",onChange:m=>d("weekend","start",m.target.value),className:"bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-1"}),u.jsx("span",{className:"text-gray-500",children:"to"}),u.jsx("input",{type:"time",value:((p=(g=t.allowed_play_times)==null?void 0:g.weekend)==null?void 0:p.end)||"22:00",onChange:m=>d("weekend","end",m.target.value),className:"bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-1"})]})]})]})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"flex items-center gap-2 text-lg font-medium text-gray-900 dark:text-white mb-4",children:[u.jsx($i,{className:"w-5 h-5"}),"Restricted Systems"]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:ai.map(m=>{var x;return u.jsxs("label",{className:"flex items-center gap-3 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:(x=t.restricted_systems)==null?void 0:x.includes(m.id),onChange:()=>c(m.id),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:m.name})]},m.id)})})]}),i&&u.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg",children:i})]})}function Jv({isOpen:e,onClose:t}){const{settings:r,updateSettings:n}=ff(),{user:s,isAdmin:i,isParent:o}=Kn(),{isConnected:a}=jl(),[l,c]=k.useState("general"),d=async h=>{try{await n(h,a)}catch(f){console.error("Failed to update MiSTer settings:",f)}};return e?u.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm overflow-y-auto",children:u.jsx("div",{className:"min-h-screen sm:flex sm:items-center sm:p-4",children:u.jsxs("div",{className:"w-full sm:max-w-4xl mx-auto bg-white dark:bg-gray-800 sm:rounded-2xl shadow-xl animate-fade-in",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:u.jsx(Sl,{className:"h-6 w-6"})}),u.jsxs("div",{className:"flex overflow-x-auto border-b border-gray-200 dark:border-gray-700 scrollbar-none",children:[u.jsxs("button",{onClick:()=>c("general"),className:`flex items-center gap-2 px-6 py-5 font-medium transition-colors whitespace-nowrap ${l==="general"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[u.jsx(af,{className:"w-5 h-5"}),"General"]}),(i||o)&&u.jsxs("button",{onClick:()=>c("parental"),className:`flex items-center gap-2 px-6 py-5 font-medium transition-colors whitespace-nowrap ${l==="parental"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[u.jsx(_l,{className:"w-5 h-5"}),"Parental Controls"]}),i&&u.jsxs("button",{onClick:()=>c("users"),className:`flex items-center gap-2 px-6 py-5 font-medium transition-colors whitespace-nowrap ${l==="users"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[u.jsx(fv,{className:"w-5 h-5"}),"Users"]})]}),u.jsxs("div",{className:"p-6 sm:p-8",children:[l==="general"&&u.jsxs("div",{className:"space-y-8",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Connection Settings"}),u.jsx(qv,{value:(r==null?void 0:r.ip_address)||"",onChange:d,isConnected:a})]}),l==="users"&&i&&u.jsx(Kv,{}),l==="parental"&&(i||o)&&u.jsx(Qv,{userId:(s==null?void 0:s.id)||""})]})]})})}):null}function Yv(){const[e,t]=k.useState([]),[r,n]=k.useState(!0),[s,i]=k.useState(null);return k.useEffect(()=>{async function o(){try{const{data:a,error:l}=await ae.from("player_stats").select("*").order("total_points",{ascending:!1});if(l)throw l;const{data:c}=await ae.auth.admin.listUsers(),d=new Map((c==null?void 0:c.users.map(f=>[f.id,f.email]))||[]),h=a.map(f=>({user_id:f.user_id,total_points:f.total_points,games_played:f.games_played,total_playtime:f.total_playtime,user_email:d.get(f.user_id)||"Unknown User"}));t(h)}catch(a){i(a instanceof Error?a.message:"Failed to load leaderboard")}finally{n(!1)}}o()},[]),r?u.jsx("div",{className:"flex items-center justify-center h-[50vh]",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?u.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg",children:s}):u.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[u.jsx(uf,{className:"w-6 h-6 text-yellow-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Leaderboard"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:e.slice(0,3).map((o,a)=>{var l;return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 relative overflow-hidden",children:[u.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 ${a===0?"bg-yellow-500":a===1?"bg-gray-400":"bg-amber-700"} transform rotate-45 translate-x-8 -translate-y-8`}),u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:[a+1,". ",(l=o.user_email)==null?void 0:l.split("@")[0]]}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[o.total_points.toLocaleString()," pts"]})]}),u.jsx(nv,{className:`w-8 h-8 ${a===0?"text-yellow-500":a===1?"text-gray-400":"text-amber-700"}`})]}),u.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Zy,{className:"w-4 h-4 text-gray-400"}),u.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.games_played," games"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(wl,{className:"w-4 h-4 text-gray-400"}),u.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Math.floor(parseInt(o.total_playtime)/3600),"h played"]})]})]})]},o.user_id)})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50",children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Rank"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Player"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Points"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Games"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Time Played"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map((o,a)=>{var l;return u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:a+1}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:(l=o.user_email)==null?void 0:l.split("@")[0]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:o.total_points.toLocaleString()}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:o.games_played}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[Math.floor(parseInt(o.total_playtime)/3600),"h"]})]},o.user_id)})})]})})})]})}function Xv(){const e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("").replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}function Zv({isOpen:e,onClose:t,onGameAdded:r}){const[n,s]=k.useState(""),[i,o]=k.useState(""),[a,l]=k.useState(""),[c,d]=k.useState(""),[h,f]=k.useState(""),[y,v]=k.useState(""),[w,_]=k.useState(""),[g,p]=k.useState(""),[m,x]=k.useState(null),j=async b=>{b.preventDefault(),x(null);try{const{data:{user:P}}=await ae.auth.getUser();if(!P)throw new Error("User not authenticated");const D={id:Xv(),title:n,system_id:i,path:a,description:c,release_year:h,developer:y,genre:w,cover_url:g,favorite:!1,user_id:P.id},{error:T}=await ae.from("games").insert([D]);if(T)throw T;r(D),t(),N()}catch(P){x(P instanceof Error?P.message:"Failed to add game")}},N=()=>{s(""),o(""),l(""),d(""),f(""),v(""),_(""),p(""),x(null)};return e?u.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:t}),u.jsx("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-2xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add New Game"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:u.jsx(Sl,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),u.jsxs("form",{onSubmit:j,className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),u.jsx("input",{type:"text",value:n,onChange:b=>s(b.target.value),required:!0,className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"System *"}),u.jsxs("select",{value:i,onChange:b=>o(b.target.value),required:!0,className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",children:[u.jsx("option",{value:"",children:"Select a system"}),ai.map(b=>u.jsx("option",{value:b.id,children:b.name},b.id))]})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Game Path *"}),u.jsx("input",{type:"text",value:a,onChange:b=>l(b.target.value),required:!0,placeholder:"/games/nes/game.rom",className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),u.jsx("textarea",{value:c,onChange:b=>d(b.target.value),rows:3,className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white resize-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Release Year"}),u.jsx("input",{type:"text",value:h,onChange:b=>f(b.target.value),placeholder:"1985",className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Developer"}),u.jsx("input",{type:"text",value:y,onChange:b=>v(b.target.value),className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Genre"}),u.jsx("input",{type:"text",value:w,onChange:b=>_(b.target.value),className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cover URL"}),u.jsx("input",{type:"url",value:g,onChange:b=>p(b.target.value),placeholder:"https://example.com/cover.jpg",className:"w-full px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white"})]})]}),m&&u.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:m}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[u.jsx(dv,{className:"w-4 h-4"}),u.jsx("span",{children:"Add Game"})]})]})]})]})})]}):null}function e1({games:e,onGameSelect:t}){const r=e.filter(n=>n.lastPlayed).sort((n,s)=>new Date(s.lastPlayed).getTime()-new Date(n.lastPlayed).getTime()).slice(0,4);return r.length===0?null:u.jsxs("div",{className:"px-4 mb-8",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx(wl,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Games"})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6",children:r.map(n=>u.jsx("div",{className:"relative cursor-pointer group",onClick:()=>t(n),children:u.jsxs("div",{className:"aspect-[3/4] rounded-lg overflow-hidden shadow-md",children:[u.jsx("img",{src:n.coverUrl||"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400",alt:n.title,className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent",children:u.jsxs("div",{className:"absolute bottom-0 p-3 w-full",children:[u.jsx("h3",{className:"text-white font-semibold truncate",children:n.title}),u.jsx("p",{className:"text-gray-300 text-sm",children:n.core})]})})]})},n.id))})]})}function t1({favoriteCount:e,onClick:t}){return u.jsxs("button",{onClick:t,className:"group relative w-full aspect-[4/3] rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400 to-yellow-500 opacity-90 group-hover:opacity-100 transition-opacity"}),u.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col",children:[u.jsx(Qn,{className:"w-8 h-8 text-white/90 fill-white/90"}),u.jsxs("div",{className:"mt-auto",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Favorites"}),u.jsxs("p",{className:"text-sm text-white/80",children:[e," games"]})]})]}),u.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]})}const go=[{id:"c8b5f8d0-5f3c-4b3c-8e0a-0f8b0f8b0f8b",title:"Super Mario Bros.",system_id:"nes",path:"/games/nes/Super Mario Bros.nes",last_played:"2024-03-10T15:30:00Z",favorite:!0,cover_url:"https://images.unsplash.com/photo-1566576912321-d58ddd7a6088?w=800",description:"The classic platformer that defined a generation.",release_year:"1985",developer:"Nintendo",genre:"Platformer",user_id:"",created_at:"2024-03-10T15:30:00Z",updated_at:"2024-03-10T15:30:00Z"},{id:"d9c6g9e1-6g4d-5c4d-9f1b-1g9c1g9c1g9c",title:"Sonic the Hedgehog",system_id:"genesis",path:"/games/genesis/Sonic the Hedgehog.md",last_played:"2024-03-09T18:20:00Z",favorite:!1,cover_url:"https://images.unsplash.com/photo-1642411867508-4f4cb38e3b56?w=800",description:"SEGA's high-speed answer to Mario.",release_year:"1991",developer:"Sega",genre:"Platformer",user_id:"",created_at:"2024-03-09T18:20:00Z",updated_at:"2024-03-09T18:20:00Z"},{id:"e0d7h0f2-7h5e-6d5e-0g2c-2h0d2h0d2h0d",title:"Street Fighter II",system_id:"arcade",path:"/games/arcade/Street Fighter II.zip",last_played:"2024-03-08T21:15:00Z",favorite:!0,cover_url:"https://images.unsplash.com/photo-1551103782-8ab07afd45c1?w=800",description:"The fighting game that started a revolution.",release_year:"1991",developer:"Capcom",genre:"Fighting",user_id:"",created_at:"2024-03-08T21:15:00Z",updated_at:"2024-03-08T21:15:00Z"}];function r1(){const[e,t]=k.useState("grid"),[r,n]=k.useState(!1),[s,i]=k.useState(!1),[o,a]=k.useState(!1),[l,c]=k.useState(null),[d,h]=k.useState(""),[f,y]=k.useState("title"),[v,w]=k.useState(null),[_,g]=k.useState(!1),{isConnected:p,error:m,launchGame:x}=jl(),j=k.useMemo(()=>{const T=go.filter(ce=>{var Yn,ar;const Ut=l?ce.system_id===l:!0,et=d.toLowerCase(),Jn=ce.title.toLowerCase().includes(et)||((Yn=ce.genre)==null?void 0:Yn.toLowerCase().includes(et))||!1||((ar=ce.developer)==null?void 0:ar.toLowerCase().includes(et))||!1;return Ut&&Jn});return Dv(T,f)},[l,d,f]),N=k.useMemo(()=>go.filter(T=>T.favorite),[]),b=T=>{w(T)},P=T=>{if(!T.path){console.error("Game path not available:",T.title);return}x(T.path)},D=T=>{console.log("Game added:",T)};return u.jsx(Um,{children:u.jsxs($m,{children:[u.jsx($s,{path:"/auth",element:u.jsx(_v,{})}),u.jsx($s,{path:"/auth/callback",element:u.jsx(qy,{})}),u.jsx($s,{path:"/",element:u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors relative",children:[u.jsx(Ov,{onOpenSettings:()=>a(!0),onMenuClick:()=>i(!0),onBack:v?()=>w(null):l?()=>c(null):void 0,showBack:!!l||!!v}),u.jsx(jv,{systems:ai,isOpen:s,onClose:()=>i(!1),selectedCore:l,onCoreSelect:T=>{c(T),i(!1)}}),u.jsx(Jv,{isOpen:o,onClose:()=>a(!1)}),u.jsx(Zv,{isOpen:_,onClose:()=>g(!1),onGameAdded:D}),u.jsx(Gv,{isOpen:r,onClose:()=>n(!1),onSearch:h,onSort:y,sortBy:f}),u.jsx("main",{className:"pb-20",children:v?u.jsx(Av,{game:v,onBack:()=>w(null),onLaunch:P}):l==="leaderboard"?u.jsx(Yv,{}):l?e==="grid"?u.jsx(zv,{games:j,onGameSelect:b}):u.jsx(Fv,{games:j,onGameSelect:b}):u.jsxs("div",{className:"p-6 space-y-8",children:[u.jsx(e1,{games:go,onGameSelect:b}),u.jsx(Iv,{systems:[...ai,{id:"favorites",component:u.jsx(t1,{favoriteCount:N.length,onClick:()=>c("favorites")})}],onSystemSelect:c})]})}),!v&&u.jsx(Vv,{onAddGame:()=>g(!0)}),u.jsx(Bv,{viewMode:e,setViewMode:t,onMenuClick:()=>i(!0),onSearchClick:()=>n(!0)})]})})]})})}const n1=k.createContext(void 0);function s1({children:e}){const[t,r]=k.useState(()=>localStorage.getItem("theme")||"light");k.useEffect(()=>{localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",t==="dark")},[t]);const n=()=>{r(s=>s==="light"?"dark":"light")};return u.jsx(n1.Provider,{value:{theme:t,toggleTheme:n},children:e})}function i1({children:e}){const t={user:{id:"00000000-0000-0000-0000-000000000000",email:"test@example.com"},loading:!1,error:null,isAdmin:!0,isParent:!1,signIn:async()=>({error:null}),signUp:async()=>({error:null}),signOut:async()=>{}};return u.jsx(tf.Provider,{value:t,children:e})}vh(document.getElementById("root")).render(u.jsx(k.StrictMode,{children:u.jsx(i1,{children:u.jsx(s1,{children:u.jsx(r1,{})})})}));export{mf as g};
