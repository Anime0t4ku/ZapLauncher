function hf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ff(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var oc={exports:{}},si={},lc={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=Symbol.for("react.element"),mf=Symbol.for("react.portal"),gf=Symbol.for("react.fragment"),vf=Symbol.for("react.strict_mode"),yf=Symbol.for("react.profiler"),wf=Symbol.for("react.provider"),_f=Symbol.for("react.context"),kf=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),Sf=Symbol.for("react.memo"),Ef=Symbol.for("react.lazy"),Ea=Symbol.iterator;function jf(e){return e===null||typeof e!="object"?null:(e=Ea&&e[Ea]||e["@@iterator"],typeof e=="function"?e:null)}var ac={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uc=Object.assign,cc={};function Dn(e,t,n){this.props=e,this.context=t,this.refs=cc,this.updater=n||ac}Dn.prototype.isReactComponent={};Dn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dc(){}dc.prototype=Dn.prototype;function vl(e,t,n){this.props=e,this.context=t,this.refs=cc,this.updater=n||ac}var yl=vl.prototype=new dc;yl.constructor=vl;uc(yl,Dn.prototype);yl.isPureReactComponent=!0;var ja=Array.isArray,hc=Object.prototype.hasOwnProperty,wl={current:null},fc={key:!0,ref:!0,__self:!0,__source:!0};function pc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)hc.call(t,r)&&!fc.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Fr,type:e,key:i,ref:o,props:s,_owner:wl.current}}function bf(e,t){return{$$typeof:Fr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _l(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fr}function Cf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ba=/\/+/g;function Li(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cf(""+e.key):t.toString(36)}function _s(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fr:case mf:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Li(o,0):r,ja(s)?(n="",e!=null&&(n=e.replace(ba,"$&/")+"/"),_s(s,t,n,"",function(u){return u})):s!=null&&(_l(s)&&(s=bf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ba,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ja(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Li(i,l);o+=_s(i,t,n,a,s)}else if(a=jf(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Li(i,l++),o+=_s(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Yr(e,t,n){if(e==null)return e;var r=[],s=0;return _s(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Pf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ge={current:null},ks={transition:null},Nf={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:ks,ReactCurrentOwner:wl};function mc(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:Yr,forEach:function(e,t,n){Yr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yr(e,function(){t++}),t},toArray:function(e){return Yr(e,function(t){return t})||[]},only:function(e){if(!_l(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};L.Component=Dn;L.Fragment=gf;L.Profiler=yf;L.PureComponent=vl;L.StrictMode=vf;L.Suspense=xf;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nf;L.act=mc;L.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=wl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)hc.call(t,a)&&!fc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Fr,type:e.type,key:s,ref:i,props:r,_owner:o}};L.createContext=function(e){return e={$$typeof:_f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wf,_context:e},e.Consumer=e};L.createElement=pc;L.createFactory=function(e){var t=pc.bind(null,e);return t.type=e,t};L.createRef=function(){return{current:null}};L.forwardRef=function(e){return{$$typeof:kf,render:e}};L.isValidElement=_l;L.lazy=function(e){return{$$typeof:Ef,_payload:{_status:-1,_result:e},_init:Pf}};L.memo=function(e,t){return{$$typeof:Sf,type:e,compare:t===void 0?null:t}};L.startTransition=function(e){var t=ks.transition;ks.transition={};try{e()}finally{ks.transition=t}};L.unstable_act=mc;L.useCallback=function(e,t){return ge.current.useCallback(e,t)};L.useContext=function(e){return ge.current.useContext(e)};L.useDebugValue=function(){};L.useDeferredValue=function(e){return ge.current.useDeferredValue(e)};L.useEffect=function(e,t){return ge.current.useEffect(e,t)};L.useId=function(){return ge.current.useId()};L.useImperativeHandle=function(e,t,n){return ge.current.useImperativeHandle(e,t,n)};L.useInsertionEffect=function(e,t){return ge.current.useInsertionEffect(e,t)};L.useLayoutEffect=function(e,t){return ge.current.useLayoutEffect(e,t)};L.useMemo=function(e,t){return ge.current.useMemo(e,t)};L.useReducer=function(e,t,n){return ge.current.useReducer(e,t,n)};L.useRef=function(e){return ge.current.useRef(e)};L.useState=function(e){return ge.current.useState(e)};L.useSyncExternalStore=function(e,t,n){return ge.current.useSyncExternalStore(e,t,n)};L.useTransition=function(){return ge.current.useTransition()};L.version="18.3.1";lc.exports=L;var _=lc.exports;const Tf=ff(_),Of=hf({__proto__:null,default:Tf},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=_,Lf=Symbol.for("react.element"),Af=Symbol.for("react.fragment"),$f=Object.prototype.hasOwnProperty,If=Rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uf={key:!0,ref:!0,__self:!0,__source:!0};function gc(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)$f.call(t,r)&&!Uf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Lf,type:e,key:i,ref:o,props:s,_owner:If.current}}si.Fragment=Af;si.jsx=gc;si.jsxs=gc;oc.exports=si;var d=oc.exports,vc={exports:{}},Te={},yc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,T){var R=b.length;b.push(T);e:for(;0<R;){var J=R-1>>>1,te=b[J];if(0<s(te,T))b[J]=T,b[R]=te,R=J;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var T=b[0],R=b.pop();if(R!==T){b[0]=R;e:for(var J=0,te=b.length,Qr=te>>>1;J<Qr;){var It=2*(J+1)-1,Ri=b[It],Ut=It+1,Zr=b[Ut];if(0>s(Ri,R))Ut<te&&0>s(Zr,Ri)?(b[J]=Zr,b[Ut]=R,J=Ut):(b[J]=Ri,b[It]=R,J=It);else if(Ut<te&&0>s(Zr,R))b[J]=Zr,b[Ut]=R,J=Ut;else break e}}return T}function s(b,T){var R=b.sortIndex-T.sortIndex;return R!==0?R:b.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,f=3,g=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(b){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=b)r(u),T.sortIndex=T.expirationTime,t(a,T);else break;T=n(u)}}function k(b){if(w=!1,v(b),!y)if(n(a)!==null)y=!0,Ti(E);else{var T=n(u);T!==null&&Oi(k,T.startTime-b)}}function E(b,T){y=!1,w&&(w=!1,m(N),N=-1),g=!0;var R=f;try{for(v(T),h=n(a);h!==null&&(!(h.expirationTime>T)||b&&!De());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var te=J(h.expirationTime<=T);T=e.unstable_now(),typeof te=="function"?h.callback=te:h===n(a)&&r(a),v(T)}else r(a);h=n(a)}if(h!==null)var Qr=!0;else{var It=n(u);It!==null&&Oi(k,It.startTime-T),Qr=!1}return Qr}finally{h=null,f=R,g=!1}}var C=!1,P=null,N=-1,G=5,A=-1;function De(){return!(e.unstable_now()-A<G)}function Hn(){if(P!==null){var b=e.unstable_now();A=b;var T=!0;try{T=P(!0,b)}finally{T?qn():(C=!1,P=null)}}else C=!1}var qn;if(typeof p=="function")qn=function(){p(Hn)};else if(typeof MessageChannel<"u"){var Sa=new MessageChannel,df=Sa.port2;Sa.port1.onmessage=Hn,qn=function(){df.postMessage(null)}}else qn=function(){x(Hn,0)};function Ti(b){P=b,C||(C=!0,qn())}function Oi(b,T){N=x(function(){b(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,Ti(E))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(b){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var R=f;f=T;try{return b()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,T){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var R=f;f=b;try{return T()}finally{f=R}},e.unstable_scheduleCallback=function(b,T,R){var J=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?J+R:J):R=J,b){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=R+te,b={id:c++,callback:T,priorityLevel:b,startTime:R,expirationTime:te,sortIndex:-1},R>J?(b.sortIndex=R,t(u,b),n(a)===null&&b===n(u)&&(w?(m(N),N=-1):w=!0,Oi(k,R-J))):(b.sortIndex=te,t(a,b),y||g||(y=!0,Ti(E))),b},e.unstable_shouldYield=De,e.unstable_wrapCallback=function(b){var T=f;return function(){var R=f;f=T;try{return b.apply(this,arguments)}finally{f=R}}}})(wc);yc.exports=wc;var Mf=yc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df=_,Ne=Mf;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _c=new Set,kr={};function en(e,t){Tn(e,t),Tn(e+"Capture",t)}function Tn(e,t){for(kr[e]=t,e=0;e<t.length;e++)_c.add(t[e])}var ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=Object.prototype.hasOwnProperty,zf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ca={},Pa={};function Ff(e){return mo.call(Pa,e)?!0:mo.call(Ca,e)?!1:zf.test(e)?Pa[e]=!0:(Ca[e]=!0,!1)}function Bf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wf(e,t,n,r){if(t===null||typeof t>"u"||Bf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ve(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ue[e]=new ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ue[t]=new ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ue[e]=new ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ue[e]=new ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ue[e]=new ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ue[e]=new ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ue[e]=new ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ue[e]=new ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ue[e]=new ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var kl=/[\-:]([a-z])/g;function xl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kl,xl);ue[t]=new ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kl,xl);ue[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kl,xl);ue[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ue[e]=new ve(e,1,!1,e.toLowerCase(),null,!1,!1)});ue.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ue[e]=new ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sl(e,t,n,r){var s=ue.hasOwnProperty(t)?ue[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wf(t,n,s,r)&&(n=null),r||s===null?Ff(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ct=Df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xr=Symbol.for("react.element"),dn=Symbol.for("react.portal"),hn=Symbol.for("react.fragment"),El=Symbol.for("react.strict_mode"),go=Symbol.for("react.profiler"),kc=Symbol.for("react.provider"),xc=Symbol.for("react.context"),jl=Symbol.for("react.forward_ref"),vo=Symbol.for("react.suspense"),yo=Symbol.for("react.suspense_list"),bl=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),Sc=Symbol.for("react.offscreen"),Na=Symbol.iterator;function Kn(e){return e===null||typeof e!="object"?null:(e=Na&&e[Na]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,Ai;function rr(e){if(Ai===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ai=t&&t[1]||""}return`
`+Ai+e}var $i=!1;function Ii(e,t){if(!e||$i)return"";$i=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{$i=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rr(e):""}function Vf(e){switch(e.tag){case 5:return rr(e.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 2:case 15:return e=Ii(e.type,!1),e;case 11:return e=Ii(e.type.render,!1),e;case 1:return e=Ii(e.type,!0),e;default:return""}}function wo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hn:return"Fragment";case dn:return"Portal";case go:return"Profiler";case El:return"StrictMode";case vo:return"Suspense";case yo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xc:return(e.displayName||"Context")+".Consumer";case kc:return(e._context.displayName||"Context")+".Provider";case jl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bl:return t=e.displayName||null,t!==null?t:wo(e.type)||"Memo";case pt:t=e._payload,e=e._init;try{return wo(e(t))}catch{}}return null}function Hf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wo(t);case 8:return t===El?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ot(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ec(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qf(e){var t=Ec(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function es(e){e._valueTracker||(e._valueTracker=qf(e))}function jc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ec(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _o(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ta(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ot(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bc(e,t){t=t.checked,t!=null&&Sl(e,"checked",t,!1)}function ko(e,t){bc(e,t);var n=Ot(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xo(e,t.type,n):t.hasOwnProperty("defaultValue")&&xo(e,t.type,Ot(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xo(e,t,n){(t!=="number"||Rs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sr=Array.isArray;function Sn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ot(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function So(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ra(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(S(92));if(sr(n)){if(1<n.length)throw Error(S(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ot(n)}}function Cc(e,t){var n=Ot(t.value),r=Ot(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function La(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ts,Nc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kf=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(e){Kf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});function Tc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ar.hasOwnProperty(e)&&ar[e]?(""+t).trim():t+"px"}function Oc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Tc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Gf=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jo(e,t){if(t){if(Gf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Co=null;function Cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Po=null,En=null,jn=null;function Aa(e){if(e=Vr(e)){if(typeof Po!="function")throw Error(S(280));var t=e.stateNode;t&&(t=ui(t),Po(e.stateNode,e.type,t))}}function Rc(e){En?jn?jn.push(e):jn=[e]:En=e}function Lc(){if(En){var e=En,t=jn;if(jn=En=null,Aa(e),t)for(e=0;e<t.length;e++)Aa(t[e])}}function Ac(e,t){return e(t)}function $c(){}var Ui=!1;function Ic(e,t,n){if(Ui)return e(t,n);Ui=!0;try{return Ac(e,t,n)}finally{Ui=!1,(En!==null||jn!==null)&&($c(),Lc())}}function Sr(e,t){var n=e.stateNode;if(n===null)return null;var r=ui(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(S(231,t,typeof n));return n}var No=!1;if(ot)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){No=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{No=!1}function Jf(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ur=!1,Ls=null,As=!1,To=null,Qf={onError:function(e){ur=!0,Ls=e}};function Zf(e,t,n,r,s,i,o,l,a){ur=!1,Ls=null,Jf.apply(Qf,arguments)}function Yf(e,t,n,r,s,i,o,l,a){if(Zf.apply(this,arguments),ur){if(ur){var u=Ls;ur=!1,Ls=null}else throw Error(S(198));As||(As=!0,To=u)}}function tn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Uc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $a(e){if(tn(e)!==e)throw Error(S(188))}function Xf(e){var t=e.alternate;if(!t){if(t=tn(e),t===null)throw Error(S(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return $a(s),e;if(i===r)return $a(s),t;i=i.sibling}throw Error(S(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?e:t}function Mc(e){return e=Xf(e),e!==null?Dc(e):null}function Dc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dc(e);if(t!==null)return t;e=e.sibling}return null}var zc=Ne.unstable_scheduleCallback,Ia=Ne.unstable_cancelCallback,ep=Ne.unstable_shouldYield,tp=Ne.unstable_requestPaint,Q=Ne.unstable_now,np=Ne.unstable_getCurrentPriorityLevel,Pl=Ne.unstable_ImmediatePriority,Fc=Ne.unstable_UserBlockingPriority,$s=Ne.unstable_NormalPriority,rp=Ne.unstable_LowPriority,Bc=Ne.unstable_IdlePriority,ii=null,Ye=null;function sp(e){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ii,e,void 0,(e.current.flags&128)===128)}catch{}}var He=Math.clz32?Math.clz32:lp,ip=Math.log,op=Math.LN2;function lp(e){return e>>>=0,e===0?32:31-(ip(e)/op|0)|0}var ns=64,rs=4194304;function ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Is(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ir(l):(i&=o,i!==0&&(r=ir(i)))}else o=n&~s,o!==0?r=ir(o):i!==0&&(r=ir(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-He(t),s=1<<n,r|=e[n],t&=~s;return r}function ap(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function up(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-He(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=ap(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Oo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wc(){var e=ns;return ns<<=1,!(ns&4194240)&&(ns=64),e}function Mi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Br(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-He(t),e[t]=n}function cp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-He(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Nl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-He(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var M=0;function Vc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hc,Tl,qc,Kc,Gc,Ro=!1,ss=[],St=null,Et=null,jt=null,Er=new Map,jr=new Map,vt=[],dp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ua(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(t.pointerId)}}function Jn(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Vr(t),t!==null&&Tl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hp(e,t,n,r,s){switch(t){case"focusin":return St=Jn(St,e,t,n,r,s),!0;case"dragenter":return Et=Jn(Et,e,t,n,r,s),!0;case"mouseover":return jt=Jn(jt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Er.set(i,Jn(Er.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,jr.set(i,Jn(jr.get(i)||null,e,t,n,r,s)),!0}return!1}function Jc(e){var t=Wt(e.target);if(t!==null){var n=tn(t);if(n!==null){if(t=n.tag,t===13){if(t=Uc(n),t!==null){e.blockedOn=t,Gc(e.priority,function(){qc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Co=r,n.target.dispatchEvent(r),Co=null}else return t=Vr(n),t!==null&&Tl(t),e.blockedOn=n,!1;t.shift()}return!0}function Ma(e,t,n){xs(e)&&n.delete(t)}function fp(){Ro=!1,St!==null&&xs(St)&&(St=null),Et!==null&&xs(Et)&&(Et=null),jt!==null&&xs(jt)&&(jt=null),Er.forEach(Ma),jr.forEach(Ma)}function Qn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ro||(Ro=!0,Ne.unstable_scheduleCallback(Ne.unstable_NormalPriority,fp)))}function br(e){function t(s){return Qn(s,e)}if(0<ss.length){Qn(ss[0],e);for(var n=1;n<ss.length;n++){var r=ss[n];r.blockedOn===e&&(r.blockedOn=null)}}for(St!==null&&Qn(St,e),Et!==null&&Qn(Et,e),jt!==null&&Qn(jt,e),Er.forEach(t),jr.forEach(t),n=0;n<vt.length;n++)r=vt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vt.length&&(n=vt[0],n.blockedOn===null);)Jc(n),n.blockedOn===null&&vt.shift()}var bn=ct.ReactCurrentBatchConfig,Us=!0;function pp(e,t,n,r){var s=M,i=bn.transition;bn.transition=null;try{M=1,Ol(e,t,n,r)}finally{M=s,bn.transition=i}}function mp(e,t,n,r){var s=M,i=bn.transition;bn.transition=null;try{M=4,Ol(e,t,n,r)}finally{M=s,bn.transition=i}}function Ol(e,t,n,r){if(Us){var s=Lo(e,t,n,r);if(s===null)Gi(e,t,r,Ms,n),Ua(e,r);else if(hp(s,e,t,n,r))r.stopPropagation();else if(Ua(e,r),t&4&&-1<dp.indexOf(e)){for(;s!==null;){var i=Vr(s);if(i!==null&&Hc(i),i=Lo(e,t,n,r),i===null&&Gi(e,t,r,Ms,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gi(e,t,r,null,n)}}var Ms=null;function Lo(e,t,n,r){if(Ms=null,e=Cl(r),e=Wt(e),e!==null)if(t=tn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Uc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ms=e,null}function Qc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(np()){case Pl:return 1;case Fc:return 4;case $s:case rp:return 16;case Bc:return 536870912;default:return 16}default:return 16}}var _t=null,Rl=null,Ss=null;function Zc(){if(Ss)return Ss;var e,t=Rl,n=t.length,r,s="value"in _t?_t.value:_t.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ss=s.slice(e,1<r?1-r:void 0)}function Es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function is(){return!0}function Da(){return!1}function Oe(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?is:Da,this.isPropagationStopped=Da,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=Oe(zn),Wr=q({},zn,{view:0,detail:0}),gp=Oe(Wr),Di,zi,Zn,oi=q({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(Di=e.screenX-Zn.screenX,zi=e.screenY-Zn.screenY):zi=Di=0,Zn=e),Di)},movementY:function(e){return"movementY"in e?e.movementY:zi}}),za=Oe(oi),vp=q({},oi,{dataTransfer:0}),yp=Oe(vp),wp=q({},Wr,{relatedTarget:0}),Fi=Oe(wp),_p=q({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),kp=Oe(_p),xp=q({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sp=Oe(xp),Ep=q({},zn,{data:0}),Fa=Oe(Ep),jp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cp[e])?!!t[e]:!1}function Al(){return Pp}var Np=q({},Wr,{key:function(e){if(e.key){var t=jp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tp=Oe(Np),Op=q({},oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ba=Oe(Op),Rp=q({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),Lp=Oe(Rp),Ap=q({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$p=Oe(Ap),Ip=q({},oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Up=Oe(Ip),Mp=[9,13,27,32],$l=ot&&"CompositionEvent"in window,cr=null;ot&&"documentMode"in document&&(cr=document.documentMode);var Dp=ot&&"TextEvent"in window&&!cr,Yc=ot&&(!$l||cr&&8<cr&&11>=cr),Wa=" ",Va=!1;function Xc(e,t){switch(e){case"keyup":return Mp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fn=!1;function zp(e,t){switch(e){case"compositionend":return ed(t);case"keypress":return t.which!==32?null:(Va=!0,Wa);case"textInput":return e=t.data,e===Wa&&Va?null:e;default:return null}}function Fp(e,t){if(fn)return e==="compositionend"||!$l&&Xc(e,t)?(e=Zc(),Ss=Rl=_t=null,fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yc&&t.locale!=="ko"?null:t.data;default:return null}}var Bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bp[e.type]:t==="textarea"}function td(e,t,n,r){Rc(r),t=Ds(t,"onChange"),0<t.length&&(n=new Ll("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dr=null,Cr=null;function Wp(e){hd(e,0)}function li(e){var t=gn(e);if(jc(t))return e}function Vp(e,t){if(e==="change")return t}var nd=!1;if(ot){var Bi;if(ot){var Wi="oninput"in document;if(!Wi){var qa=document.createElement("div");qa.setAttribute("oninput","return;"),Wi=typeof qa.oninput=="function"}Bi=Wi}else Bi=!1;nd=Bi&&(!document.documentMode||9<document.documentMode)}function Ka(){dr&&(dr.detachEvent("onpropertychange",rd),Cr=dr=null)}function rd(e){if(e.propertyName==="value"&&li(Cr)){var t=[];td(t,Cr,e,Cl(e)),Ic(Wp,t)}}function Hp(e,t,n){e==="focusin"?(Ka(),dr=t,Cr=n,dr.attachEvent("onpropertychange",rd)):e==="focusout"&&Ka()}function qp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return li(Cr)}function Kp(e,t){if(e==="click")return li(t)}function Gp(e,t){if(e==="input"||e==="change")return li(t)}function Jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ke=typeof Object.is=="function"?Object.is:Jp;function Pr(e,t){if(Ke(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!mo.call(t,s)||!Ke(e[s],t[s]))return!1}return!0}function Ga(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ja(e,t){var n=Ga(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ga(n)}}function sd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function id(){for(var e=window,t=Rs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rs(e.document)}return t}function Il(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qp(e){var t=id(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sd(n.ownerDocument.documentElement,n)){if(r!==null&&Il(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ja(n,i);var o=Ja(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zp=ot&&"documentMode"in document&&11>=document.documentMode,pn=null,Ao=null,hr=null,$o=!1;function Qa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$o||pn==null||pn!==Rs(r)||(r=pn,"selectionStart"in r&&Il(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hr&&Pr(hr,r)||(hr=r,r=Ds(Ao,"onSelect"),0<r.length&&(t=new Ll("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pn)))}function os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mn={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},Vi={},od={};ot&&(od=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function ai(e){if(Vi[e])return Vi[e];if(!mn[e])return e;var t=mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in od)return Vi[e]=t[n];return e}var ld=ai("animationend"),ad=ai("animationiteration"),ud=ai("animationstart"),cd=ai("transitionend"),dd=new Map,Za="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lt(e,t){dd.set(e,t),en(t,[e])}for(var Hi=0;Hi<Za.length;Hi++){var qi=Za[Hi],Yp=qi.toLowerCase(),Xp=qi[0].toUpperCase()+qi.slice(1);Lt(Yp,"on"+Xp)}Lt(ld,"onAnimationEnd");Lt(ad,"onAnimationIteration");Lt(ud,"onAnimationStart");Lt("dblclick","onDoubleClick");Lt("focusin","onFocus");Lt("focusout","onBlur");Lt(cd,"onTransitionEnd");Tn("onMouseEnter",["mouseout","mouseover"]);Tn("onMouseLeave",["mouseout","mouseover"]);Tn("onPointerEnter",["pointerout","pointerover"]);Tn("onPointerLeave",["pointerout","pointerover"]);en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));en("onBeforeInput",["compositionend","keypress","textInput","paste"]);en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e0=new Set("cancel close invalid load scroll toggle".split(" ").concat(or));function Ya(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Yf(r,t,void 0,e),e.currentTarget=null}function hd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ya(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ya(s,l,u),i=a}}}if(As)throw e=To,As=!1,To=null,e}function F(e,t){var n=t[zo];n===void 0&&(n=t[zo]=new Set);var r=e+"__bubble";n.has(r)||(fd(t,e,2,!1),n.add(r))}function Ki(e,t,n){var r=0;t&&(r|=4),fd(n,e,r,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){if(!e[ls]){e[ls]=!0,_c.forEach(function(n){n!=="selectionchange"&&(e0.has(n)||Ki(n,!1,e),Ki(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Ki("selectionchange",!1,t))}}function fd(e,t,n,r){switch(Qc(t)){case 1:var s=pp;break;case 4:s=mp;break;default:s=Ol}n=s.bind(null,t,n,e),s=void 0,!No||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Gi(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Wt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Ic(function(){var u=i,c=Cl(n),h=[];e:{var f=dd.get(e);if(f!==void 0){var g=Ll,y=e;switch(e){case"keypress":if(Es(n)===0)break e;case"keydown":case"keyup":g=Tp;break;case"focusin":y="focus",g=Fi;break;case"focusout":y="blur",g=Fi;break;case"beforeblur":case"afterblur":g=Fi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Lp;break;case ld:case ad:case ud:g=kp;break;case cd:g=$p;break;case"scroll":g=gp;break;case"wheel":g=Up;break;case"copy":case"cut":case"paste":g=Sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ba}var w=(t&4)!==0,x=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,v;p!==null;){v=p;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,m!==null&&(k=Sr(p,m),k!=null&&w.push(Tr(p,k,v)))),x)break;p=p.return}0<w.length&&(f=new g(f,y,null,n,c),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Co&&(y=n.relatedTarget||n.fromElement)&&(Wt(y)||y[lt]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Wt(y):null,y!==null&&(x=tn(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(w=za,k="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ba,k="onPointerLeave",m="onPointerEnter",p="pointer"),x=g==null?f:gn(g),v=y==null?f:gn(y),f=new w(k,p+"leave",g,n,c),f.target=x,f.relatedTarget=v,k=null,Wt(c)===u&&(w=new w(m,p+"enter",y,n,c),w.target=v,w.relatedTarget=x,k=w),x=k,g&&y)t:{for(w=g,m=y,p=0,v=w;v;v=on(v))p++;for(v=0,k=m;k;k=on(k))v++;for(;0<p-v;)w=on(w),p--;for(;0<v-p;)m=on(m),v--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=on(w),m=on(m)}w=null}else w=null;g!==null&&Xa(h,f,g,w,!1),y!==null&&x!==null&&Xa(h,x,y,w,!0)}}e:{if(f=u?gn(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var E=Vp;else if(Ha(f))if(nd)E=Gp;else{E=qp;var C=Hp}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Kp);if(E&&(E=E(e,u))){td(h,E,n,c);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&xo(f,"number",f.value)}switch(C=u?gn(u):window,e){case"focusin":(Ha(C)||C.contentEditable==="true")&&(pn=C,Ao=u,hr=null);break;case"focusout":hr=Ao=pn=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,Qa(h,n,c);break;case"selectionchange":if(Zp)break;case"keydown":case"keyup":Qa(h,n,c)}var P;if($l)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else fn?Xc(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Yc&&n.locale!=="ko"&&(fn||N!=="onCompositionStart"?N==="onCompositionEnd"&&fn&&(P=Zc()):(_t=c,Rl="value"in _t?_t.value:_t.textContent,fn=!0)),C=Ds(u,N),0<C.length&&(N=new Fa(N,e,null,n,c),h.push({event:N,listeners:C}),P?N.data=P:(P=ed(n),P!==null&&(N.data=P)))),(P=Dp?zp(e,n):Fp(e,n))&&(u=Ds(u,"onBeforeInput"),0<u.length&&(c=new Fa("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=P))}hd(h,t)})}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ds(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sr(e,n),i!=null&&r.unshift(Tr(e,i,s)),i=Sr(e,t),i!=null&&r.push(Tr(e,i,s))),e=e.return}return r}function on(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xa(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Sr(n,i),a!=null&&o.unshift(Tr(n,a,l))):s||(a=Sr(n,i),a!=null&&o.push(Tr(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var t0=/\r\n?/g,n0=/\u0000|\uFFFD/g;function eu(e){return(typeof e=="string"?e:""+e).replace(t0,`
`).replace(n0,"")}function as(e,t,n){if(t=eu(t),eu(e)!==t&&n)throw Error(S(425))}function zs(){}var Io=null,Uo=null;function Mo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Do=typeof setTimeout=="function"?setTimeout:void 0,r0=typeof clearTimeout=="function"?clearTimeout:void 0,tu=typeof Promise=="function"?Promise:void 0,s0=typeof queueMicrotask=="function"?queueMicrotask:typeof tu<"u"?function(e){return tu.resolve(null).then(e).catch(i0)}:Do;function i0(e){setTimeout(function(){throw e})}function Ji(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),br(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);br(t)}function bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fn=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Fn,Or="__reactProps$"+Fn,lt="__reactContainer$"+Fn,zo="__reactEvents$"+Fn,o0="__reactListeners$"+Fn,l0="__reactHandles$"+Fn;function Wt(e){var t=e[Ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lt]||n[Ze]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nu(e);e!==null;){if(n=e[Ze])return n;e=nu(e)}return t}e=n,n=e.parentNode}return null}function Vr(e){return e=e[Ze]||e[lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function ui(e){return e[Or]||null}var Fo=[],vn=-1;function At(e){return{current:e}}function B(e){0>vn||(e.current=Fo[vn],Fo[vn]=null,vn--)}function z(e,t){vn++,Fo[vn]=e.current,e.current=t}var Rt={},fe=At(Rt),xe=At(!1),Jt=Rt;function On(e,t){var n=e.type.contextTypes;if(!n)return Rt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Se(e){return e=e.childContextTypes,e!=null}function Fs(){B(xe),B(fe)}function ru(e,t,n){if(fe.current!==Rt)throw Error(S(168));z(fe,t),z(xe,n)}function pd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(S(108,Hf(e)||"Unknown",s));return q({},n,r)}function Bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rt,Jt=fe.current,z(fe,e),z(xe,xe.current),!0}function su(e,t,n){var r=e.stateNode;if(!r)throw Error(S(169));n?(e=pd(e,t,Jt),r.__reactInternalMemoizedMergedChildContext=e,B(xe),B(fe),z(fe,e)):B(xe),z(xe,n)}var nt=null,ci=!1,Qi=!1;function md(e){nt===null?nt=[e]:nt.push(e)}function a0(e){ci=!0,md(e)}function $t(){if(!Qi&&nt!==null){Qi=!0;var e=0,t=M;try{var n=nt;for(M=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nt=null,ci=!1}catch(s){throw nt!==null&&(nt=nt.slice(e+1)),zc(Pl,$t),s}finally{M=t,Qi=!1}}return null}var yn=[],wn=0,Ws=null,Vs=0,Re=[],Le=0,Qt=null,rt=1,st="";function Dt(e,t){yn[wn++]=Vs,yn[wn++]=Ws,Ws=e,Vs=t}function gd(e,t,n){Re[Le++]=rt,Re[Le++]=st,Re[Le++]=Qt,Qt=e;var r=rt;e=st;var s=32-He(r)-1;r&=~(1<<s),n+=1;var i=32-He(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,rt=1<<32-He(t)+s|n<<s|r,st=i+e}else rt=1<<i|n<<s|r,st=e}function Ul(e){e.return!==null&&(Dt(e,1),gd(e,1,0))}function Ml(e){for(;e===Ws;)Ws=yn[--wn],yn[wn]=null,Vs=yn[--wn],yn[wn]=null;for(;e===Qt;)Qt=Re[--Le],Re[Le]=null,st=Re[--Le],Re[Le]=null,rt=Re[--Le],Re[Le]=null}var Pe=null,Ce=null,W=!1,Ve=null;function vd(e,t){var n=Ae(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function iu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pe=e,Ce=bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pe=e,Ce=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qt!==null?{id:rt,overflow:st}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ae(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pe=e,Ce=null,!0):!1;default:return!1}}function Bo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wo(e){if(W){var t=Ce;if(t){var n=t;if(!iu(e,t)){if(Bo(e))throw Error(S(418));t=bt(n.nextSibling);var r=Pe;t&&iu(e,t)?vd(r,n):(e.flags=e.flags&-4097|2,W=!1,Pe=e)}}else{if(Bo(e))throw Error(S(418));e.flags=e.flags&-4097|2,W=!1,Pe=e}}}function ou(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pe=e}function us(e){if(e!==Pe)return!1;if(!W)return ou(e),W=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mo(e.type,e.memoizedProps)),t&&(t=Ce)){if(Bo(e))throw yd(),Error(S(418));for(;t;)vd(e,t),t=bt(t.nextSibling)}if(ou(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ce=bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ce=null}}else Ce=Pe?bt(e.stateNode.nextSibling):null;return!0}function yd(){for(var e=Ce;e;)e=bt(e.nextSibling)}function Rn(){Ce=Pe=null,W=!1}function Dl(e){Ve===null?Ve=[e]:Ve.push(e)}var u0=ct.ReactCurrentBatchConfig;function Yn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,e))}return e}function cs(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lu(e){var t=e._init;return t(e._payload)}function wd(e){function t(m,p){if(e){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Tt(m,p),m.index=0,m.sibling=null,m}function i(m,p,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,v,k){return p===null||p.tag!==6?(p=ro(v,m.mode,k),p.return=m,p):(p=s(p,v),p.return=m,p)}function a(m,p,v,k){var E=v.type;return E===hn?c(m,p,v.props.children,k,v.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pt&&lu(E)===p.type)?(k=s(p,v.props),k.ref=Yn(m,p,v),k.return=m,k):(k=Os(v.type,v.key,v.props,null,m.mode,k),k.ref=Yn(m,p,v),k.return=m,k)}function u(m,p,v,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=so(v,m.mode,k),p.return=m,p):(p=s(p,v.children||[]),p.return=m,p)}function c(m,p,v,k,E){return p===null||p.tag!==7?(p=Kt(v,m.mode,k,E),p.return=m,p):(p=s(p,v),p.return=m,p)}function h(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ro(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Xr:return v=Os(p.type,p.key,p.props,null,m.mode,v),v.ref=Yn(m,null,p),v.return=m,v;case dn:return p=so(p,m.mode,v),p.return=m,p;case pt:var k=p._init;return h(m,k(p._payload),v)}if(sr(p)||Kn(p))return p=Kt(p,m.mode,v,null),p.return=m,p;cs(m,p)}return null}function f(m,p,v,k){var E=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:l(m,p,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xr:return v.key===E?a(m,p,v,k):null;case dn:return v.key===E?u(m,p,v,k):null;case pt:return E=v._init,f(m,p,E(v._payload),k)}if(sr(v)||Kn(v))return E!==null?null:c(m,p,v,k,null);cs(m,v)}return null}function g(m,p,v,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(v)||null,l(p,m,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xr:return m=m.get(k.key===null?v:k.key)||null,a(p,m,k,E);case dn:return m=m.get(k.key===null?v:k.key)||null,u(p,m,k,E);case pt:var C=k._init;return g(m,p,v,C(k._payload),E)}if(sr(k)||Kn(k))return m=m.get(v)||null,c(p,m,k,E,null);cs(p,k)}return null}function y(m,p,v,k){for(var E=null,C=null,P=p,N=p=0,G=null;P!==null&&N<v.length;N++){P.index>N?(G=P,P=null):G=P.sibling;var A=f(m,P,v[N],k);if(A===null){P===null&&(P=G);break}e&&P&&A.alternate===null&&t(m,P),p=i(A,p,N),C===null?E=A:C.sibling=A,C=A,P=G}if(N===v.length)return n(m,P),W&&Dt(m,N),E;if(P===null){for(;N<v.length;N++)P=h(m,v[N],k),P!==null&&(p=i(P,p,N),C===null?E=P:C.sibling=P,C=P);return W&&Dt(m,N),E}for(P=r(m,P);N<v.length;N++)G=g(P,m,N,v[N],k),G!==null&&(e&&G.alternate!==null&&P.delete(G.key===null?N:G.key),p=i(G,p,N),C===null?E=G:C.sibling=G,C=G);return e&&P.forEach(function(De){return t(m,De)}),W&&Dt(m,N),E}function w(m,p,v,k){var E=Kn(v);if(typeof E!="function")throw Error(S(150));if(v=E.call(v),v==null)throw Error(S(151));for(var C=E=null,P=p,N=p=0,G=null,A=v.next();P!==null&&!A.done;N++,A=v.next()){P.index>N?(G=P,P=null):G=P.sibling;var De=f(m,P,A.value,k);if(De===null){P===null&&(P=G);break}e&&P&&De.alternate===null&&t(m,P),p=i(De,p,N),C===null?E=De:C.sibling=De,C=De,P=G}if(A.done)return n(m,P),W&&Dt(m,N),E;if(P===null){for(;!A.done;N++,A=v.next())A=h(m,A.value,k),A!==null&&(p=i(A,p,N),C===null?E=A:C.sibling=A,C=A);return W&&Dt(m,N),E}for(P=r(m,P);!A.done;N++,A=v.next())A=g(P,m,N,A.value,k),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?N:A.key),p=i(A,p,N),C===null?E=A:C.sibling=A,C=A);return e&&P.forEach(function(Hn){return t(m,Hn)}),W&&Dt(m,N),E}function x(m,p,v,k){if(typeof v=="object"&&v!==null&&v.type===hn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Xr:e:{for(var E=v.key,C=p;C!==null;){if(C.key===E){if(E=v.type,E===hn){if(C.tag===7){n(m,C.sibling),p=s(C,v.props.children),p.return=m,m=p;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pt&&lu(E)===C.type){n(m,C.sibling),p=s(C,v.props),p.ref=Yn(m,C,v),p.return=m,m=p;break e}n(m,C);break}else t(m,C);C=C.sibling}v.type===hn?(p=Kt(v.props.children,m.mode,k,v.key),p.return=m,m=p):(k=Os(v.type,v.key,v.props,null,m.mode,k),k.ref=Yn(m,p,v),k.return=m,m=k)}return o(m);case dn:e:{for(C=v.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(m,p.sibling),p=s(p,v.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=so(v,m.mode,k),p.return=m,m=p}return o(m);case pt:return C=v._init,x(m,p,C(v._payload),k)}if(sr(v))return y(m,p,v,k);if(Kn(v))return w(m,p,v,k);cs(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,v),p.return=m,m=p):(n(m,p),p=ro(v,m.mode,k),p.return=m,m=p),o(m)):n(m,p)}return x}var Ln=wd(!0),_d=wd(!1),Hs=At(null),qs=null,_n=null,zl=null;function Fl(){zl=_n=qs=null}function Bl(e){var t=Hs.current;B(Hs),e._currentValue=t}function Vo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cn(e,t){qs=e,zl=_n=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ke=!0),e.firstContext=null)}function Ue(e){var t=e._currentValue;if(zl!==e)if(e={context:e,memoizedValue:t,next:null},_n===null){if(qs===null)throw Error(S(308));_n=e,qs.dependencies={lanes:0,firstContext:e}}else _n=_n.next=e;return t}var Vt=null;function Wl(e){Vt===null?Vt=[e]:Vt.push(e)}function kd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Wl(t)):(n.next=s.next,s.next=n),t.interleaved=n,at(e,r)}function at(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mt=!1;function Vl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function it(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ct(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,I&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,at(e,n)}return s=r.interleaved,s===null?(t.next=t,Wl(r)):(t.next=s.next,s.next=t),r.interleaved=t,at(e,n)}function js(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nl(e,n)}}function au(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ks(e,t,n,r){var s=e.updateQueue;mt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,c=u=a=null,l=i;do{var f=l.lane,g=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(f=t,g=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=q({},h,f);break e;case 2:mt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=h):c=c.next=g,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Yt|=o,e.lanes=o,e.memoizedState=h}}function uu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(S(191,s));s.call(r)}}}var Hr={},Xe=At(Hr),Rr=At(Hr),Lr=At(Hr);function Ht(e){if(e===Hr)throw Error(S(174));return e}function Hl(e,t){switch(z(Lr,t),z(Rr,e),z(Xe,Hr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Eo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Eo(t,e)}B(Xe),z(Xe,t)}function An(){B(Xe),B(Rr),B(Lr)}function Sd(e){Ht(Lr.current);var t=Ht(Xe.current),n=Eo(t,e.type);t!==n&&(z(Rr,e),z(Xe,n))}function ql(e){Rr.current===e&&(B(Xe),B(Rr))}var V=At(0);function Gs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zi=[];function Kl(){for(var e=0;e<Zi.length;e++)Zi[e]._workInProgressVersionPrimary=null;Zi.length=0}var bs=ct.ReactCurrentDispatcher,Yi=ct.ReactCurrentBatchConfig,Zt=0,H=null,X=null,re=null,Js=!1,fr=!1,Ar=0,c0=0;function ce(){throw Error(S(321))}function Gl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ke(e[n],t[n]))return!1;return!0}function Jl(e,t,n,r,s,i){if(Zt=i,H=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bs.current=e===null||e.memoizedState===null?p0:m0,e=n(r,s),fr){i=0;do{if(fr=!1,Ar=0,25<=i)throw Error(S(301));i+=1,re=X=null,t.updateQueue=null,bs.current=g0,e=n(r,s)}while(fr)}if(bs.current=Qs,t=X!==null&&X.next!==null,Zt=0,re=X=H=null,Js=!1,t)throw Error(S(300));return e}function Ql(){var e=Ar!==0;return Ar=0,e}function Qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?H.memoizedState=re=e:re=re.next=e,re}function Me(){if(X===null){var e=H.alternate;e=e!==null?e.memoizedState:null}else e=X.next;var t=re===null?H.memoizedState:re.next;if(t!==null)re=t,X=e;else{if(e===null)throw Error(S(310));X=e,e={memoizedState:X.memoizedState,baseState:X.baseState,baseQueue:X.baseQueue,queue:X.queue,next:null},re===null?H.memoizedState=re=e:re=re.next=e}return re}function $r(e,t){return typeof t=="function"?t(e):t}function Xi(e){var t=Me(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=X,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((Zt&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,H.lanes|=c,Yt|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Ke(r,t.memoizedState)||(ke=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,H.lanes|=i,Yt|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function eo(e){var t=Me(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ke(i,t.memoizedState)||(ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ed(){}function jd(e,t){var n=H,r=Me(),s=t(),i=!Ke(r.memoizedState,s);if(i&&(r.memoizedState=s,ke=!0),r=r.queue,Zl(Pd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||re!==null&&re.memoizedState.tag&1){if(n.flags|=2048,Ir(9,Cd.bind(null,n,r,s,t),void 0,null),se===null)throw Error(S(349));Zt&30||bd(n,t,s)}return s}function bd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=H.updateQueue,t===null?(t={lastEffect:null,stores:null},H.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cd(e,t,n,r){t.value=n,t.getSnapshot=r,Nd(t)&&Td(e)}function Pd(e,t,n){return n(function(){Nd(t)&&Td(e)})}function Nd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ke(e,n)}catch{return!0}}function Td(e){var t=at(e,1);t!==null&&qe(t,e,1,-1)}function cu(e){var t=Qe();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:e},t.queue=e,e=e.dispatch=f0.bind(null,H,e),[t.memoizedState,e]}function Ir(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=H.updateQueue,t===null?(t={lastEffect:null,stores:null},H.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Od(){return Me().memoizedState}function Cs(e,t,n,r){var s=Qe();H.flags|=e,s.memoizedState=Ir(1|t,n,void 0,r===void 0?null:r)}function di(e,t,n,r){var s=Me();r=r===void 0?null:r;var i=void 0;if(X!==null){var o=X.memoizedState;if(i=o.destroy,r!==null&&Gl(r,o.deps)){s.memoizedState=Ir(t,n,i,r);return}}H.flags|=e,s.memoizedState=Ir(1|t,n,i,r)}function du(e,t){return Cs(8390656,8,e,t)}function Zl(e,t){return di(2048,8,e,t)}function Rd(e,t){return di(4,2,e,t)}function Ld(e,t){return di(4,4,e,t)}function Ad(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $d(e,t,n){return n=n!=null?n.concat([e]):null,di(4,4,Ad.bind(null,t,e),n)}function Yl(){}function Id(e,t){var n=Me();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ud(e,t){var n=Me();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Md(e,t,n){return Zt&21?(Ke(n,t)||(n=Wc(),H.lanes|=n,Yt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ke=!0),e.memoizedState=n)}function d0(e,t){var n=M;M=n!==0&&4>n?n:4,e(!0);var r=Yi.transition;Yi.transition={};try{e(!1),t()}finally{M=n,Yi.transition=r}}function Dd(){return Me().memoizedState}function h0(e,t,n){var r=Nt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zd(e))Fd(t,n);else if(n=kd(e,t,n,r),n!==null){var s=me();qe(n,e,r,s),Bd(n,t,r)}}function f0(e,t,n){var r=Nt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zd(e))Fd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ke(l,o)){var a=t.interleaved;a===null?(s.next=s,Wl(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=kd(e,t,s,r),n!==null&&(s=me(),qe(n,e,r,s),Bd(n,t,r))}}function zd(e){var t=e.alternate;return e===H||t!==null&&t===H}function Fd(e,t){fr=Js=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nl(e,n)}}var Qs={readContext:Ue,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},p0={readContext:Ue,useCallback:function(e,t){return Qe().memoizedState=[e,t===void 0?null:t],e},useContext:Ue,useEffect:du,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cs(4194308,4,Ad.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cs(4,2,e,t)},useMemo:function(e,t){var n=Qe();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qe();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=h0.bind(null,H,e),[r.memoizedState,e]},useRef:function(e){var t=Qe();return e={current:e},t.memoizedState=e},useState:cu,useDebugValue:Yl,useDeferredValue:function(e){return Qe().memoizedState=e},useTransition:function(){var e=cu(!1),t=e[0];return e=d0.bind(null,e[1]),Qe().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=H,s=Qe();if(W){if(n===void 0)throw Error(S(407));n=n()}else{if(n=t(),se===null)throw Error(S(349));Zt&30||bd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,du(Pd.bind(null,r,i,e),[e]),r.flags|=2048,Ir(9,Cd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Qe(),t=se.identifierPrefix;if(W){var n=st,r=rt;n=(r&~(1<<32-He(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ar++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m0={readContext:Ue,useCallback:Id,useContext:Ue,useEffect:Zl,useImperativeHandle:$d,useInsertionEffect:Rd,useLayoutEffect:Ld,useMemo:Ud,useReducer:Xi,useRef:Od,useState:function(){return Xi($r)},useDebugValue:Yl,useDeferredValue:function(e){var t=Me();return Md(t,X.memoizedState,e)},useTransition:function(){var e=Xi($r)[0],t=Me().memoizedState;return[e,t]},useMutableSource:Ed,useSyncExternalStore:jd,useId:Dd,unstable_isNewReconciler:!1},g0={readContext:Ue,useCallback:Id,useContext:Ue,useEffect:Zl,useImperativeHandle:$d,useInsertionEffect:Rd,useLayoutEffect:Ld,useMemo:Ud,useReducer:eo,useRef:Od,useState:function(){return eo($r)},useDebugValue:Yl,useDeferredValue:function(e){var t=Me();return X===null?t.memoizedState=e:Md(t,X.memoizedState,e)},useTransition:function(){var e=eo($r)[0],t=Me().memoizedState;return[e,t]},useMutableSource:Ed,useSyncExternalStore:jd,useId:Dd,unstable_isNewReconciler:!1};function Fe(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ho(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hi={isMounted:function(e){return(e=e._reactInternals)?tn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=me(),s=Nt(e),i=it(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ct(e,i,s),t!==null&&(qe(t,e,s,r),js(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=me(),s=Nt(e),i=it(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ct(e,i,s),t!==null&&(qe(t,e,s,r),js(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=me(),r=Nt(e),s=it(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ct(e,s,r),t!==null&&(qe(t,e,r,n),js(t,e,r))}};function hu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Pr(n,r)||!Pr(s,i):!0}function Wd(e,t,n){var r=!1,s=Rt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ue(i):(s=Se(t)?Jt:fe.current,r=t.contextTypes,i=(r=r!=null)?On(e,s):Rt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function fu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hi.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Vl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ue(i):(i=Se(t)?Jt:fe.current,s.context=On(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ho(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&hi.enqueueReplaceState(s,s.state,null),Ks(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $n(e,t){try{var n="",r=t;do n+=Vf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function to(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ko(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var v0=typeof WeakMap=="function"?WeakMap:Map;function Vd(e,t,n){n=it(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,rl=r),Ko(e,t)},n}function Hd(e,t,n){n=it(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ko(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ko(e,t),typeof r!="function"&&(Pt===null?Pt=new Set([this]):Pt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function pu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new v0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=O0.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=it(-1,1),t.tag=2,Ct(n,t,1))),n.lanes|=1),e)}var y0=ct.ReactCurrentOwner,ke=!1;function pe(e,t,n,r){t.child=e===null?_d(t,null,n,r):Ln(t,e.child,n,r)}function vu(e,t,n,r,s){n=n.render;var i=t.ref;return Cn(t,s),r=Jl(e,t,n,r,i,s),n=Ql(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ut(e,t,s)):(W&&n&&Ul(t),t.flags|=1,pe(e,t,r,s),t.child)}function yu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!oa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,qd(e,t,i,r,s)):(e=Os(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Pr,n(o,r)&&e.ref===t.ref)return ut(e,t,s)}return t.flags|=1,e=Tt(i,r),e.ref=t.ref,e.return=t,t.child=e}function qd(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Pr(i,r)&&e.ref===t.ref)if(ke=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ke=!0);else return t.lanes=e.lanes,ut(e,t,s)}return Go(e,t,n,r,s)}function Kd(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(xn,be),be|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,z(xn,be),be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,z(xn,be),be|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,z(xn,be),be|=r;return pe(e,t,s,n),t.child}function Gd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Go(e,t,n,r,s){var i=Se(n)?Jt:fe.current;return i=On(t,i),Cn(t,s),n=Jl(e,t,n,r,i,s),r=Ql(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ut(e,t,s)):(W&&r&&Ul(t),t.flags|=1,pe(e,t,n,s),t.child)}function wu(e,t,n,r,s){if(Se(n)){var i=!0;Bs(t)}else i=!1;if(Cn(t,s),t.stateNode===null)Ps(e,t),Wd(t,n,r),qo(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ue(u):(u=Se(n)?Jt:fe.current,u=On(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&fu(t,o,r,u),mt=!1;var f=t.memoizedState;o.state=f,Ks(t,r,o,s),a=t.memoizedState,l!==r||f!==a||xe.current||mt?(typeof c=="function"&&(Ho(t,n,c,r),a=t.memoizedState),(l=mt||hu(t,n,l,r,f,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,xd(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Fe(t.type,l),o.props=u,h=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ue(a):(a=Se(n)?Jt:fe.current,a=On(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&fu(t,o,r,a),mt=!1,f=t.memoizedState,o.state=f,Ks(t,r,o,s);var y=t.memoizedState;l!==h||f!==y||xe.current||mt?(typeof g=="function"&&(Ho(t,n,g,r),y=t.memoizedState),(u=mt||hu(t,n,u,r,f,y,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Jo(e,t,n,r,i,s)}function Jo(e,t,n,r,s,i){Gd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&su(t,n,!1),ut(e,t,i);r=t.stateNode,y0.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ln(t,e.child,null,i),t.child=Ln(t,null,l,i)):pe(e,t,l,i),t.memoizedState=r.state,s&&su(t,n,!0),t.child}function Jd(e){var t=e.stateNode;t.pendingContext?ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ru(e,t.context,!1),Hl(e,t.containerInfo)}function _u(e,t,n,r,s){return Rn(),Dl(s),t.flags|=256,pe(e,t,n,r),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0};function Zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qd(e,t,n){var r=t.pendingProps,s=V.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),z(V,s&1),e===null)return Wo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mi(o,r,0,null),e=Kt(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zo(n),t.memoizedState=Qo,e):Xl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return w0(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Tt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Tt(l,i):(i=Kt(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Zo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Qo,r}return i=e.child,e=i.sibling,r=Tt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xl(e,t){return t=mi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,n,r){return r!==null&&Dl(r),Ln(t,e.child,null,n),e=Xl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w0(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=to(Error(S(422))),ds(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=mi({mode:"visible",children:r.children},s,0,null),i=Kt(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ln(t,e.child,null,o),t.child.memoizedState=Zo(o),t.memoizedState=Qo,i);if(!(t.mode&1))return ds(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(S(419)),r=to(i,r,void 0),ds(e,t,o,r)}if(l=(o&e.childLanes)!==0,ke||l){if(r=se,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,at(e,s),qe(r,e,s,-1))}return ia(),r=to(Error(S(421))),ds(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=R0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ce=bt(s.nextSibling),Pe=t,W=!0,Ve=null,e!==null&&(Re[Le++]=rt,Re[Le++]=st,Re[Le++]=Qt,rt=e.id,st=e.overflow,Qt=t),t=Xl(t,r.children),t.flags|=4096,t)}function ku(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vo(e.return,t,n)}function no(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Zd(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(pe(e,t,r.children,n),r=V.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ku(e,n,t);else if(e.tag===19)ku(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(z(V,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Gs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),no(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}no(t,!0,n,null,i);break;case"together":no(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ps(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,n=Tt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _0(e,t,n){switch(t.tag){case 3:Jd(t),Rn();break;case 5:Sd(t);break;case 1:Se(t.type)&&Bs(t);break;case 4:Hl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;z(Hs,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(z(V,V.current&1),t.flags|=128,null):n&t.child.childLanes?Qd(e,t,n):(z(V,V.current&1),e=ut(e,t,n),e!==null?e.sibling:null);z(V,V.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Zd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(V,V.current),r)break;return null;case 22:case 23:return t.lanes=0,Kd(e,t,n)}return ut(e,t,n)}var Yd,Yo,Xd,eh;Yd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yo=function(){};Xd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ht(Xe.current);var i=null;switch(n){case"input":s=_o(e,s),r=_o(e,r),i=[];break;case"select":s=q({},s,{value:void 0}),r=q({},r,{value:void 0}),i=[];break;case"textarea":s=So(e,s),r=So(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zs)}jo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&F("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};eh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xn(e,t){if(!W)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function de(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function k0(e,t,n){var r=t.pendingProps;switch(Ml(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(t),null;case 1:return Se(t.type)&&Fs(),de(t),null;case 3:return r=t.stateNode,An(),B(xe),B(fe),Kl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ve!==null&&(ol(Ve),Ve=null))),Yo(e,t),de(t),null;case 5:ql(t);var s=Ht(Lr.current);if(n=t.type,e!==null&&t.stateNode!=null)Xd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(S(166));return de(t),null}if(e=Ht(Xe.current),us(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ze]=t,r[Or]=i,e=(t.mode&1)!==0,n){case"dialog":F("cancel",r),F("close",r);break;case"iframe":case"object":case"embed":F("load",r);break;case"video":case"audio":for(s=0;s<or.length;s++)F(or[s],r);break;case"source":F("error",r);break;case"img":case"image":case"link":F("error",r),F("load",r);break;case"details":F("toggle",r);break;case"input":Ta(r,i),F("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},F("invalid",r);break;case"textarea":Ra(r,i),F("invalid",r)}jo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&as(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&as(r.textContent,l,e),s=["children",""+l]):kr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&F("scroll",r)}switch(n){case"input":es(r),Oa(r,i,!0);break;case"textarea":es(r),La(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zs)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ze]=t,e[Or]=r,Yd(e,t,!1,!1),t.stateNode=e;e:{switch(o=bo(n,r),n){case"dialog":F("cancel",e),F("close",e),s=r;break;case"iframe":case"object":case"embed":F("load",e),s=r;break;case"video":case"audio":for(s=0;s<or.length;s++)F(or[s],e);s=r;break;case"source":F("error",e),s=r;break;case"img":case"image":case"link":F("error",e),F("load",e),s=r;break;case"details":F("toggle",e),s=r;break;case"input":Ta(e,r),s=_o(e,r),F("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=q({},r,{value:void 0}),F("invalid",e);break;case"textarea":Ra(e,r),s=So(e,r),F("invalid",e);break;default:s=r}jo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Oc(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Nc(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&xr(e,a):typeof a=="number"&&xr(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&F("scroll",e):a!=null&&Sl(e,i,a,o))}switch(n){case"input":es(e),Oa(e,r,!1);break;case"textarea":es(e),La(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ot(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Sn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Sn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=zs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return de(t),null;case 6:if(e&&t.stateNode!=null)eh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(S(166));if(n=Ht(Lr.current),Ht(Xe.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ze]=t,(i=r.nodeValue!==n)&&(e=Pe,e!==null))switch(e.tag){case 3:as(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&as(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ze]=t,t.stateNode=r}return de(t),null;case 13:if(B(V),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(W&&Ce!==null&&t.mode&1&&!(t.flags&128))yd(),Rn(),t.flags|=98560,i=!1;else if(i=us(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(S(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[Ze]=t}else Rn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;de(t),i=!1}else Ve!==null&&(ol(Ve),Ve=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||V.current&1?ee===0&&(ee=3):ia())),t.updateQueue!==null&&(t.flags|=4),de(t),null);case 4:return An(),Yo(e,t),e===null&&Nr(t.stateNode.containerInfo),de(t),null;case 10:return Bl(t.type._context),de(t),null;case 17:return Se(t.type)&&Fs(),de(t),null;case 19:if(B(V),i=t.memoizedState,i===null)return de(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Xn(i,!1);else{if(ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gs(e),o!==null){for(t.flags|=128,Xn(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return z(V,V.current&1|2),t.child}e=e.sibling}i.tail!==null&&Q()>In&&(t.flags|=128,r=!0,Xn(i,!1),t.lanes=4194304)}else{if(!r)if(e=Gs(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!W)return de(t),null}else 2*Q()-i.renderingStartTime>In&&n!==1073741824&&(t.flags|=128,r=!0,Xn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Q(),t.sibling=null,n=V.current,z(V,r?n&1|2:n&1),t):(de(t),null);case 22:case 23:return sa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?be&1073741824&&(de(t),t.subtreeFlags&6&&(t.flags|=8192)):de(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function x0(e,t){switch(Ml(t),t.tag){case 1:return Se(t.type)&&Fs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return An(),B(xe),B(fe),Kl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ql(t),null;case 13:if(B(V),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(V),null;case 4:return An(),null;case 10:return Bl(t.type._context),null;case 22:case 23:return sa(),null;case 24:return null;default:return null}}var hs=!1,he=!1,S0=typeof WeakSet=="function"?WeakSet:Set,j=null;function kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){K(e,t,r)}else n.current=null}function Xo(e,t,n){try{n()}catch(r){K(e,t,r)}}var xu=!1;function E0(e,t){if(Io=Us,e=id(),Il(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++c===r&&(a=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uo={focusedElem:e,selectionRange:n},Us=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Fe(t.type,w),x);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(k){K(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return y=xu,xu=!1,y}function pr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xo(t,n,i)}s=s.next}while(s!==r)}}function fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function el(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function th(e){var t=e.alternate;t!==null&&(e.alternate=null,th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ze],delete t[Or],delete t[zo],delete t[o0],delete t[l0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nh(e){return e.tag===5||e.tag===3||e.tag===4}function Su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zs));else if(r!==4&&(e=e.child,e!==null))for(tl(e,t,n),e=e.sibling;e!==null;)tl(e,t,n),e=e.sibling}function nl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(nl(e,t,n),e=e.sibling;e!==null;)nl(e,t,n),e=e.sibling}var oe=null,Be=!1;function dt(e,t,n){for(n=n.child;n!==null;)rh(e,t,n),n=n.sibling}function rh(e,t,n){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ii,n)}catch{}switch(n.tag){case 5:he||kn(n,t);case 6:var r=oe,s=Be;oe=null,dt(e,t,n),oe=r,Be=s,oe!==null&&(Be?(e=oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):oe.removeChild(n.stateNode));break;case 18:oe!==null&&(Be?(e=oe,n=n.stateNode,e.nodeType===8?Ji(e.parentNode,n):e.nodeType===1&&Ji(e,n),br(e)):Ji(oe,n.stateNode));break;case 4:r=oe,s=Be,oe=n.stateNode.containerInfo,Be=!0,dt(e,t,n),oe=r,Be=s;break;case 0:case 11:case 14:case 15:if(!he&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xo(n,t,o),s=s.next}while(s!==r)}dt(e,t,n);break;case 1:if(!he&&(kn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){K(n,t,l)}dt(e,t,n);break;case 21:dt(e,t,n);break;case 22:n.mode&1?(he=(r=he)||n.memoizedState!==null,dt(e,t,n),he=r):dt(e,t,n);break;default:dt(e,t,n)}}function Eu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new S0),t.forEach(function(r){var s=L0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ze(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:oe=l.stateNode,Be=!1;break e;case 3:oe=l.stateNode.containerInfo,Be=!0;break e;case 4:oe=l.stateNode.containerInfo,Be=!0;break e}l=l.return}if(oe===null)throw Error(S(160));rh(i,o,s),oe=null,Be=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){K(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sh(t,e),t=t.sibling}function sh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ze(t,e),Ge(e),r&4){try{pr(3,e,e.return),fi(3,e)}catch(w){K(e,e.return,w)}try{pr(5,e,e.return)}catch(w){K(e,e.return,w)}}break;case 1:ze(t,e),Ge(e),r&512&&n!==null&&kn(n,n.return);break;case 5:if(ze(t,e),Ge(e),r&512&&n!==null&&kn(n,n.return),e.flags&32){var s=e.stateNode;try{xr(s,"")}catch(w){K(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&bc(s,i),bo(l,o);var u=bo(l,i);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?Oc(s,h):c==="dangerouslySetInnerHTML"?Nc(s,h):c==="children"?xr(s,h):Sl(s,c,h,u)}switch(l){case"input":ko(s,i);break;case"textarea":Cc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Sn(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Sn(s,!!i.multiple,i.defaultValue,!0):Sn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Or]=i}catch(w){K(e,e.return,w)}}break;case 6:if(ze(t,e),Ge(e),r&4){if(e.stateNode===null)throw Error(S(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){K(e,e.return,w)}}break;case 3:if(ze(t,e),Ge(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{br(t.containerInfo)}catch(w){K(e,e.return,w)}break;case 4:ze(t,e),Ge(e);break;case 13:ze(t,e),Ge(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(na=Q())),r&4&&Eu(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(he=(u=he)||c,ze(t,e),he=u):ze(t,e),Ge(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(j=e,c=e.child;c!==null;){for(h=j=c;j!==null;){switch(f=j,g=f.child,f.tag){case 0:case 11:case 14:case 15:pr(4,f,f.return);break;case 1:kn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){K(r,n,w)}}break;case 5:kn(f,f.return);break;case 22:if(f.memoizedState!==null){bu(h);continue}}g!==null?(g.return=f,j=g):bu(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Tc("display",o))}catch(w){K(e,e.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){K(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ze(t,e),Ge(e),r&4&&Eu(e);break;case 21:break;default:ze(t,e),Ge(e)}}function Ge(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nh(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(xr(s,""),r.flags&=-33);var i=Su(e);nl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Su(e);tl(e,l,o);break;default:throw Error(S(161))}}catch(a){K(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function j0(e,t,n){j=e,ih(e)}function ih(e,t,n){for(var r=(e.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||hs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||he;l=hs;var u=he;if(hs=o,(he=a)&&!u)for(j=s;j!==null;)o=j,a=o.child,o.tag===22&&o.memoizedState!==null?Cu(s):a!==null?(a.return=o,j=a):Cu(s);for(;i!==null;)j=i,ih(i),i=i.sibling;j=s,hs=l,he=u}ju(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):ju(e)}}function ju(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:he||fi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!he)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Fe(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&uu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uu(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&br(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}he||t.flags&512&&el(t)}catch(f){K(t,t.return,f)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function bu(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function Cu(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fi(4,t)}catch(a){K(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){K(t,s,a)}}var i=t.return;try{el(t)}catch(a){K(t,i,a)}break;case 5:var o=t.return;try{el(t)}catch(a){K(t,o,a)}}}catch(a){K(t,t.return,a)}if(t===e){j=null;break}var l=t.sibling;if(l!==null){l.return=t.return,j=l;break}j=t.return}}var b0=Math.ceil,Zs=ct.ReactCurrentDispatcher,ea=ct.ReactCurrentOwner,$e=ct.ReactCurrentBatchConfig,I=0,se=null,Z=null,ae=0,be=0,xn=At(0),ee=0,Ur=null,Yt=0,pi=0,ta=0,mr=null,we=null,na=0,In=1/0,et=null,Ys=!1,rl=null,Pt=null,fs=!1,kt=null,Xs=0,gr=0,sl=null,Ns=-1,Ts=0;function me(){return I&6?Q():Ns!==-1?Ns:Ns=Q()}function Nt(e){return e.mode&1?I&2&&ae!==0?ae&-ae:u0.transition!==null?(Ts===0&&(Ts=Wc()),Ts):(e=M,e!==0||(e=window.event,e=e===void 0?16:Qc(e.type)),e):1}function qe(e,t,n,r){if(50<gr)throw gr=0,sl=null,Error(S(185));Br(e,n,r),(!(I&2)||e!==se)&&(e===se&&(!(I&2)&&(pi|=n),ee===4&&yt(e,ae)),Ee(e,r),n===1&&I===0&&!(t.mode&1)&&(In=Q()+500,ci&&$t()))}function Ee(e,t){var n=e.callbackNode;up(e,t);var r=Is(e,e===se?ae:0);if(r===0)n!==null&&Ia(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ia(n),t===1)e.tag===0?a0(Pu.bind(null,e)):md(Pu.bind(null,e)),s0(function(){!(I&6)&&$t()}),n=null;else{switch(Vc(r)){case 1:n=Pl;break;case 4:n=Fc;break;case 16:n=$s;break;case 536870912:n=Bc;break;default:n=$s}n=fh(n,oh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oh(e,t){if(Ns=-1,Ts=0,I&6)throw Error(S(327));var n=e.callbackNode;if(Pn()&&e.callbackNode!==n)return null;var r=Is(e,e===se?ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ei(e,r);else{t=r;var s=I;I|=2;var i=ah();(se!==e||ae!==t)&&(et=null,In=Q()+500,qt(e,t));do try{N0();break}catch(l){lh(e,l)}while(!0);Fl(),Zs.current=i,I=s,Z!==null?t=0:(se=null,ae=0,t=ee)}if(t!==0){if(t===2&&(s=Oo(e),s!==0&&(r=s,t=il(e,s))),t===1)throw n=Ur,qt(e,0),yt(e,r),Ee(e,Q()),n;if(t===6)yt(e,r);else{if(s=e.current.alternate,!(r&30)&&!C0(s)&&(t=ei(e,r),t===2&&(i=Oo(e),i!==0&&(r=i,t=il(e,i))),t===1))throw n=Ur,qt(e,0),yt(e,r),Ee(e,Q()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(S(345));case 2:zt(e,we,et);break;case 3:if(yt(e,r),(r&130023424)===r&&(t=na+500-Q(),10<t)){if(Is(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){me(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Do(zt.bind(null,e,we,et),t);break}zt(e,we,et);break;case 4:if(yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-He(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Q()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b0(r/1960))-r,10<r){e.timeoutHandle=Do(zt.bind(null,e,we,et),r);break}zt(e,we,et);break;case 5:zt(e,we,et);break;default:throw Error(S(329))}}}return Ee(e,Q()),e.callbackNode===n?oh.bind(null,e):null}function il(e,t){var n=mr;return e.current.memoizedState.isDehydrated&&(qt(e,t).flags|=256),e=ei(e,t),e!==2&&(t=we,we=n,t!==null&&ol(t)),e}function ol(e){we===null?we=e:we.push.apply(we,e)}function C0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ke(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yt(e,t){for(t&=~ta,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-He(t),r=1<<n;e[n]=-1,t&=~r}}function Pu(e){if(I&6)throw Error(S(327));Pn();var t=Is(e,0);if(!(t&1))return Ee(e,Q()),null;var n=ei(e,t);if(e.tag!==0&&n===2){var r=Oo(e);r!==0&&(t=r,n=il(e,r))}if(n===1)throw n=Ur,qt(e,0),yt(e,t),Ee(e,Q()),n;if(n===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zt(e,we,et),Ee(e,Q()),null}function ra(e,t){var n=I;I|=1;try{return e(t)}finally{I=n,I===0&&(In=Q()+500,ci&&$t())}}function Xt(e){kt!==null&&kt.tag===0&&!(I&6)&&Pn();var t=I;I|=1;var n=$e.transition,r=M;try{if($e.transition=null,M=1,e)return e()}finally{M=r,$e.transition=n,I=t,!(I&6)&&$t()}}function sa(){be=xn.current,B(xn)}function qt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,r0(n)),Z!==null)for(n=Z.return;n!==null;){var r=n;switch(Ml(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fs();break;case 3:An(),B(xe),B(fe),Kl();break;case 5:ql(r);break;case 4:An();break;case 13:B(V);break;case 19:B(V);break;case 10:Bl(r.type._context);break;case 22:case 23:sa()}n=n.return}if(se=e,Z=e=Tt(e.current,null),ae=be=t,ee=0,Ur=null,ta=pi=Yt=0,we=mr=null,Vt!==null){for(t=0;t<Vt.length;t++)if(n=Vt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Vt=null}return e}function lh(e,t){do{var n=Z;try{if(Fl(),bs.current=Qs,Js){for(var r=H.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Js=!1}if(Zt=0,re=X=H=null,fr=!1,Ar=0,ea.current=null,n===null||n.return===null){ee=1,Ur=t,Z=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=ae,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=mu(o);if(g!==null){g.flags&=-257,gu(g,o,l,i,t),g.mode&1&&pu(i,u,t),t=g,a=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(a),t.updateQueue=w}else y.add(a);break e}else{if(!(t&1)){pu(i,u,t),ia();break e}a=Error(S(426))}}else if(W&&l.mode&1){var x=mu(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),gu(x,o,l,i,t),Dl($n(a,l));break e}}i=a=$n(a,l),ee!==4&&(ee=2),mr===null?mr=[i]:mr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Vd(i,a,t);au(i,m);break e;case 1:l=a;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Pt===null||!Pt.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Hd(i,l,t);au(i,k);break e}}i=i.return}while(i!==null)}ch(n)}catch(E){t=E,Z===n&&n!==null&&(Z=n=n.return);continue}break}while(!0)}function ah(){var e=Zs.current;return Zs.current=Qs,e===null?Qs:e}function ia(){(ee===0||ee===3||ee===2)&&(ee=4),se===null||!(Yt&268435455)&&!(pi&268435455)||yt(se,ae)}function ei(e,t){var n=I;I|=2;var r=ah();(se!==e||ae!==t)&&(et=null,qt(e,t));do try{P0();break}catch(s){lh(e,s)}while(!0);if(Fl(),I=n,Zs.current=r,Z!==null)throw Error(S(261));return se=null,ae=0,ee}function P0(){for(;Z!==null;)uh(Z)}function N0(){for(;Z!==null&&!ep();)uh(Z)}function uh(e){var t=hh(e.alternate,e,be);e.memoizedProps=e.pendingProps,t===null?ch(e):Z=t,ea.current=null}function ch(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=x0(n,t),n!==null){n.flags&=32767,Z=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ee=6,Z=null;return}}else if(n=k0(n,t,be),n!==null){Z=n;return}if(t=t.sibling,t!==null){Z=t;return}Z=t=e}while(t!==null);ee===0&&(ee=5)}function zt(e,t,n){var r=M,s=$e.transition;try{$e.transition=null,M=1,T0(e,t,n,r)}finally{$e.transition=s,M=r}return null}function T0(e,t,n,r){do Pn();while(kt!==null);if(I&6)throw Error(S(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(cp(e,i),e===se&&(Z=se=null,ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fs||(fs=!0,fh($s,function(){return Pn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$e.transition,$e.transition=null;var o=M;M=1;var l=I;I|=4,ea.current=null,E0(e,n),sh(n,e),Qp(Uo),Us=!!Io,Uo=Io=null,e.current=n,j0(n),tp(),I=l,M=o,$e.transition=i}else e.current=n;if(fs&&(fs=!1,kt=e,Xs=s),i=e.pendingLanes,i===0&&(Pt=null),sp(n.stateNode),Ee(e,Q()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ys)throw Ys=!1,e=rl,rl=null,e;return Xs&1&&e.tag!==0&&Pn(),i=e.pendingLanes,i&1?e===sl?gr++:(gr=0,sl=e):gr=0,$t(),null}function Pn(){if(kt!==null){var e=Vc(Xs),t=$e.transition,n=M;try{if($e.transition=null,M=16>e?16:e,kt===null)var r=!1;else{if(e=kt,kt=null,Xs=0,I&6)throw Error(S(331));var s=I;for(I|=4,j=e.current;j!==null;){var i=j,o=i.child;if(j.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:pr(8,c,i)}var h=c.child;if(h!==null)h.return=c,j=h;else for(;j!==null;){c=j;var f=c.sibling,g=c.return;if(th(c),c===u){j=null;break}if(f!==null){f.return=g,j=f;break}j=g}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}j=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,j=o;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,j=m;break e}j=i.return}}var p=e.current;for(j=p;j!==null;){o=j;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,j=v;else e:for(o=p;j!==null;){if(l=j,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fi(9,l)}}catch(E){K(l,l.return,E)}if(l===o){j=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,j=k;break e}j=l.return}}if(I=s,$t(),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ii,e)}catch{}r=!0}return r}finally{M=n,$e.transition=t}}return!1}function Nu(e,t,n){t=$n(n,t),t=Vd(e,t,1),e=Ct(e,t,1),t=me(),e!==null&&(Br(e,1,t),Ee(e,t))}function K(e,t,n){if(e.tag===3)Nu(e,e,n);else for(;t!==null;){if(t.tag===3){Nu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pt===null||!Pt.has(r))){e=$n(n,e),e=Hd(t,e,1),t=Ct(t,e,1),e=me(),t!==null&&(Br(t,1,e),Ee(t,e));break}}t=t.return}}function O0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=me(),e.pingedLanes|=e.suspendedLanes&n,se===e&&(ae&n)===n&&(ee===4||ee===3&&(ae&130023424)===ae&&500>Q()-na?qt(e,0):ta|=n),Ee(e,t)}function dh(e,t){t===0&&(e.mode&1?(t=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):t=1);var n=me();e=at(e,t),e!==null&&(Br(e,t,n),Ee(e,n))}function R0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dh(e,n)}function L0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(t),dh(e,n)}var hh;hh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xe.current)ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ke=!1,_0(e,t,n);ke=!!(e.flags&131072)}else ke=!1,W&&t.flags&1048576&&gd(t,Vs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ps(e,t),e=t.pendingProps;var s=On(t,fe.current);Cn(t,n),s=Jl(null,t,r,e,s,n);var i=Ql();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Se(r)?(i=!0,Bs(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vl(t),s.updater=hi,t.stateNode=s,s._reactInternals=t,qo(t,r,e,n),t=Jo(null,t,r,!0,i,n)):(t.tag=0,W&&i&&Ul(t),pe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ps(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=$0(r),e=Fe(r,e),s){case 0:t=Go(null,t,r,e,n);break e;case 1:t=wu(null,t,r,e,n);break e;case 11:t=vu(null,t,r,e,n);break e;case 14:t=yu(null,t,r,Fe(r.type,e),n);break e}throw Error(S(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Fe(r,s),Go(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Fe(r,s),wu(e,t,r,s,n);case 3:e:{if(Jd(t),e===null)throw Error(S(387));r=t.pendingProps,i=t.memoizedState,s=i.element,xd(e,t),Ks(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=$n(Error(S(423)),t),t=_u(e,t,r,n,s);break e}else if(r!==s){s=$n(Error(S(424)),t),t=_u(e,t,r,n,s);break e}else for(Ce=bt(t.stateNode.containerInfo.firstChild),Pe=t,W=!0,Ve=null,n=_d(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rn(),r===s){t=ut(e,t,n);break e}pe(e,t,r,n)}t=t.child}return t;case 5:return Sd(t),e===null&&Wo(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Mo(r,s)?o=null:i!==null&&Mo(r,i)&&(t.flags|=32),Gd(e,t),pe(e,t,o,n),t.child;case 6:return e===null&&Wo(t),null;case 13:return Qd(e,t,n);case 4:return Hl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ln(t,null,r,n):pe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Fe(r,s),vu(e,t,r,s,n);case 7:return pe(e,t,t.pendingProps,n),t.child;case 8:return pe(e,t,t.pendingProps.children,n),t.child;case 12:return pe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,z(Hs,r._currentValue),r._currentValue=o,i!==null)if(Ke(i.value,o)){if(i.children===s.children&&!xe.current){t=ut(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=it(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Vo(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Vo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Cn(t,n),s=Ue(s),r=r(s),t.flags|=1,pe(e,t,r,n),t.child;case 14:return r=t.type,s=Fe(r,t.pendingProps),s=Fe(r.type,s),yu(e,t,r,s,n);case 15:return qd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Fe(r,s),Ps(e,t),t.tag=1,Se(r)?(e=!0,Bs(t)):e=!1,Cn(t,n),Wd(t,r,s),qo(t,r,s,n),Jo(null,t,r,!0,e,n);case 19:return Zd(e,t,n);case 22:return Kd(e,t,n)}throw Error(S(156,t.tag))};function fh(e,t){return zc(e,t)}function A0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ae(e,t,n,r){return new A0(e,t,n,r)}function oa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $0(e){if(typeof e=="function")return oa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jl)return 11;if(e===bl)return 14}return 2}function Tt(e,t){var n=e.alternate;return n===null?(n=Ae(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Os(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")oa(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hn:return Kt(n.children,s,i,t);case El:o=8,s|=8;break;case go:return e=Ae(12,n,t,s|2),e.elementType=go,e.lanes=i,e;case vo:return e=Ae(13,n,t,s),e.elementType=vo,e.lanes=i,e;case yo:return e=Ae(19,n,t,s),e.elementType=yo,e.lanes=i,e;case Sc:return mi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kc:o=10;break e;case xc:o=9;break e;case jl:o=11;break e;case bl:o=14;break e;case pt:o=16,r=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=Ae(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Kt(e,t,n,r){return e=Ae(7,e,r,t),e.lanes=n,e}function mi(e,t,n,r){return e=Ae(22,e,r,t),e.elementType=Sc,e.lanes=n,e.stateNode={isHidden:!1},e}function ro(e,t,n){return e=Ae(6,e,null,t),e.lanes=n,e}function so(e,t,n){return t=Ae(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function la(e,t,n,r,s,i,o,l,a){return e=new I0(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ae(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(i),e}function U0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ph(e){if(!e)return Rt;e=e._reactInternals;e:{if(tn(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Se(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var n=e.type;if(Se(n))return pd(e,n,t)}return t}function mh(e,t,n,r,s,i,o,l,a){return e=la(n,r,!0,e,s,i,o,l,a),e.context=ph(null),n=e.current,r=me(),s=Nt(n),i=it(r,s),i.callback=t??null,Ct(n,i,s),e.current.lanes=s,Br(e,s,r),Ee(e,r),e}function gi(e,t,n,r){var s=t.current,i=me(),o=Nt(s);return n=ph(n),t.context===null?t.context=n:t.pendingContext=n,t=it(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ct(s,t,o),e!==null&&(qe(e,s,o,i),js(e,s,o)),o}function ti(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function aa(e,t){Tu(e,t),(e=e.alternate)&&Tu(e,t)}function M0(){return null}var gh=typeof reportError=="function"?reportError:function(e){console.error(e)};function ua(e){this._internalRoot=e}vi.prototype.render=ua.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));gi(e,t,null,null)};vi.prototype.unmount=ua.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xt(function(){gi(null,e,null,null)}),t[lt]=null}};function vi(e){this._internalRoot=e}vi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vt.length&&t!==0&&t<vt[n].priority;n++);vt.splice(n,0,e),n===0&&Jc(e)}};function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ou(){}function D0(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ti(o);i.call(u)}}var o=mh(t,r,e,0,null,!1,!1,"",Ou);return e._reactRootContainer=o,e[lt]=o.current,Nr(e.nodeType===8?e.parentNode:e),Xt(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ti(a);l.call(u)}}var a=la(e,0,!1,null,null,!1,!1,"",Ou);return e._reactRootContainer=a,e[lt]=a.current,Nr(e.nodeType===8?e.parentNode:e),Xt(function(){gi(t,a,n,r)}),a}function wi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ti(o);l.call(a)}}gi(t,o,e,s)}else o=D0(n,t,e,s,r);return ti(o)}Hc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ir(t.pendingLanes);n!==0&&(Nl(t,n|1),Ee(t,Q()),!(I&6)&&(In=Q()+500,$t()))}break;case 13:Xt(function(){var r=at(e,1);if(r!==null){var s=me();qe(r,e,1,s)}}),aa(e,1)}};Tl=function(e){if(e.tag===13){var t=at(e,134217728);if(t!==null){var n=me();qe(t,e,134217728,n)}aa(e,134217728)}};qc=function(e){if(e.tag===13){var t=Nt(e),n=at(e,t);if(n!==null){var r=me();qe(n,e,t,r)}aa(e,t)}};Kc=function(){return M};Gc=function(e,t){var n=M;try{return M=e,t()}finally{M=n}};Po=function(e,t,n){switch(t){case"input":if(ko(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ui(r);if(!s)throw Error(S(90));jc(r),ko(r,s)}}}break;case"textarea":Cc(e,n);break;case"select":t=n.value,t!=null&&Sn(e,!!n.multiple,t,!1)}};Ac=ra;$c=Xt;var z0={usingClientEntryPoint:!1,Events:[Vr,gn,ui,Rc,Lc,ra]},er={findFiberByHostInstance:Wt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F0={bundleType:er.bundleType,version:er.version,rendererPackageName:er.rendererPackageName,rendererConfig:er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mc(e),e===null?null:e.stateNode},findFiberByHostInstance:er.findFiberByHostInstance||M0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{ii=ps.inject(F0),Ye=ps}catch{}}Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z0;Te.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ca(t))throw Error(S(200));return U0(e,t,null,n)};Te.createRoot=function(e,t){if(!ca(e))throw Error(S(299));var n=!1,r="",s=gh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=la(e,1,!1,null,null,n,!1,r,s),e[lt]=t.current,Nr(e.nodeType===8?e.parentNode:e),new ua(t)};Te.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Mc(t),e=e===null?null:e.stateNode,e};Te.flushSync=function(e){return Xt(e)};Te.hydrate=function(e,t,n){if(!yi(t))throw Error(S(200));return wi(null,e,t,!0,n)};Te.hydrateRoot=function(e,t,n){if(!ca(e))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=gh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=mh(t,null,e,1,n??null,s,!1,i,o),e[lt]=t.current,Nr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new vi(t)};Te.render=function(e,t,n){if(!yi(t))throw Error(S(200));return wi(null,e,t,!1,n)};Te.unmountComponentAtNode=function(e){if(!yi(e))throw Error(S(40));return e._reactRootContainer?(Xt(function(){wi(null,null,e,!1,function(){e._reactRootContainer=null,e[lt]=null})}),!0):!1};Te.unstable_batchedUpdates=ra;Te.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yi(n))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return wi(e,t,n,!1,r)};Te.version="18.3.1-next-f1338f8080-20240426";function vh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vh)}catch(e){console.error(e)}}vh(),vc.exports=Te;var B0=vc.exports,yh,Ru=B0;yh=Ru.createRoot,Ru.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mr(){return Mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mr.apply(this,arguments)}var xt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xt||(xt={}));const Lu="popstate";function W0(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return ll("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_h(s)}return H0(t,n,null,e)}function Y(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function V0(){return Math.random().toString(36).substr(2,8)}function Au(e,t){return{usr:e.state,key:e.key,idx:t}}function ll(e,t,n,r){return n===void 0&&(n=null),Mr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bn(t):t,{state:n,key:t&&t.key||r||V0()})}function _h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Bn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function H0(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=xt.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(Mr({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){l=xt.Pop;let x=c(),m=x==null?null:x-u;u=x,a&&a({action:l,location:w.location,delta:m})}function f(x,m){l=xt.Push;let p=ll(w.location,x,m);u=c()+1;let v=Au(p,u),k=w.createHref(p);try{o.pushState(v,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(k)}i&&a&&a({action:l,location:w.location,delta:1})}function g(x,m){l=xt.Replace;let p=ll(w.location,x,m);u=c();let v=Au(p,u),k=w.createHref(p);o.replaceState(v,"",k),i&&a&&a({action:l,location:w.location,delta:0})}function y(x){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof x=="string"?x:_h(x);return p=p.replace(/ $/,"%20"),Y(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let w={get action(){return l},get location(){return e(s,o)},listen(x){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(Lu,h),a=x,()=>{s.removeEventListener(Lu,h),a=null}},createHref(x){return t(s,x)},createURL:y,encodeLocation(x){let m=y(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(x){return o.go(x)}};return w}var $u;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($u||($u={}));function q0(e,t,n){return n===void 0&&(n="/"),K0(e,t,n,!1)}function K0(e,t,n,r){let s=typeof t=="string"?Bn(t):t,i=Sh(s.pathname||"/",n);if(i==null)return null;let o=kh(e);G0(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=im(i);l=rm(o[a],u,r)}return l}function kh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let a={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(Y(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Gt([r,a.relativePath]),c=n.concat(a);i.children&&i.children.length>0&&(Y(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kh(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:tm(u,i.index),routesMeta:c})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let a of xh(i.path))s(i,o,a)}),t}function xh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=xh(r.join("/")),l=[];return l.push(...o.map(a=>a===""?i:[i,a].join("/"))),s&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function G0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nm(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const J0=/^:[\w-]+$/,Q0=3,Z0=2,Y0=1,X0=10,em=-2,Iu=e=>e==="*";function tm(e,t){let n=e.split("/"),r=n.length;return n.some(Iu)&&(r+=em),t&&(r+=Z0),n.filter(s=>!Iu(s)).reduce((s,i)=>s+(J0.test(i)?Q0:i===""?Y0:X0),r)}function nm(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function rm(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",h=Uu({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),f=a.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Uu({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Gt([i,h.pathname]),pathnameBase:um(Gt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Gt([i,h.pathnameBase]))}return o}function Uu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sm(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[h];return g&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function sm(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),wh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function im(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Sh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function om(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Bn(e):e;return{pathname:n?n.startsWith("/")?n:lm(n,t):t,search:cm(r),hash:dm(s)}}function lm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function io(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function am(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Eh(e,t){let n=am(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jh(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Bn(e):(s=Mr({},e),Y(!s.pathname||!s.pathname.includes("?"),io("?","pathname","search",s)),Y(!s.pathname||!s.pathname.includes("#"),io("#","pathname","hash",s)),Y(!s.search||!s.search.includes("#"),io("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let a=om(s,l),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Gt=e=>e.join("/").replace(/\/\/+/g,"/"),um=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dm=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bh=["post","put","patch","delete"];new Set(bh);const fm=["get",...bh];new Set(fm);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dr(){return Dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dr.apply(this,arguments)}const da=_.createContext(null),pm=_.createContext(null),qr=_.createContext(null),_i=_.createContext(null),nn=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Ch=_.createContext(null);function Kr(){return _.useContext(_i)!=null}function ki(){return Kr()||Y(!1),_.useContext(_i).location}function Ph(e){_.useContext(qr).static||_.useLayoutEffect(e)}function ha(){let{isDataRoute:e}=_.useContext(nn);return e?Cm():mm()}function mm(){Kr()||Y(!1);let e=_.useContext(da),{basename:t,future:n,navigator:r}=_.useContext(qr),{matches:s}=_.useContext(nn),{pathname:i}=ki(),o=JSON.stringify(Eh(s,n.v7_relativeSplatPath)),l=_.useRef(!1);return Ph(()=>{l.current=!0}),_.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=jh(u,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Gt([t,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[t,r,o,i,e])}function gm(e,t){return vm(e,t)}function vm(e,t,n,r){Kr()||Y(!1);let{navigator:s}=_.useContext(qr),{matches:i}=_.useContext(nn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=ki(),c;if(t){var h;let x=typeof t=="string"?Bn(t):t;a==="/"||(h=x.pathname)!=null&&h.startsWith(a)||Y(!1),c=x}else c=u;let f=c.pathname||"/",g=f;if(a!=="/"){let x=a.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=q0(e,{pathname:g}),w=xm(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Gt([a,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:Gt([a,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&w?_.createElement(_i.Provider,{value:{location:Dr({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:xt.Pop}},w):w}function ym(){let e=bm(),t=hm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:s},n):null,null)}const wm=_.createElement(ym,null);class _m extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(nn.Provider,{value:this.props.routeContext},_.createElement(Ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function km(e){let{routeContext:t,match:n,children:r}=e,s=_.useContext(da);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(nn.Provider,{value:t},r)}function xm(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let c=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);c>=0||Y(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:g}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,f)=>{let g,y=!1,w=null,x=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||wm,a&&(u<0&&f===0?(y=!0,x=null):u===f&&(y=!0,x=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),p=()=>{let v;return g?v=w:y?v=x:h.route.Component?v=_.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=c,_.createElement(km,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(_m,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Nh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Nh||{}),ni=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ni||{});function Sm(e){let t=_.useContext(da);return t||Y(!1),t}function Em(e){let t=_.useContext(pm);return t||Y(!1),t}function jm(e){let t=_.useContext(nn);return t||Y(!1),t}function Th(e){let t=jm(),n=t.matches[t.matches.length-1];return n.route.id||Y(!1),n.route.id}function bm(){var e;let t=_.useContext(Ch),n=Em(ni.UseRouteError),r=Th(ni.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Cm(){let{router:e}=Sm(Nh.UseNavigateStable),t=Th(ni.UseNavigateStable),n=_.useRef(!1);return Ph(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Dr({fromRouteId:t},i)))},[e,t])}const Mu={};function Pm(e,t){Mu[t]||(Mu[t]=!0,console.warn(t))}const Du=(e,t,n)=>Pm(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Nm(e,t){(e==null?void 0:e.v7_startTransition)===void 0&&Du("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&!t&&Du("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Tm(e){let{to:t,replace:n,state:r,relative:s}=e;Kr()||Y(!1);let{future:i,static:o}=_.useContext(qr),{matches:l}=_.useContext(nn),{pathname:a}=ki(),u=ha(),c=jh(t,Eh(l,i.v7_relativeSplatPath),a,s==="path"),h=JSON.stringify(c);return _.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function cn(e){Y(!1)}function Om(e){let{basename:t="/",children:n=null,location:r,navigationType:s=xt.Pop,navigator:i,static:o=!1,future:l}=e;Kr()&&Y(!1);let a=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:a,navigator:i,static:o,future:Dr({v7_relativeSplatPath:!1},l)}),[a,l,i,o]);typeof r=="string"&&(r=Bn(r));let{pathname:c="/",search:h="",hash:f="",state:g=null,key:y="default"}=r,w=_.useMemo(()=>{let x=Sh(c,a);return x==null?null:{location:{pathname:x,search:h,hash:f,state:g,key:y},navigationType:s}},[a,c,h,f,g,y,s]);return w==null?null:_.createElement(qr.Provider,{value:u},_.createElement(_i.Provider,{children:n,value:w}))}function Rm(e){let{children:t,location:n}=e;return gm(al(t),n)}new Promise(()=>{});function al(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,s)=>{if(!_.isValidElement(r))return;let i=[...t,s];if(r.type===_.Fragment){n.push.apply(n,al(r.props.children,i));return}r.type!==cn&&Y(!1),!r.props.index||!r.props.children||Y(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=al(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Lm="6";try{window.__reactRouterVersion=Lm}catch{}const Am="startTransition",zu=Of[Am];function $m(e){let{basename:t,children:n,future:r,window:s}=e,i=_.useRef();i.current==null&&(i.current=W0({window:s,v5Compat:!0}));let o=i.current,[l,a]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=_.useCallback(h=>{u&&zu?zu(()=>a(h)):a(h)},[a,u]);return _.useLayoutEffect(()=>o.listen(c),[o,c]),_.useEffect(()=>Nm(r),[r]),_.createElement(Om,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Fu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fu||(Fu={}));var Bu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bu||(Bu={}));const Im="modulepreload",Um=function(e){return"/"+e},Wu={},Un=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Um(a),a in Wu)return;Wu[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Im,u||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Mm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Un(async()=>{const{default:r}=await Promise.resolve().then(()=>Wn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class fa extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Dm extends fa{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zm extends fa{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Fm extends fa{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ul;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ul||(ul={}));var Bm=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class Wm{constructor(t,{headers:n={},customFetch:r,region:s=ul.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Mm(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Bm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(y=>{throw new Dm(y)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new zm(c);if(!c.ok)throw new Fm(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield c.json():f==="application/octet-stream"?g=yield c.blob():f==="text/event-stream"?g=c:f==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var _e={},pa={},xi={},Gr={},Si={},Ei={},Vm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mn=Vm();const Hm=Mn.fetch,Oh=Mn.fetch.bind(Mn),Rh=Mn.Headers,qm=Mn.Request,Km=Mn.Response,Wn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rh,Request:qm,Response:Km,default:Oh,fetch:Hm},Symbol.toStringTag,{value:"Module"})),Gm=pf(Wn);var ji={};Object.defineProperty(ji,"__esModule",{value:!0});let Jm=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ji.default=Jm;var Lh=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ei,"__esModule",{value:!0});const Qm=Lh(Gm),Zm=Lh(ji);let Ym=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Qm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,c=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=m:c=JSON.parse(m))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,g="OK")}catch{i.status===404&&w===""?(f=204,g="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new Zm.default(u)}return{error:u,data:c,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}};Ei.default=Ym;var Xm=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Si,"__esModule",{value:!0});const eg=Xm(Ei);let tg=class extends eg.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Si.default=tg;var ng=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gr,"__esModule",{value:!0});const rg=ng(Si);let sg=class extends rg.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Gr.default=sg;var ig=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});const tr=ig(Gr);let og=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new tr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new tr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new tr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new tr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new tr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xi.default=og;var bi={},Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.version=void 0;Ci.version="0.0.0-automated";Object.defineProperty(bi,"__esModule",{value:!0});bi.DEFAULT_HEADERS=void 0;const lg=Ci;bi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${lg.version}`};var Ah=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pa,"__esModule",{value:!0});const ag=Ah(xi),ug=Ah(Gr),cg=bi;let dg=class $h{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},cg.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new ag.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $h(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{l.searchParams.append(c,h)})):(o="POST",a=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new ug.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};pa.default=dg;var Vn=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_e,"__esModule",{value:!0});_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const Ih=Vn(pa);_e.PostgrestClient=Ih.default;const Uh=Vn(xi);_e.PostgrestQueryBuilder=Uh.default;const Mh=Vn(Gr);_e.PostgrestFilterBuilder=Mh.default;const Dh=Vn(Si);_e.PostgrestTransformBuilder=Dh.default;const zh=Vn(Ei);_e.PostgrestBuilder=zh.default;const Fh=Vn(ji);_e.PostgrestError=Fh.default;var hg=_e.default={PostgrestClient:Ih.default,PostgrestQueryBuilder:Uh.default,PostgrestFilterBuilder:Mh.default,PostgrestTransformBuilder:Dh.default,PostgrestBuilder:zh.default,PostgrestError:Fh.default};const{PostgrestClient:fg,PostgrestQueryBuilder:Ky,PostgrestFilterBuilder:Gy,PostgrestTransformBuilder:Jy,PostgrestBuilder:Qy,PostgrestError:Zy}=hg,pg="2.11.2",mg={"X-Client-Info":`realtime-js/${pg}`},gg="1.0.0",Bh=1e4,vg=1e3;var Nn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Nn||(Nn={}));var je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(je||(je={}));var We;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(We||(We={}));var cl;(function(e){e.websocket="websocket"})(cl||(cl={}));var Bt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Bt||(Bt={}));class yg{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const a=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class Wh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var D;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(D||(D={}));const Vu=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=wg(o,e,t,s),i),{})},wg=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Vh(i,o):dl(o)},Vh=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Sg(t,n)}switch(e){case D.bool:return _g(t);case D.float4:case D.float8:case D.int2:case D.int4:case D.int8:case D.numeric:case D.oid:return kg(t);case D.json:case D.jsonb:return xg(t);case D.timestamp:return Eg(t);case D.abstime:case D.date:case D.daterange:case D.int4range:case D.int8range:case D.money:case D.reltime:case D.text:case D.time:case D.timestamptz:case D.timetz:case D.tsrange:case D.tstzrange:return dl(t);default:return dl(t)}},dl=e=>e,_g=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},xg=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Sg=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Vh(t,l))}return e},Eg=e=>typeof e=="string"?e.replace(" ","T"):e,Hh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class oo{constructor(t,n,r={},s=Bh){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hu||(Hu={}));class vr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=vr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=vr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},a={};return this.map(i,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),y=c.filter(x=>g.indexOf(x.presence_ref)<0),w=h.filter(x=>f.indexOf(x.presence_ref)<0);y.length>0&&(l[u]=y),w.length>0&&(a[u]=w)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(a),c.length>0){const h=t[l].map(g=>g.presence_ref),f=c.filter(g=>h.indexOf(g.presence_ref)<0);t[l].unshift(...f)}r(l,c,a)}),this.map(o,(l,a)=>{let u=t[l];if(!u)return;const c=a.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,a),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qu||(qu={}));var Ku;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ku||(Ku={}));var tt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tt||(tt={}));class ma{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new oo(this,We.join,this.params,this.timeout),this.rejoinTimer=new Wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new vr(this),this.broadcastEndpointURL=Hh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(c=>t==null?void 0:t(tt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(tt.CLOSED));const a={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t==null||t(tt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<g;w++){const x=f[w],{filter:{event:m,schema:p,table:v,filter:k}}=x,E=c&&c[w];if(E&&E.event===m&&E.schema===p&&E.table===v&&E.filter===k)y.push(Object.assign(Object.assign({},x),{id:E.id}));else{this.unsubscribe(),t==null||t(tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(tt.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new oo(this,We.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new oo(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=We;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,w,x;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,w,x,m,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const k=g.id,E=(y=g.filter)===null||y===void 0?void 0:y.event;return k&&((w=n.ids)===null||w===void 0?void 0:w.includes(k))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const k=(p=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return k==="*"||k===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:x,commit_timestamp:m,type:p,errors:v}=y;f=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:m,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(y))}g.callback(f,r)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ma.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(We.close,{},t)}_onError(t){this._on(We.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Vu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Vu(t.columns,t.old_record)),n}}const jg=()=>{},bg=typeof WebSocket<"u",Cg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Pg{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=mg,this.params={},this.timeout=Bh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=jg,this.conn=null,this.sendBuffer=[],this.serializer=new yg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Un(async()=>{const{default:a}=await Promise.resolve().then(()=>Wn);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${cl.websocket}`,this.httpEndpoint=Hh(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(bg){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ng(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Un(async()=>{const{default:t}=await import("./browser-CQ4tUwUN.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gg}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Nn.connecting:return Bt.Connecting;case Nn.open:return Bt.Open;case Nn.closing:return Bt.Closing;default:return Bt.Closed}}isConnected(){return this.connectionState()===Bt.Open}channel(t,n={config:{}}){const r=new ma(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(We.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(vg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(We.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Cg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Ng{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Nn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class ga extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ne(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Tg extends ga{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class hl extends ga{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Og=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const qh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Un(async()=>{const{default:r}=await Promise.resolve().then(()=>Wn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Rg=()=>Og(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Un(()=>Promise.resolve().then(()=>Wn),void 0)).Response:Response}),fl=e=>{if(Array.isArray(e))return e.map(n=>fl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=fl(r)}),t};var rn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const lo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lg=(e,t,n)=>rn(void 0,void 0,void 0,function*(){const r=yield Rg();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Tg(lo(s),e.status||500))}).catch(s=>{t(new hl(lo(s),s))}):t(new hl(lo(e),e))}),Ag=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Jr(e,t,n,r,s,i){return rn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,Ag(t,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Lg(a,l,r))})})}function ri(e,t,n,r){return rn(this,void 0,void 0,function*(){return Jr(e,"GET",t,n,r)})}function gt(e,t,n,r,s){return rn(this,void 0,void 0,function*(){return Jr(e,"POST",t,r,s,n)})}function $g(e,t,n,r,s){return rn(this,void 0,void 0,function*(){return Jr(e,"PUT",t,r,s,n)})}function Ig(e,t,n,r){return rn(this,void 0,void 0,function*(){return Jr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Kh(e,t,n,r,s){return rn(this,void 0,void 0,function*(){return Jr(e,"DELETE",t,r,s,n)})}var ye=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const Ug={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mg{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=qh(s)}uploadOrUpdate(t,n,r,s){return ye(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Gu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ne(i))return{data:null,error:i};throw i}})}upload(t,n,r){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return ye(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:Gu.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(ne(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,n){return ye(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield gt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ga("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}update(t,n,r){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ye(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}copy(t,n,r){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return ye(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield gt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return ye(this,void 0,void 0,function*(){try{const s=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}download(t,n){return ye(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ri(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}})}info(t){return ye(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ri(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:fl(r),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}exists(t){return ye(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Ig(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ne(r)&&r instanceof hl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return ye(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}list(t,n,r){return ye(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ug),n),{prefix:t||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Dg="2.7.1",zg={"X-Client-Info":`storage-js/${Dg}`};var ln=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class Fg{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},zg),n),this.fetch=qh(r)}listBuckets(){return ln(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ne(t))return{data:null,error:t};throw t}})}getBucket(t){return ln(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ln(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ln(this,void 0,void 0,function*(){try{return{data:yield $g(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ln(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ln(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}}class Bg extends Fg{constructor(t,n={},r){super(t,n,r)}from(t){return new Mg(this.url,this.headers,t,this.fetch)}}const Wg="2.47.10";let lr="";typeof Deno<"u"?lr="deno":typeof document<"u"?lr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lr="react-native":lr="node";const Vg={"X-Client-Info":`supabase-js-${lr}/${Wg}`},Hg={headers:Vg},qg={schema:"public"},Kg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gg={};var Jg=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const Qg=e=>{let t;return e?t=e:typeof fetch>"u"?t=Oh:t=fetch,(...n)=>t(...n)},Zg=()=>typeof Headers>"u"?Rh:Headers,Yg=(e,t,n)=>{const r=Qg(n),s=Zg();return(i,o)=>Jg(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Xg=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};function ev(e){return e.replace(/\/$/,"")}function tv(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:l,realtime:a,global:u}=t,c={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},a),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>Xg(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const Gh="2.67.3",nv="http://localhost:9999",rv="supabase.auth.token",sv={"X-Client-Info":`gotrue-js/${Gh}`},Ju=10,pl="X-Supabase-Api-Version",Jh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function iv(e){return Math.round(Date.now()/1e3)+e}function ov(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Je=()=>typeof window<"u"&&typeof document<"u",Mt={tested:!1,writable:!1},yr=()=>{if(!Je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mt.tested)return Mt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mt.tested=!0,Mt.writable=!0}catch{Mt.tested=!0,Mt.writable=!1}return Mt.writable};function lv(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Qh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Un(async()=>{const{default:r}=await Promise.resolve().then(()=>Wn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},av=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Zh=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ms=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gs=async(e,t)=>{await e.removeItem(t)};function uv(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,l,a,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=o<<2|l>>4,s=(l&15)<<4|a>>2,i=(a&3)<<6|u,n=n+String.fromCharCode(r),a!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Pi{constructor(){this.promise=new Pi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Pi.promiseConstructor=Promise;function Qu(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(uv(r))}async function cv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dv(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function hv(e){return("0"+e.toString(16)).substr(-2)}function fv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,hv).join("")}async function pv(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function mv(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await pv(e);return mv(n)}async function an(e,t,n=!1){const r=fv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Zh(e,`${t}-code-verifier`,s);const i=await gv(r);return[i,r===i?"plain":"s256"]}const vv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yv(e){const t=e.headers.get(pl);if(!t||!t.match(vv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class va extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function O(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class wv extends va{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function _v(e){return O(e)&&e.name==="AuthApiError"}class Yh extends va{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class sn extends va{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class ht extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kv(e){return O(e)&&e.name==="AuthSessionMissingError"}class ao extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vs extends sn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ys extends sn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xv(e){return O(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zu extends sn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ml extends sn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function uo(e){return O(e)&&e.name==="AuthRetryableFetchError"}class Yu extends sn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Sv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Ft=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ev=[502,503,504];async function Xu(e){var t;if(!av(e))throw new ml(Ft(e),0);if(Ev.includes(e.status))throw new ml(Ft(e),e.status);let n;try{n=await e.json()}catch(i){throw new Yh(Ft(i),i)}let r;const s=yv(e);if(s&&s.getTime()>=Jh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Yu(Ft(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ht}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Yu(Ft(n),e.status,n.weak_password.reasons);throw new wv(Ft(n),e.status||500,r)}const jv=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function $(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[pl]||(i[pl]=Jh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await bv(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function bv(e,t,n,r,s,i){const o=jv(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(a){throw console.error(a),new ml(Ft(a),0)}if(l.ok||await Xu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Xu(a)}}function ft(e){var t;let n=null;Tv(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=iv(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ec(e){const t=ft(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Cv(e){return{data:e,error:null}}function Pv(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Sv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Nv(e){return e}function Tv(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ov=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Rv{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Qh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ov(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Pv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(O(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Nv});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return g.length>0&&(g.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(O(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:wt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:wt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}}const Lv={getItem:e=>yr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{yr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{yr()&&globalThis.localStorage.removeItem(e)}};function tc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Av(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const un={debug:!!(globalThis&&yr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $v extends Xh{}async function Iv(e,t,n){un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),un.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{un.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw un.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $v(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(un.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Av();const Uv={url:nv,storageKey:rv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},nr=30*1e3,nc=3;async function rc(e,t,n){return await n()}class zr{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zr.nextInstanceID,zr.nextInstanceID+=1,this.instanceID>0&&Je()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Uv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Rv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Qh(s.fetch),this.lock=s.lock||rc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Je()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Iv:this.lock=rc,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:yr()?this.storage=Lv:(this.memoryStorage={},this.storage=tc(this.memoryStorage)):(this.memoryStorage={},this.storage=tc(this.memoryStorage)),Je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=lv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Je()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xv(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return O(n)?{error:n}:{error:new Yh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ft}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:h,options:f}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await an(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:y},xform:ft})}else if("phone"in t){const{phone:c,password:h,options:f}=t;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ft})}else throw new vs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(O(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ec})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ec})}else throw new vs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ao}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await ms(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ft});if(await gs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ao}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(O(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ft}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ao}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:a}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await an(this.storage,this.storageKey));const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:a}=t,{data:u,error:c}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new vs("You must provide either an email or phone number.")}catch(l){if(O(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ft});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await an(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Cv})}catch(i){if(O(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ht;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(O(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await $(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await $(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new vs("You must provide either an email or phone number and a type")}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ht}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:wt})})}catch(n){if(O(n))return kv(n)&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new ht;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await an(this.storage,this.storageKey));const{data:u,error:c}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:wt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Qu(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ht;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Qu(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(O(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ht;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Je())throw new ys("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ys(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Zu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ys("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zu("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=t;if(!i||!l||!o||!u)throw new ys("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(l);let f=c+h;a&&(f=parseInt(a));const g=f-c;g*1e3<=nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=f-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,c);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(O(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ms(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(_v(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ov(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await an(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(O(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,c;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Je()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(O(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dv(async s=>(s>0&&await cv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ft})),(s,i)=>{const o=200*Math.pow(2,s);return i&&uo(i)&&Date.now()+o-r<nr})}catch(r){if(this._debug(n,"error",r),O(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Je()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ms(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+Ju;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ju}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),uo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Pi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),O(i)){const o={session:null,error:i};return uo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await gs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${nr}ms, refresh threshold is ${nc} ticks`),s<=nc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await an(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(O(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(O(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}}zr.nextInstanceID=0;const Mv=zr;class Dv extends Mv{constructor(t){super(t)}}var zv=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class Fv{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=ev(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:qg,realtime:Gg,auth:Object.assign(Object.assign({},Kg),{storageKey:a}),global:Hg},c=tv(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Yg(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new fg(`${l}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Wm(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Bg(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return zv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},u,c){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dv({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:c,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new Pg(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bv=(e,t,n)=>new Fv(e,t,n),Wv="https://ifrwkujnkpodngmrtgqf.supabase.co",Vv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlmcndrdWpua3BvZG5nbXJ0Z3FmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU1OTQ5NjIsImV4cCI6MjA1MTE3MDk2Mn0.HCbUvFraZQ2TMDYaBYDNtMdKFIIrgb77ADgVgvZeVIU",le=Bv(Wv,Vv);function Hv(){const[e,t]=_.useState(null),n=ha();return _.useEffect(()=>{(async()=>{try{const{data:{user:s},error:i}=await le.auth.getUser();if(i)throw i;if(s){const{error:o}=await le.rpc("verify_user_email",{user_id:s.id});if(o)throw o}n("/",{replace:!0})}catch(s){t(s instanceof Error?s.message:"Authentication error"),setTimeout(()=>n("/auth",{replace:!0}),3e3)}})()},[n]),e?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:d.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg",children:e})}):d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Verifying your account..."})]})})}const ef=_.createContext({user:{id:"00000000-0000-0000-0000-000000000000",email:"test@example.com"},loading:!1,error:null,isAdmin:!0,isParent:!1,signIn:async()=>({error:null}),signUp:async()=>({error:null}),signOut:async()=>{}});function Ni(){const e=_.useContext(ef);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(e,t)=>{const n=_.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},c)=>_.createElement("svg",{ref:c,...qv,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Kv(e)}`,l].join(" "),...u},[...t.map(([h,f])=>_.createElement(h,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=U("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=U("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=U("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=U("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=U("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=U("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=U("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=U("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=U("Joystick",[["path",{d:"M21 17a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-2Z",key:"jg2n2t"}],["path",{d:"M6 15v-2",key:"gd6mvg"}],["path",{d:"M12 15V9",key:"8c7uyn"}],["circle",{cx:"12",cy:"6",r:"3",key:"1gm2ql"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=U("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=U("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=U("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=U("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=U("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=U("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=U("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=U("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=U("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=U("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=U("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=U("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=U("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=U("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=U("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=U("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function gy(){const[e,t]=_.useState(()=>{if(typeof window<"u"){const r=localStorage.getItem("theme");return r||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});return _.useEffect(()=>{const r=window.document.documentElement;r.classList.remove("light","dark"),r.classList.add(e),localStorage.setItem("theme",e)},[e]),{theme:e,toggleTheme:()=>{t(r=>r==="light"?"dark":"light")}}}function lf(){const{theme:e,toggleTheme:t}=gy();return d.jsx("button",{onClick:t,className:"flex items-center gap-2 w-full p-4 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e==="dark"?d.jsxs(d.Fragment,{children:[d.jsx(dy,{className:"w-5 h-5"}),d.jsx("span",{className:"text-sm",children:"Light Mode"})]}):d.jsxs(d.Fragment,{children:[d.jsx(oy,{className:"w-5 h-5"}),d.jsx("span",{className:"text-sm",children:"Dark Mode"})]})})}function vy({children:e}){return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 flex flex-col",children:[d.jsx("header",{className:"p-4 absolute top-0 left-0 right-0",children:d.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("img",{src:"https://ifrwkujnkpodngmrtgqf.supabase.co/storage/v1/object/public/zaplogos/ZapLauncher%20-%20Black.png?t=2024-12-31T18%3A40%3A52.370Z",alt:"ZapLauncher",className:"h-8 dark:hidden"}),d.jsx("img",{src:"https://ifrwkujnkpodngmrtgqf.supabase.co/storage/v1/object/public/zaplogos/ZapLauncher%20-%20White.png",alt:"ZapLauncher",className:"h-8 hidden dark:block"})]}),d.jsx(lf,{})]})}),d.jsx("main",{className:"flex-1 flex items-center justify-center p-4 mt-16",children:d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 w-full max-w-md mx-auto backdrop-blur-sm bg-opacity-90 dark:bg-opacity-90 border border-gray-200 dark:border-gray-700",children:e})}),d.jsx("footer",{className:"py-8 text-center text-sm text-gray-600 dark:text-gray-400 absolute bottom-0 left-0 right-0 backdrop-blur-sm",children:d.jsxs("p",{children:["A fork of the Zaparoo project by"," ",d.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Callan Barrett"})," and"," ",d.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Bjorn Logan"})]})})]})}function yy({onSignUp:e,onForgotPassword:t}){const[n,r]=_.useState(""),[s,i]=_.useState(""),[o,l]=_.useState(null),[a,u]=_.useState(!1),{signIn:c}=Ni(),h=async f=>{if(f.preventDefault(),l(null),!n||!s){l("Email and password are required");return}u(!0);try{const{error:g}=await c(n,s);if(g){l(g);return}}catch{l("Failed to sign in. Please try again.")}finally{u(!1)}};return d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome back"}),d.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sign in to your account to continue"})]}),d.jsxs("form",{onSubmit:h,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"email",value:n,onChange:f=>r(f.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"you@example.com"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"password",value:s,onChange:f=>i(f.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:""})]})]}),o&&d.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg flex items-center gap-2",children:[d.jsx(ya,{className:"w-5 h-5"}),o]}),d.jsxs("button",{type:"submit",disabled:a,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(ry,{className:"w-5 h-5"}),a?"Signing in...":"Sign in"]}),d.jsxs("div",{className:"flex flex-col space-y-2 text-sm text-center",children:[d.jsx("button",{type:"button",onClick:t,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Forgot your password?"}),d.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",d.jsx("button",{type:"button",onClick:e,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Sign up"})]})]})]})]})}function wy({onSignIn:e}){const[t,n]=_.useState(""),[r,s]=_.useState(""),[i,o]=_.useState(""),[l,a]=_.useState(""),[u,c]=_.useState(null),[h,f]=_.useState(!1),{signUp:g}=Ni(),y=async w=>{if(w.preventDefault(),c(null),r!==l){c("Passwords do not match");return}if(r.length<6){c("Password must be at least 6 characters");return}if(!/^[a-zA-Z0-9_-]{3,30}$/.test(i)){c("Handle must be 3-30 characters and can only contain letters, numbers, underscore, or hyphen");return}f(!0);try{const{error:x}=await g(t,r);if(x){c(x);return}c(" Check your email for a verification link")}catch{c("Failed to sign up. Please try again.")}finally{f(!1)}};return d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create an account"}),d.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Sign up to start managing your games"})]}),d.jsxs("form",{onSubmit:y,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"email",value:t,onChange:w=>n(w.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"you@example.com"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"password",value:r,onChange:w=>s(w.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"password",value:l,onChange:w=>a(w.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Handle"}),d.jsxs("div",{className:"relative",children:[d.jsx(sf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",value:i,onChange:w=>o(w.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"Choose a unique handle"})]})]}),u&&d.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-2 ${u.includes("verification")?"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400"}`,children:[d.jsx(ya,{className:"w-5 h-5"}),u]}),d.jsxs("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(fy,{className:"w-5 h-5"}),h?"Creating account...":"Sign up"]}),d.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",d.jsx("button",{type:"button",onClick:e,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Sign in"})]})]})]})}function _y({onBack:e}){const[t,n]=_.useState(""),[r,s]=_.useState(null),[i,o]=_.useState(!1),[l,a]=_.useState(!1),u=async c=>{c.preventDefault(),s(null),o(!1),a(!0);try{const{error:h}=await le.auth.resetPasswordForEmail(t);if(h)throw h;o(!0)}catch(h){s(h instanceof Error?h.message:"Failed to send reset email")}finally{a(!1)}};return d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset your password"}),d.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Enter your email address and we'll send you a link to reset your password"})]}),d.jsxs("form",{onSubmit:u,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"email",value:t,onChange:c=>n(c.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white",placeholder:"you@example.com"})]})]}),r&&d.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg flex items-center gap-2",children:[d.jsx(ya,{className:"w-5 h-5"}),r]}),i&&d.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-lg",children:"Check your email for a password reset link"}),d.jsxs("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(ty,{className:"w-5 h-5"}),l?"Sending...":"Send reset link"]}),d.jsx("button",{type:"button",onClick:e,className:"w-full text-center text-sm text-gray-600 dark:text-gray-400 hover:underline",children:"Back to sign in"})]})]})}function ky(){var o,l;const[e,t]=_.useState("signIn"),{user:n,loading:r}=Ni(),i=((l=(o=ki().state)==null?void 0:o.from)==null?void 0:l.pathname)||"/";return r?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n?d.jsx(Tm,{to:i,replace:!0}):d.jsxs(vy,{children:[e==="signIn"&&d.jsx(yy,{onSignUp:()=>t("signUp"),onForgotPassword:()=>t("resetPassword")}),e==="signUp"&&d.jsx(wy,{onSignIn:()=>t("signIn")}),e==="resetPassword"&&d.jsx(_y,{onBack:()=>t("signIn")})]})}const af=[{id:"nes",name:"NES",shortName:"NES",icon:"Gamepad2",description:"8-bit home video game console",year:"1983",manufacturer:"Nintendo",color:"rgb(229, 62, 62)",gradient:"from-red-500 to-red-600"},{id:"snes",name:"SNES",shortName:"SNES",icon:"Cpu",description:"16-bit home video game console",year:"1990",manufacturer:"Nintendo",color:"rgb(129, 140, 248)",gradient:"from-indigo-400 to-indigo-500"},{id:"genesis",name:"Sega Genesis",shortName:"Genesis",icon:"Sword",description:"16-bit home video game console",year:"1988",manufacturer:"Sega",color:"rgb(34, 197, 94)",gradient:"from-green-500 to-green-600"},{id:"arcade",name:"Arcade Systems",shortName:"Arcade",icon:"Joystick",description:"Classic arcade systems",year:"1970s-1990s",manufacturer:"Various",color:"rgb(234, 179, 8)",gradient:"from-yellow-500 to-yellow-600"}],xy={Gamepad2:wa,Cpu:Zv,Sword:hy,Joystick:ey};function co({isOpen:e,onClose:t}){const n=_.useRef(null),r=ha();_.useEffect(()=>{function i(o){e&&n.current&&!n.current.contains(o.target)&&t()}return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[e,t]);const s=i=>{r(i),t()};return d.jsxs(d.Fragment,{children:[e&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 lg:hidden animate-fade-in"}),d.jsx("aside",{ref:n,className:`fixed top-0 left-0 h-full w-[280px] max-w-[85%] bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out z-50 ${e?"translate-x-0":"-translate-x-full"}`,children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Menu"}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:d.jsx(of,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-4",children:"Navigation"}),d.jsxs("nav",{className:"space-y-1",children:[d.jsxs("button",{onClick:()=>s("/"),className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors text-sm",children:[d.jsx(rf,{className:"w-4 h-4"}),d.jsx("span",{children:"Overview"})]}),d.jsxs("button",{onClick:()=>s("/collection"),className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors text-sm",children:[d.jsx(Yv,{className:"w-4 h-4"}),d.jsx("span",{children:"Collection"})]}),d.jsxs("button",{onClick:()=>s("/leaderboard"),className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors text-sm",children:[d.jsx(ka,{className:"w-4 h-4"}),d.jsx("span",{children:"Leaderboard"})]})]})]}),d.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-4",children:"Systems"}),d.jsx("nav",{className:"space-y-1",children:af.map(i=>{const o=i.icon?xy[i.icon]:wa;return d.jsxs("button",{onClick:()=>s(`/system/${i.id}`),className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors text-sm",children:[d.jsx(o,{className:"w-4 h-4"}),d.jsx("span",{children:i.name})]},i.id)})})]})]}),d.jsx("div",{className:"mt-auto border-t border-gray-200 dark:border-gray-700",children:d.jsx(lf,{})})]})})]})}let ws;const Sy=new Uint8Array(16);function Ey(){if(!ws&&(ws=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ws))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ws(Sy)}const ie=[];for(let e=0;e<256;++e)ie.push((e+256).toString(16).slice(1));function jy(e,t=0){return ie[e[t+0]]+ie[e[t+1]]+ie[e[t+2]]+ie[e[t+3]]+"-"+ie[e[t+4]]+ie[e[t+5]]+"-"+ie[e[t+6]]+ie[e[t+7]]+"-"+ie[e[t+8]]+ie[e[t+9]]+"-"+ie[e[t+10]]+ie[e[t+11]]+ie[e[t+12]]+ie[e[t+13]]+ie[e[t+14]]+ie[e[t+15]]}const by=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),sc={randomUUID:by};function Cy(e,t,n){if(sc.randomUUID&&!t&&!e)return sc.randomUUID();e=e||{};const r=e.random||(e.rng||Ey)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jy(r)}class Py{constructor(t){this.ws=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.pendingRequests=new Map;const n=t.replace(/^https?:\/\//,"").replace(/\/$/,"");this.url=`ws://${n}:7497`}connect(){return new Promise((t,n)=>{try{this.ws=new WebSocket(this.url);const r=setTimeout(()=>{var s,i;((s=this.ws)==null?void 0:s.readyState)!==WebSocket.OPEN&&((i=this.ws)==null||i.close(),n(new Error("Connection timeout")))},5e3);this.ws.onopen=()=>{console.log("Connected to Zaparoo WebSocket"),clearTimeout(r),this.reconnectAttempts=0,t()},this.ws.onerror=s=>{console.error("WebSocket error:",s),clearTimeout(r),n(s)},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.handleReconnect()},this.ws.onmessage=this.handleMessage.bind(this)}catch(r){n(r)}})}handleMessage(t){try{const n=JSON.parse(t.data);if(!("id"in n)){this.handleNotification(n);return}const r=n,s=this.pendingRequests.get(r.id);s&&(r.error?s.reject(r.error):s.resolve(r.result),this.pendingRequests.delete(r.id))}catch(n){console.error("Error handling WebSocket message:",n)}}handleNotification(t){switch(t.method){case"launching":console.log("New ZapScript launching:",t.params);break;case"media.started":console.log("Media started:",t.params);break;case"media.stopped":console.log("Media stopped:",t.params);break;default:console.log("Received notification:",t)}}handleReconnect(){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(`Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),setTimeout(()=>{this.connect().catch(t=>{console.error("Reconnection failed:",t)})},this.reconnectDelay*this.reconnectAttempts))}disconnect(){this.ws&&(this.ws.close(),this.ws=null,this.reconnectAttempts=this.maxReconnectAttempts)}async request(t,n){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)throw new Error("WebSocket not connected");const r=Cy(),s={jsonrpc:"2.0",id:r,method:t,...n&&{params:n}};return new Promise((i,o)=>{this.pendingRequests.set(r,{resolve:i,reject:o}),this.ws.send(JSON.stringify(s)),setTimeout(()=>{this.pendingRequests.has(r)&&(this.pendingRequests.delete(r),o(new Error("Request timeout")))},1e4)})}async launchGame(t){await this.request("launch",{path:t})}async stopGame(){await this.request("stop")}async searchGames(t){return this.request("media.search",{query:t})}async getActiveSystems(){return this.request("systems")}async getActiveMedia(){return this.request("media.active")}}function xa(){const[e,t]=_.useState(null),[n,r]=_.useState(!0),[s,i]=_.useState(null);return _.useEffect(()=>{async function l(){try{const{data:{user:a}}=await le.auth.getUser();if(!a){i("User not authenticated");return}const{data:u,error:c}=await le.from("mister_settings").select().eq("user_id",a.id);if(c)if(c.code==="PGRST116")t(null);else throw c;else t((u==null?void 0:u[0])||null)}catch(a){i(a instanceof Error?a.message:"Failed to load settings")}finally{r(!1)}}l()},[]),{settings:e,loading:n,error:s,updateSettings:async(l,a)=>{try{const{data:{user:u}}=await le.auth.getUser();if(!u){i("User not authenticated");return}const c={user_id:u.id,ip_address:l,is_connected:a,last_connected:a?new Date().toISOString():null};let h;if(e!=null&&e.id?h=await le.from("mister_settings").update(c).eq("id",e.id).select().single():h=await le.from("mister_settings").insert([c]).select().single(),h.error)throw h.error;t(h.data),i(null)}catch(u){throw i(u instanceof Error?u.message:"Failed to update settings"),u}}}}function uf(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[s,i]=_.useState(null),{settings:o}=xa(),l=_.useCallback(async()=>{if(!(o!=null&&o.ip_address)){i("MiSTer IP address not configured");return}try{const c=new Py(o.ip_address);await c.connect(),t(c),r(!0),i(null)}catch(c){const h=c instanceof Error?c.message:"Failed to connect to Zaparoo";i(h),console.error("Zaparoo connection error:",c)}},[o==null?void 0:o.ip_address]),a=_.useCallback(()=>{e==null||e.disconnect(),t(null),r(!1)},[e]),u=_.useCallback(async c=>{if(!e||!n)throw new Error("Zaparoo not connected");try{await e.launchGame(c)}catch(h){throw console.error("Failed to launch game:",h),h}},[e,n]);return _.useEffect(()=>(o!=null&&o.ip_address&&l(),()=>{a()}),[o==null?void 0:o.ip_address,l,a]),{isConnected:n,error:s,launchGame:u,searchGames:e==null?void 0:e.searchGames.bind(e),getActiveSystems:e==null?void 0:e.getActiveSystems.bind(e),getActiveMedia:e==null?void 0:e.getActiveMedia.bind(e)}}function cf(){const{isConnected:e,error:t}=uf();return d.jsx("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ${e?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:e?d.jsxs(d.Fragment,{children:[d.jsx(wa,{className:"w-4 h-4"}),d.jsx("span",{children:"Zaparoo Connected"})]}):d.jsxs(d.Fragment,{children:[d.jsx(my,{className:"w-4 h-4",title:t||"Disconnected"}),d.jsx("span",{children:"Zaparoo Disconnected"})]})})}function Ny({onOpenSettings:e}){const[t,n]=_.useState(!1),[r,s]=_.useState(""),[i,o]=_.useState(null),[l,a]=_.useState(!1),u=_.useRef(null),{user:c,signOut:h}=Ni();_.useEffect(()=>{async function g(){if(!c)return;const{data:y,error:w}=await le.from("user_handles").select("handle").eq("user_id",c.id);if(w){console.error("Error loading handle:",w);return}y&&y.length>0?s(y[0].handle):console.warn("No handle found for user")}g()},[c]),_.useEffect(()=>{function g(y){u.current&&!u.current.contains(y.target)&&n(!1)}return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const f=async g=>{if(c&&g.trim()){if(g===r){a(!1);return}o(null);try{const{data:y,error:w}=await le.rpc("verify_user_handle",{user_id:c.id,new_handle:g});if(w)throw w;if(y&&y.success)s(y.handle),a(!1);else throw new Error((y==null?void 0:y.error)||"Failed to update handle")}catch(y){console.error("Failed to update handle:",y),o(y instanceof Error?y.message:"Failed to update handle"),a(!0)}}};return d.jsxs("div",{className:"relative",ref:u,children:[d.jsx("button",{onClick:()=>n(!t),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:d.jsx(sf,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),t&&d.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50",children:[d.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Signed in as"}),d.jsx("button",{onClick:()=>a(!l),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:d.jsx(cy,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),l?d.jsx("input",{type:"text",value:r,onChange:g=>s(g.target.value.trim()),onKeyDown:g=>{g.key==="Enter"?f(r):g.key==="Escape"&&(a(!1),o(null))},onBlur:()=>{r.trim()?f(r):(a(!1),o(null))},className:"mt-1 w-full px-2 py-1 bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",placeholder:"Enter handle...",autoFocus:!0,maxLength:30,pattern:"^[a-zA-Z0-9][a-zA-Z0-9_-]*$"}):d.jsx("p",{className:"mt-1 font-medium text-gray-900 dark:text-white",children:r||"Set handle"}),i&&d.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i}),d.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:c==null?void 0:c.email})]}),d.jsxs("div",{className:"py-2",children:[d.jsxs("button",{onClick:()=>{n(!1),e()},className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[d.jsx(nf,{className:"w-4 h-4"}),"Settings"]}),d.jsxs("button",{onClick:async()=>{n(!1);try{await h(),window.location.href="/auth"}catch(g){console.error("Error signing out:",g)}},className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[d.jsx(sy,{className:"w-4 h-4"}),"Sign out"]})]})]})]})}function ho({onOpenSettings:e,onMenuClick:t,onBack:n,showBack:r}){return d.jsx("nav",{className:"sticky top-0 z-40 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[r&&n?d.jsx("button",{onClick:n,className:"mr-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:d.jsx(Gv,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}):d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-2",children:d.jsx(ly,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("img",{src:"https://ifrwkujnkpodngmrtgqf.supabase.co/storage/v1/object/public/zaplogos/ZapLauncher%20-%20Black.png?t=2024-12-31T18%3A40%3A52.370Z",alt:"ZapLauncher",className:"h-8 dark:hidden"}),d.jsx("img",{src:"https://ifrwkujnkpodngmrtgqf.supabase.co/storage/v1/object/public/zaplogos/ZapLauncher%20-%20White.png",alt:"ZapLauncher",className:"h-8 hidden dark:block"})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(cf,{}),d.jsx(Ny,{onOpenSettings:e})]})]})})})}function Ty(){const[e,t]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null);_.useEffect(()=>{o()},[]);const o=async()=>{try{const{data:a,error:u}=await le.from("user_collection_details").select("*").order("collected_at",{ascending:!1});if(u)throw u;t(a||[])}catch(a){i(a instanceof Error?a.message:"Failed to load collection")}finally{r(!1)}};return{cards:e,loading:n,error:s,addCard:async a=>{try{const{data:u,error:c}=await le.rpc("add_card_to_collection",{nfc_id:a});if(c)throw c;if(!u.success)throw new Error(u.error);return await o(),!0}catch(u){return i(u instanceof Error?u.message:"Failed to add card"),!1}},refresh:o}}function wr({title:e,children:t}){const n=_.useRef(null),r=s=>{if(!n.current)return;const i=n.current.clientWidth*.8;n.current.scrollBy({left:s==="left"?-i:i,behavior:"smooth"})};return d.jsxs("div",{className:"relative py-8",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 px-8",children:e}),d.jsxs("div",{className:"group relative",children:[d.jsx("button",{onClick:()=>r("left"),className:`absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 p-2 rounded-full 
            text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/70
            disabled:opacity-0`,"aria-label":"Scroll left",children:d.jsx(Jv,{className:"w-6 h-6"})}),d.jsx("div",{ref:n,className:"flex gap-4 overflow-x-auto scrollbar-hide px-8 snap-x snap-mandatory",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:t}),d.jsx("button",{onClick:()=>r("right"),className:`absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-black/50 p-2 rounded-full 
            text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/70
            disabled:opacity-0`,"aria-label":"Scroll right",children:d.jsx(Qv,{className:"w-6 h-6"})})]})]})}function _r({children:e,aspectRatio:t="portrait",className:n="",onClick:r}){return d.jsx("div",{className:`flex-none snap-start cursor-pointer group ${t==="portrait"?"w-[200px]":"w-[300px]"} ${n}`,onClick:r,children:d.jsx("div",{className:`
        relative overflow-hidden rounded-lg shadow-lg transition-transform 
        duration-300 group-hover:scale-105 group-hover:shadow-xl
        ${t==="portrait"?"aspect-[2/3]":"aspect-video"}
      `,children:e})})}function Oy(){const{cards:e,loading:t}=Ty();if(t)return d.jsx("div",{className:"flex items-center justify-center h-[50vh]",children:d.jsx(ny,{className:"w-8 h-8 text-blue-500 animate-spin"})});const n=e.reduce((r,s)=>(r[s.rarity]||(r[s.rarity]=[]),r[s.rarity].push(s),r),{});return d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pt-20",children:[e.length>0&&d.jsxs("div",{className:"relative h-[60vh] min-h-[500px] mb-8",children:[d.jsx("img",{src:e[0].artwork_url||"https://images.unsplash.com/photo-1550745165-9bc0b252726f",alt:"Featured Card",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/50"}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:d.jsxs("div",{className:"max-w-2xl",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(ka,{className:"w-6 h-6 text-yellow-500"}),d.jsx("span",{className:"text-yellow-400 font-semibold uppercase",children:e[0].rarity})]}),d.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:e[0].game_title||"Collector's Item"}),d.jsxs("p",{className:"text-gray-200 text-lg",children:["Collected on ",new Date(e[0].collected_at).toLocaleDateString()]})]})})]}),Object.entries(n).map(([r,s])=>d.jsx(wr,{title:`${r} Cards`,children:s.map(i=>d.jsxs(_r,{children:[d.jsx("img",{src:i.artwork_url||"https://images.unsplash.com/photo-1550745165-9bc0b252726f",alt:i.game_title||"Card",className:"absolute inset-0 w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("div",{className:"absolute bottom-0 p-4",children:[d.jsx("h3",{className:"text-white font-semibold",children:i.game_title||"Collector's Card"}),d.jsx("p",{className:"text-gray-200 text-sm",children:new Date(i.collected_at).toLocaleDateString()})]})})]},i.nfc_id))},r))]})}const ic=[{handle:"ProGamer123",total_points:15750,games_played:142,total_playtime:"168:30:00",rank:1},{handle:"RetroKing",total_points:12340,games_played:98,total_playtime:"124:45:00",rank:2},{handle:"PixelMaster",total_points:8920,games_played:76,total_playtime:"89:15:00",rank:3}];function Ry(){const e=ic[0];return d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pt-20",children:[d.jsxs("div",{className:"relative h-[60vh] min-h-[500px] mb-8",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600 to-blue-600"}),d.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1511512578047-dfb367046420')] bg-cover bg-center opacity-20"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/50"}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:d.jsxs("div",{className:"max-w-2xl",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(ka,{className:"w-8 h-8 text-yellow-500"}),d.jsx("span",{className:"text-yellow-400 font-semibold text-xl",children:"#1 Player"})]}),d.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:e.handle}),d.jsxs("div",{className:"flex gap-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(rf,{className:"w-5 h-5 text-yellow-500"}),d.jsxs("span",{className:"text-white",children:[e.total_points.toLocaleString()," points"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(py,{className:"w-5 h-5 text-blue-400"}),d.jsxs("span",{className:"text-white",children:[e.games_played," games played"]})]})]})]})})]}),d.jsx(wr,{title:"Top Players",children:ic.map(t=>d.jsx(_r,{aspectRatio:"landscape",children:d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600 to-blue-600",children:d.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(iy,{className:`w-6 h-6 ${t.rank===1?"text-yellow-400":t.rank===2?"text-gray-300":"text-amber-700"}`}),d.jsxs("span",{className:"text-white font-bold",children:["#",t.rank]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.handle}),d.jsxs("p",{className:"text-white/80",children:[t.total_points.toLocaleString()," points"]}),d.jsxs("p",{className:"text-white/60 text-sm",children:[t.games_played," games played"]})]})]})})},t.handle))})]})}function Ly({title:e,description:t,imageUrl:n,onPlay:r,onInfo:s}){return d.jsxs("div",{className:"relative h-[80vh] min-h-[600px]",children:[d.jsxs("div",{className:"absolute inset-0",children:[d.jsx("img",{src:n,alt:e,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/50"})]}),d.jsx("div",{className:"relative h-full flex items-end pb-20 px-8",children:d.jsxs("div",{className:"max-w-2xl space-y-6",children:[d.jsx("h1",{className:"text-5xl font-bold text-white",children:e}),d.jsx("p",{className:"text-lg text-gray-200",children:t}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-8 py-3 bg-white text-gray-900 rounded-lg
                font-semibold hover:bg-gray-100 transition-colors`,children:[d.jsx(ay,{className:"w-5 h-5"}),"Play"]}),d.jsxs("button",{onClick:s,className:`flex items-center gap-2 px-8 py-3 bg-gray-500/70 text-white rounded-lg
                font-semibold hover:bg-gray-500/80 transition-colors`,children:[d.jsx(Xv,{className:"w-5 h-5"}),"More Info"]})]})]})})]})}const fo=[{id:"smb-1",title:"Super Mario Bros.",system_id:"nes",path:"/NES/USA/Super%20Mario%20Bros.%20(USA).nes",description:"The classic platformer where Mario saves Princess Peach.",cover_url:"https://images.launchbox-app.com/e078d459-a166-47a2-9b5a-26a9fd7cd924.jpg",favorite:!0,release_year:"1985",developer:"Nintendo",genre:"Platformer"},{id:"zelda-1",title:"The Legend of Zelda",system_id:"nes",path:"/NES/USA/Legend%20of%20Zelda,%20The%20(USA)%20(Rev%201).nes",description:"Explore dungeons, solve puzzles, and defeat Ganon!",cover_url:"https://images.launchbox-app.com/cf17144e-91bb-4727-953b-905aa894644c.png",favorite:!1,release_year:"1986",developer:"Nintendo",genre:"Action-Adventure"},{id:"smw-1",title:"Super Mario World",system_id:"snes",path:"/SNES/USA/Super%20Mario%20World%20(USA).sfc",description:"Join Mario and Yoshi in this epic adventure!",cover_url:"https://images.launchbox-app.com/1a175c33-1c72-4524-bc46-9f88b566cb16.jpg",favorite:!0,release_year:"1990",developer:"Nintendo",genre:"Platformer"},{id:"alttp-1",title:"The Legend of Zelda: A Link to the Past",system_id:"snes",path:"/SNES/USA/Legend%20of%20Zelda,%20The%20-%20A%20Link%20to%20the%20Past%20(USA).sfc",description:"Help Link save Hyrule in this SNES classic.",cover_url:"https://images.launchbox-app.com/04cfaf16-9aa5-42da-b326-a43149b01f75.jpg",favorite:!1,release_year:"1991",developer:"Nintendo",genre:"Action-Adventure"},{id:"sonic-1",title:"Sonic the Hedgehog",system_id:"genesis",path:"/Genesis/Sonic%20The%20Hedgehog%20(USA).md",description:"Speed through levels and stop Dr. Robotnik!",cover_url:"https://images.launchbox-app.com/f7f1fdbd-fc6f-430c-8a33-35516e01690c.png",favorite:!0,release_year:"1991",developer:"Sega",genre:"Platformer"},{id:"sor-1",title:"Streets of Rage",system_id:"genesis",path:"/Genesis/Streets%20of%20Rage%202%20(USA).md",description:"Fight against crime in this beat 'em up classic.",cover_url:"https://images.launchbox-app.com/75e8efc5-67bb-4dd3-971f-2784dbb8529e.jpg",favorite:!1,release_year:"1991",developer:"Sega",genre:"Beat-em-up"},{id:"mgs-1",title:"Metal Gear Solid",system_id:"psx",path:"/PSX/USA/Multi%20Disc%20(CHD)/Metal%20Gear%20Solid%20(USA)/Metal%20Gear%20Solid%20(USA)%20(Disc%201)%20(v1.1).chd",description:"Solid Snake must stop the terrorists at Shadow Moses.",cover_url:"https://images.launchbox-app.com/5e05d377-f292-41ec-a652-1b817ea2f7bb.jpg",favorite:!0,release_year:"1998",developer:"Konami",genre:"Action-Adventure"},{id:"crash-3",title:"Crash Bandicoot 3",system_id:"psx",path:"/PSX/USA/Crash%20Bandicoot%20-%20Warped%20(USA).chd",description:"Gather all crystal by traveling back in different time periods and stop DR. Neo Cortex.",cover_url:"https://images.launchbox-app.com/62058421-e686-46b2-a731-4a7a401bfb07.jpg",favorite:!1,release_year:"1998",developer:"Naughty Dog",genre:"Platformer"}];function Ay(){const{launchGame:e}=uf(),t=fo[0];return d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[d.jsx(Ly,{title:t.title,description:t.description||"",imageUrl:t.cover_url||"https://images.unsplash.com/photo-1550745165-9bc0b252726f",onPlay:()=>t.path&&e(t.path)}),d.jsxs("div",{className:"-mt-32 relative z-10",children:[d.jsx(wr,{title:"Popular Systems",children:af.map(n=>d.jsx(_r,{aspectRatio:"landscape",children:d.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n.gradient||"from-blue-500 to-blue-600"}`,children:d.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col justify-between",children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:n.name}),d.jsx("p",{className:"text-white/80 text-sm",children:n.manufacturer})]})})},n.id))}),d.jsx(wr,{title:"Recently Added",children:fo.map(n=>d.jsxs(_r,{children:[d.jsx("img",{src:n.cover_url||"https://images.unsplash.com/photo-1550745165-9bc0b252726f",alt:n.title,className:"absolute inset-0 w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("div",{className:"absolute bottom-0 p-4",children:[d.jsx("h3",{className:"text-white font-semibold",children:n.title}),d.jsx("p",{className:"text-gray-200 text-sm",children:n.developer})]})})]},n.id))}),d.jsx(wr,{title:"Your Collection",children:fo.filter(n=>n.favorite).map(n=>d.jsxs(_r,{children:[d.jsx("img",{src:n.cover_url||"https://images.unsplash.com/photo-1550745165-9bc0b252726f",alt:n.title,className:"absolute inset-0 w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("div",{className:"absolute bottom-0 p-4",children:[d.jsx("h3",{className:"text-white font-semibold",children:n.title}),d.jsx("p",{className:"text-gray-200 text-sm",children:n.system_id})]})})]},n.id))})]})]})}function $y({value:e,onChange:t,isConnected:n}){const[r,s]=_.useState(""),[i,o]=_.useState(e),[l,a]=_.useState(!1);_.useEffect(()=>{o(e),a(!1)},[e]);const u=g=>g?/^(https?:\/\/)?(\d{1,3}\.){3}\d{1,3}(:\d+)?$/.test(g)?g.replace(/^https?:\/\//,"").split(":")[0].split(".").every(m=>{const p=parseInt(m,10);return p>=0&&p<=255}):!1:!0,c=g=>{const y=g.target.value;o(y),a(!0),u(y)?s(""):s("Please enter a valid IP address (e.g., 192.168.1.1)")},h=()=>{u(i)&&(t(i),a(!1),s(""))},f=g=>{g.key==="Enter"&&!r&&l&&h()};return d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"MiSTer IP Address (e.g., 192.168.1.100)"}),d.jsx(cf,{isConnected:n})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(tf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{type:"text",value:i,onChange:c,onKeyDown:f,placeholder:"Enter MiSTer IP address",className:"w-full pl-10 pr-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 dark:text-white transition-colors text-base","aria-label":"MiSTer IP Address"})]}),d.jsxs("button",{onClick:h,disabled:!l||!!r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[d.jsx(uy,{className:"w-5 h-5"}),d.jsx("span",{children:"Save"})]})]}),r&&d.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:r})]})}class Iy{constructor(t){this.ws=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3;const n=t.replace(/^https?:\/\//,"").replace(/\/$/,"");this.url=`ws://${n}:7497/ws`}connect(){return new Promise((t,n)=>{try{if(!this.url.match(/^ws:\/\/[\d.]+:7497\/ws$/))throw new Error("Invalid WebSocket URL");this.ws=new WebSocket(this.url);const r=setTimeout(()=>{var s,i;((s=this.ws)==null?void 0:s.readyState)!==WebSocket.OPEN&&((i=this.ws)==null||i.close(),n(new Error("Connection timeout")))},5e3);this.ws.onopen=()=>{console.log("Connected to WebSocket"),clearTimeout(r),this.reconnectAttempts=0,t()},this.ws.onerror=s=>{console.error("WebSocket error:",s),clearTimeout(r),n(s)},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.handleReconnect()}}catch(r){n(r)}})}handleReconnect(){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(`Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),setTimeout(()=>{this.connect().catch(t=>{console.error("Reconnection failed:",t)})},this.reconnectDelay*this.reconnectAttempts))}disconnect(){this.ws&&(this.ws.close(),this.ws=null,this.reconnectAttempts=this.maxReconnectAttempts)}send(t,n){if(!this.ws)throw new Error("WebSocket not connected");if(this.ws.readyState!==WebSocket.OPEN)throw new Error("WebSocket connection not open");const r=crypto.randomUUID(),s={jsonrpc:"2.0",method:t,params:n,id:r};this.ws.send(JSON.stringify(s))}onMessage(t){if(!this.ws)throw new Error("WebSocket not connected");this.ws.onmessage=n=>{try{const r=JSON.parse(n.data);t(r)}catch(r){console.error("Error parsing WebSocket message:",r)}}}}function Uy(){const[e,t]=_.useState(null),[n,r]=_.useState(!1),[s,i]=_.useState(null),{settings:o,updateSettings:l}=xa(),a=_.useCallback(f=>f.replace(/^https?:\/\//,"").replace(/\/$/,""),[]),u=_.useCallback(async()=>{if(!(o!=null&&o.ip_address)){i("MiSTer IP address not configured");return}try{const f=new Iy(a(o.ip_address));await f.connect(),t(f),r(!0),i(null),await l(o.ip_address,!0)}catch(f){const g=f instanceof Error?f.message:"Failed to connect to MiSTer";i(g),await l(o.ip_address,!1),console.error("WebSocket connection error:",f)}},[o==null?void 0:o.ip_address,l]),c=_.useCallback(()=>{e==null||e.disconnect(),t(null),r(!1),o!=null&&o.ip_address&&l(o.ip_address,!1)},[e]),h=_.useCallback(f=>{if(!e||!n){console.error("Cannot launch game: WebSocket not connected");return}const y=o.ip_address.startsWith("http://")||o.ip_address.startsWith("https://")?"":"http://",w=encodeURIComponent(f).replace(/%2F/g,"/").replace(/%20/g," "),x=`${y}${a(o.ip_address)}:7497/l/${w}`;window.location.href=x},[e,n,o==null?void 0:o.ip_address]);return _.useEffect(()=>(o!=null&&o.ip_address&&u(),()=>{c()}),[o==null?void 0:o.ip_address,u,c]),{isConnected:n,error:s,launchGame:h}}function po({isOpen:e,onClose:t}){const{settings:n,updateSettings:r}=xa(),{isConnected:s}=Uy(),i=async o=>{try{await r(o,s)}catch(l){console.error("Failed to update MiSTer settings:",l)}};return e?d.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm overflow-y-auto",children:d.jsx("div",{className:"min-h-screen sm:flex sm:items-center sm:p-4",children:d.jsxs("div",{className:"w-full sm:max-w-2xl mx-auto bg-white dark:bg-gray-800 sm:rounded-2xl shadow-xl animate-fade-in",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(nf,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Settings"})]}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:d.jsx(of,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})})]}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{children:[d.jsxs("h3",{className:"flex items-center gap-2 text-lg font-medium text-gray-900 dark:text-white mb-4",children:[d.jsx(tf,{className:"w-5 h-5"}),"Connection Settings"]}),d.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:d.jsx($y,{value:(n==null?void 0:n.ip_address)||"",onChange:i,isConnected:s})})]})})})]})})}):null}function My(){const[e,t]=_.useState(!1),[n,r]=_.useState(!1);return d.jsx($m,{children:d.jsxs(Rm,{children:[d.jsx(cn,{path:"/auth",element:d.jsx(ky,{})}),d.jsx(cn,{path:"/auth/callback",element:d.jsx(Hv,{})}),d.jsx(cn,{path:"/collection",element:d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors relative",children:[d.jsx(ho,{onOpenSettings:()=>t(!0),onMenuClick:()=>r(!0)}),d.jsx(co,{isOpen:n,onClose:()=>r(!1)}),d.jsx(po,{isOpen:e,onClose:()=>t(!1)}),d.jsx(Oy,{})]})}),d.jsx(cn,{path:"/leaderboard",element:d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors relative",children:[d.jsx(ho,{onOpenSettings:()=>t(!0),onMenuClick:()=>r(!0)}),d.jsx(co,{isOpen:n,onClose:()=>r(!1)}),d.jsx(po,{isOpen:e,onClose:()=>t(!1)}),d.jsx(Ry,{})]})}),d.jsx(cn,{path:"/",element:d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors relative",children:[d.jsx(ho,{onOpenSettings:()=>t(!0),onMenuClick:()=>r(!0)}),d.jsx(co,{isOpen:n,onClose:()=>r(!1)}),d.jsx(po,{isOpen:e,onClose:()=>t(!1)}),d.jsx(Ay,{})]})})]})})}const Dy=_.createContext(void 0);function zy({children:e}){const[t,n]=_.useState(()=>localStorage.getItem("theme")||"light");_.useEffect(()=>{localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",t==="dark")},[t]);const r=()=>{n(s=>s==="light"?"dark":"light")};return d.jsx(Dy.Provider,{value:{theme:t,toggleTheme:r},children:e})}function Fy({children:e}){const[t,n]=_.useState(null),[r,s]=_.useState(!0),[i,o]=_.useState(null);_.useEffect(()=>{le.auth.getSession().then(({data:{session:f}})=>{n((f==null?void 0:f.user)??null),s(!1)});const{data:{subscription:h}}=le.auth.onAuthStateChange((f,g)=>{n((g==null?void 0:g.user)??null),s(!1)});return()=>h.unsubscribe()},[]);const c={user:t,loading:r,error:i,signIn:async(h,f)=>{try{if(!h||!f)return{error:"Please enter your email and password"};const{error:g}=await le.auth.signInWithPassword({email:h,password:f});return g?{error:g.message==="Invalid login credentials"?"Invalid email or password":"Unable to sign in. Please try again."}:{error:null}}catch(g){return console.error("Unexpected error during sign in:",g),{error:"Unable to connect to the server. Please try again later."}}},signUp:async(h,f)=>{try{if(!h||!f)return{error:"Email and password are required"};const{error:g}=await le.auth.signUp({email:h,password:f,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});return g?(console.error("Sign up error:",g),{error:g.message}):{error:null}}catch(g){return console.error("Unexpected error during sign up:",g),{error:"Failed to create account. Please try again."}}},signOut:async()=>{try{const{error:h}=await le.auth.signOut();if(h)throw h;n(null),window.location.replace("/auth")}catch(h){console.error("Error signing out:",h),n(null),window.location.replace("/auth")}}};return d.jsx(ef.Provider,{value:c,children:e})}yh(document.getElementById("root")).render(d.jsx(_.StrictMode,{children:d.jsx(Fy,{children:d.jsx(zy,{children:d.jsx(My,{})})})}));export{ff as g};
